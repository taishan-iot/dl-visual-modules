(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();function dx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var vu={exports:{}},Di={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function I0(){if(xg)return Di;xg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,r,o){var d=null;if(o!==void 0&&(d=""+o),r.key!==void 0&&(d=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:s,type:i,key:d,ref:r!==void 0?r:null,props:o}}return Di.Fragment=t,Di.jsx=a,Di.jsxs=a,Di}var bg;function ev(){return bg||(bg=1,vu.exports=I0()),vu.exports}var u=ev(),ju={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function tv(){if(yg)return ce;yg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function v(A){return A===null||typeof A!="object"?null:(A=b&&A[b]||A["@@iterator"],typeof A=="function"?A:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function M(A,q,W){this.props=A,this.context=q,this.refs=N,this.updater=W||j}M.prototype.isReactComponent={},M.prototype.setState=function(A,q){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,q,"setState")},M.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function E(){}E.prototype=M.prototype;function C(A,q,W){this.props=A,this.context=q,this.refs=N,this.updater=W||j}var V=C.prototype=new E;V.constructor=C,S(V,M.prototype),V.isPureReactComponent=!0;var U=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function X(A,q,W,Z,I,he){return W=he.ref,{$$typeof:s,type:A,key:q,ref:W!==void 0?W:null,props:he}}function Q(A,q){return X(A.type,q,void 0,void 0,void 0,A.props)}function $(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function oe(A){var q={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return q[W]})}var ie=/\/+/g;function re(A,q){return typeof A=="object"&&A!==null&&A.key!=null?oe(""+A.key):q.toString(36)}function ke(){}function Ke(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ke,ke):(A.status="pending",A.then(function(q){A.status==="pending"&&(A.status="fulfilled",A.value=q)},function(q){A.status==="pending"&&(A.status="rejected",A.reason=q)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function de(A,q,W,Z,I){var he=typeof A;(he==="undefined"||he==="boolean")&&(A=null);var ne=!1;if(A===null)ne=!0;else switch(he){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(A.$$typeof){case s:case t:ne=!0;break;case x:return ne=A._init,de(ne(A._payload),q,W,Z,I)}}if(ne)return I=I(A),ne=Z===""?"."+re(A,0):Z,U(I)?(W="",ne!=null&&(W=ne.replace(ie,"$&/")+"/"),de(I,q,W,"",function(Dn){return Dn})):I!=null&&($(I)&&(I=Q(I,W+(I.key==null||A&&A.key===I.key?"":(""+I.key).replace(ie,"$&/")+"/")+ne)),q.push(I)),1;ne=0;var xt=Z===""?".":Z+":";if(U(A))for(var Ce=0;Ce<A.length;Ce++)Z=A[Ce],he=xt+re(Z,Ce),ne+=de(Z,q,W,he,I);else if(Ce=v(A),typeof Ce=="function")for(A=Ce.call(A),Ce=0;!(Z=A.next()).done;)Z=Z.value,he=xt+re(Z,Ce++),ne+=de(Z,q,W,he,I);else if(he==="object"){if(typeof A.then=="function")return de(Ke(A),q,W,Z,I);throw q=String(A),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return ne}function H(A,q,W){if(A==null)return A;var Z=[],I=0;return de(A,Z,"","",function(he){return q.call(W,he,I++)}),Z}function G(A){if(A._status===-1){var q=A._result;q=q(),q.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=q)}if(A._status===1)return A._result.default;throw A._result}var te=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function ye(){}return ce.Children={map:H,forEach:function(A,q,W){H(A,function(){q.apply(this,arguments)},W)},count:function(A){var q=0;return H(A,function(){q++}),q},toArray:function(A){return H(A,function(q){return q})||[]},only:function(A){if(!$(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ce.Component=M,ce.Fragment=a,ce.Profiler=r,ce.PureComponent=C,ce.StrictMode=i,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,ce.__COMPILER_RUNTIME={__proto__:null,c:function(A){return B.H.useMemoCache(A)}},ce.cache=function(A){return function(){return A.apply(null,arguments)}},ce.cloneElement=function(A,q,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Z=S({},A.props),I=A.key,he=void 0;if(q!=null)for(ne in q.ref!==void 0&&(he=void 0),q.key!==void 0&&(I=""+q.key),q)!K.call(q,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&q.ref===void 0||(Z[ne]=q[ne]);var ne=arguments.length-2;if(ne===1)Z.children=W;else if(1<ne){for(var xt=Array(ne),Ce=0;Ce<ne;Ce++)xt[Ce]=arguments[Ce+2];Z.children=xt}return X(A.type,I,void 0,void 0,he,Z)},ce.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},ce.createElement=function(A,q,W){var Z,I={},he=null;if(q!=null)for(Z in q.key!==void 0&&(he=""+q.key),q)K.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(I[Z]=q[Z]);var ne=arguments.length-2;if(ne===1)I.children=W;else if(1<ne){for(var xt=Array(ne),Ce=0;Ce<ne;Ce++)xt[Ce]=arguments[Ce+2];I.children=xt}if(A&&A.defaultProps)for(Z in ne=A.defaultProps,ne)I[Z]===void 0&&(I[Z]=ne[Z]);return X(A,he,void 0,void 0,null,I)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(A){return{$$typeof:h,render:A}},ce.isValidElement=$,ce.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:G}},ce.memo=function(A,q){return{$$typeof:g,type:A,compare:q===void 0?null:q}},ce.startTransition=function(A){var q=B.T,W={};B.T=W;try{var Z=A(),I=B.S;I!==null&&I(W,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ye,te)}catch(he){te(he)}finally{B.T=q}},ce.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},ce.use=function(A){return B.H.use(A)},ce.useActionState=function(A,q,W){return B.H.useActionState(A,q,W)},ce.useCallback=function(A,q){return B.H.useCallback(A,q)},ce.useContext=function(A){return B.H.useContext(A)},ce.useDebugValue=function(){},ce.useDeferredValue=function(A,q){return B.H.useDeferredValue(A,q)},ce.useEffect=function(A,q,W){var Z=B.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(A,q)},ce.useId=function(){return B.H.useId()},ce.useImperativeHandle=function(A,q,W){return B.H.useImperativeHandle(A,q,W)},ce.useInsertionEffect=function(A,q){return B.H.useInsertionEffect(A,q)},ce.useLayoutEffect=function(A,q){return B.H.useLayoutEffect(A,q)},ce.useMemo=function(A,q){return B.H.useMemo(A,q)},ce.useOptimistic=function(A,q){return B.H.useOptimistic(A,q)},ce.useReducer=function(A,q,W){return B.H.useReducer(A,q,W)},ce.useRef=function(A){return B.H.useRef(A)},ce.useState=function(A){return B.H.useState(A)},ce.useSyncExternalStore=function(A,q,W){return B.H.useSyncExternalStore(A,q,W)},ce.useTransition=function(){return B.H.useTransition()},ce.version="19.1.1",ce}var vg;function nd(){return vg||(vg=1,ju.exports=tv()),ju.exports}var R=nd();const sd=dx(R);var _u={exports:{}},Oi={},Nu={exports:{}},Su={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function nv(){return jg||(jg=1,(function(s){function t(H,G){var te=H.length;H.push(G);e:for(;0<te;){var ye=te-1>>>1,A=H[ye];if(0<r(A,G))H[ye]=G,H[te]=A,te=ye;else break e}}function a(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var G=H[0],te=H.pop();if(te!==G){H[0]=te;e:for(var ye=0,A=H.length,q=A>>>1;ye<q;){var W=2*(ye+1)-1,Z=H[W],I=W+1,he=H[I];if(0>r(Z,te))I<A&&0>r(he,Z)?(H[ye]=he,H[I]=te,ye=I):(H[ye]=Z,H[W]=te,ye=W);else if(I<A&&0>r(he,te))H[ye]=he,H[I]=te,ye=I;else break e}}return G}function r(H,G){var te=H.sortIndex-G.sortIndex;return te!==0?te:H.id-G.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var d=Date,h=d.now();s.unstable_now=function(){return d.now()-h}}var m=[],g=[],x=1,b=null,v=3,j=!1,S=!1,N=!1,M=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function U(H){for(var G=a(g);G!==null;){if(G.callback===null)i(g);else if(G.startTime<=H)i(g),G.sortIndex=G.expirationTime,t(m,G);else break;G=a(g)}}function B(H){if(N=!1,U(H),!S)if(a(m)!==null)S=!0,K||(K=!0,re());else{var G=a(g);G!==null&&de(B,G.startTime-H)}}var K=!1,X=-1,Q=5,$=-1;function oe(){return M?!0:!(s.unstable_now()-$<Q)}function ie(){if(M=!1,K){var H=s.unstable_now();$=H;var G=!0;try{e:{S=!1,N&&(N=!1,C(X),X=-1),j=!0;var te=v;try{t:{for(U(H),b=a(m);b!==null&&!(b.expirationTime>H&&oe());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,v=b.priorityLevel;var A=ye(b.expirationTime<=H);if(H=s.unstable_now(),typeof A=="function"){b.callback=A,U(H),G=!0;break t}b===a(m)&&i(m),U(H)}else i(m);b=a(m)}if(b!==null)G=!0;else{var q=a(g);q!==null&&de(B,q.startTime-H),G=!1}}break e}finally{b=null,v=te,j=!1}G=void 0}}finally{G?re():K=!1}}}var re;if(typeof V=="function")re=function(){V(ie)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ke=ke.port2;ke.port1.onmessage=ie,re=function(){Ke.postMessage(null)}}else re=function(){E(ie,0)};function de(H,G){X=E(function(){H(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(H){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var te=v;v=G;try{return H()}finally{v=te}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=v;v=H;try{return G()}finally{v=te}},s.unstable_scheduleCallback=function(H,G,te){var ye=s.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ye+te:ye):te=ye,H){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=te+A,H={id:x++,callback:G,priorityLevel:H,startTime:te,expirationTime:A,sortIndex:-1},te>ye?(H.sortIndex=te,t(g,H),a(m)===null&&H===a(g)&&(N?(C(X),X=-1):N=!0,de(B,te-ye))):(H.sortIndex=A,t(m,H),S||j||(S=!0,K||(K=!0,re()))),H},s.unstable_shouldYield=oe,s.unstable_wrapCallback=function(H){var G=v;return function(){var te=v;v=G;try{return H.apply(this,arguments)}finally{v=te}}}})(Su)),Su}var _g;function sv(){return _g||(_g=1,Nu.exports=nv()),Nu.exports}var Mu={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function av(){if(Ng)return it;Ng=1;var s=nd();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(m,g,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:m,containerInfo:g,implementation:x}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,it.createPortal=function(m,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(m,g,null,x)},it.flushSync=function(m){var g=d.T,x=i.p;try{if(d.T=null,i.p=2,m)return m()}finally{d.T=g,i.p=x,i.d.f()}},it.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},it.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},it.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var x=g.as,b=h(x,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:j}):x==="script"&&i.d.X(m,{crossOrigin:b,integrity:v,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},it.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=h(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},it.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,b=h(x,g.crossOrigin);i.d.L(m,x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},it.preloadModule=function(m,g){if(typeof m=="string")if(g){var x=h(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},it.requestFormReset=function(m){i.d.r(m)},it.unstable_batchedUpdates=function(m,g){return m(g)},it.useFormState=function(m,g,x){return d.H.useFormState(m,g,x)},it.useFormStatus=function(){return d.H.useHostTransitionStatus()},it.version="19.1.1",it}var Sg;function iv(){if(Sg)return Mu.exports;Sg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Mu.exports=av(),Mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function lv(){if(Mg)return Oi;Mg=1;var s=sv(),t=nd(),a=iv();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(i(188))}function m(e){var n=e.alternate;if(!n){if(n=o(e),n===null)throw Error(i(188));return n!==e?null:e}for(var l=e,c=n;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return h(f),e;if(p===c)return h(f),n;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=f,c=p;else{for(var y=!1,_=f.child;_;){if(_===l){y=!0,l=f,c=p;break}if(_===c){y=!0,c=f,l=p;break}_=_.sibling}if(!y){for(_=p.child;_;){if(_===l){y=!0,l=p,c=f;break}if(_===c){y=!0,c=p,l=f;break}_=_.sibling}if(!y)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=ie&&e[ie]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function Ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case B:return"Suspense";case K:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case V:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case U:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:Ke(e.type)||"Memo";case Q:n=e._payload,e=e._init;try{return Ke(e(n))}catch{}}return null}var de=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ye=[],A=-1;function q(e){return{current:e}}function W(e){0>A||(e.current=ye[A],ye[A]=null,A--)}function Z(e,n){A++,ye[A]=e.current,e.current=n}var I=q(null),he=q(null),ne=q(null),xt=q(null);function Ce(e,n){switch(Z(ne,n),Z(he,e),Z(I,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Xm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Xm(n),e=Gm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(I),Z(I,e)}function Dn(){W(I),W(he),W(ne)}function ao(e){e.memoizedState!==null&&Z(xt,e);var n=I.current,l=Gm(n,e.type);n!==l&&(Z(he,e),Z(I,l))}function nl(e){he.current===e&&(W(I),W(he)),xt.current===e&&(W(xt),Si._currentValue=te)}var io=Object.prototype.hasOwnProperty,lo=s.unstable_scheduleCallback,ro=s.unstable_cancelCallback,Rb=s.unstable_shouldYield,Cb=s.unstable_requestPaint,Gt=s.unstable_now,wb=s.unstable_getCurrentPriorityLevel,Sd=s.unstable_ImmediatePriority,Md=s.unstable_UserBlockingPriority,sl=s.unstable_NormalPriority,zb=s.unstable_LowPriority,Td=s.unstable_IdlePriority,Lb=s.log,kb=s.unstable_setDisableYieldValue,Ca=null,bt=null;function On(e){if(typeof Lb=="function"&&kb(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Ca,e)}catch{}}var yt=Math.clz32?Math.clz32:Ub,Bb=Math.log,Hb=Math.LN2;function Ub(e){return e>>>=0,e===0?32:31-(Bb(e)/Hb|0)|0}var al=256,il=4194304;function rs(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ll(e,n,l){var c=e.pendingLanes;if(c===0)return 0;var f=0,p=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=c&134217727;return _!==0?(c=_&~p,c!==0?f=rs(c):(y&=_,y!==0?f=rs(y):l||(l=_&~e,l!==0&&(f=rs(l))))):(_=c&~p,_!==0?f=rs(_):y!==0?f=rs(y):l||(l=c&~e,l!==0&&(f=rs(l)))),f===0?0:n!==0&&n!==f&&(n&p)===0&&(p=f&-f,l=n&-n,p>=l||p===32&&(l&4194048)!==0)?n:f}function wa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ed(){var e=al;return al<<=1,(al&4194048)===0&&(al=256),e}function Ad(){var e=il;return il<<=1,(il&62914560)===0&&(il=4194304),e}function oo(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function za(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fb(e,n,l,c,f,p){var y=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,T=e.expirationTimes,z=e.hiddenUpdates;for(l=y&~l;0<l;){var F=31-yt(l),Y=1<<F;_[F]=0,T[F]=-1;var L=z[F];if(L!==null)for(z[F]=null,F=0;F<L.length;F++){var k=L[F];k!==null&&(k.lane&=-536870913)}l&=~Y}c!==0&&Dd(e,c,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(y&~n))}function Dd(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var c=31-yt(n);e.entangledLanes|=n,e.entanglements[c]=e.entanglements[c]|1073741824|l&4194090}function Od(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var c=31-yt(l),f=1<<c;f&n|e[c]&n&&(e[c]|=n),l&=~f}}function co(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rd(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:dg(e.type))}function Pb(e,n){var l=G.p;try{return G.p=e,n()}finally{G.p=l}}var Rn=Math.random().toString(36).slice(2),st="__reactFiber$"+Rn,ut="__reactProps$"+Rn,ks="__reactContainer$"+Rn,ho="__reactEvents$"+Rn,Yb="__reactListeners$"+Rn,qb="__reactHandles$"+Rn,Cd="__reactResources$"+Rn,La="__reactMarker$"+Rn;function fo(e){delete e[st],delete e[ut],delete e[ho],delete e[Yb],delete e[qb]}function Bs(e){var n=e[st];if(n)return n;for(var l=e.parentNode;l;){if(n=l[ks]||l[st]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Wm(e);e!==null;){if(l=e[st])return l;e=Wm(e)}return n}e=l,l=e.parentNode}return null}function Hs(e){if(e=e[st]||e[ks]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ka(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function Us(e){var n=e[Cd];return n||(n=e[Cd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[La]=!0}var wd=new Set,zd={};function os(e,n){Vs(e,n),Vs(e+"Capture",n)}function Vs(e,n){for(zd[e]=n,e=0;e<n.length;e++)wd.add(n[e])}var Xb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ld={},kd={};function Gb(e){return io.call(kd,e)?!0:io.call(Ld,e)?!1:Xb.test(e)?kd[e]=!0:(Ld[e]=!0,!1)}function rl(e,n,l){if(Gb(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function ol(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function ln(e,n,l,c){if(c===null)e.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+c)}}var mo,Bd;function Fs(e){if(mo===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);mo=n&&n[1]||"",Bd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+e+Bd}var go=!1;function po(e,n){if(!e||go)return"";go=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var L=k}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(k){L=k}e.call(Y.prototype)}}else{try{throw Error()}catch(k){L=k}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&L&&typeof k.stack=="string")return[k.stack,L.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),y=p[0],_=p[1];if(y&&_){var T=y.split(`
`),z=_.split(`
`);for(f=c=0;c<T.length&&!T[c].includes("DetermineComponentFrameRoot");)c++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(c===T.length||f===z.length)for(c=T.length-1,f=z.length-1;1<=c&&0<=f&&T[c]!==z[f];)f--;for(;1<=c&&0<=f;c--,f--)if(T[c]!==z[f]){if(c!==1||f!==1)do if(c--,f--,0>f||T[c]!==z[f]){var F=`
`+T[c].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=c&&0<=f);break}}}finally{go=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Fs(l):""}function Qb(e){switch(e.tag){case 26:case 27:case 5:return Fs(e.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 15:return po(e.type,!1);case 11:return po(e.type.render,!1);case 1:return po(e.type,!0);case 31:return Fs("Activity");default:return""}}function Hd(e){try{var n="";do n+=Qb(e),e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ud(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kb(e){var n=Ud(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,p.call(this,y)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function cl(e){e._valueTracker||(e._valueTracker=Kb(e))}function Vd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),c="";return e&&(c=Ud(e)?e.checked?"true":"false":e.value),e=c,e!==l?(n.setValue(e),!0):!1}function ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zb=/[\n"\\]/g;function Ot(e){return e.replace(Zb,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function xo(e,n,l,c,f,p,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?bo(e,y,Dt(n)):l!=null?bo(e,y,Dt(l)):c!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Dt(_):e.removeAttribute("name")}function Fd(e,n,l,c,f,p,y,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||n!=null))return;l=l!=null?""+Dt(l):"",n=n!=null?""+Dt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=_?e.checked:!!c,e.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function bo(e,n,l){n==="number"&&ul(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ps(e,n,l,c){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&c&&(e[l].defaultSelected=!0)}else{for(l=""+Dt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,c&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Pd(e,n,l){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Dt(l):""}function Yd(e,n,l,c){if(n==null){if(c!=null){if(l!=null)throw Error(i(92));if(de(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),n=l}l=Dt(n),e.defaultValue=l,c=e.textContent,c===l&&c!==""&&c!==null&&(e.value=c)}function Ys(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var Wb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(e,n,l){var c=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":c?e.setProperty(n,l):typeof l!="number"||l===0||Wb.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Xd(e,n,l){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var f in n)c=n[f],n.hasOwnProperty(f)&&l[f]!==c&&qd(e,f,c)}else for(var p in n)n.hasOwnProperty(p)&&qd(e,p,n[p])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $b=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(e){return Jb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vo=null;function jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qs=null,Xs=null;function Gd(e){var n=Hs(e);if(n&&(e=n.stateNode)){var l=e[ut]||null;e:switch(e=n.stateNode,n.type){case"input":if(xo(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ot(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var c=l[n];if(c!==e&&c.form===e.form){var f=c[ut]||null;if(!f)throw Error(i(90));xo(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)c=l[n],c.form===e.form&&Vd(c)}break e;case"textarea":Pd(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ps(e,!!l.multiple,n,!1)}}}var _o=!1;function Qd(e,n,l){if(_o)return e(n,l);_o=!0;try{var c=e(n);return c}finally{if(_o=!1,(qs!==null||Xs!==null)&&(Wl(),qs&&(n=qs,e=Xs,Xs=qs=null,Gd(n),e)))for(n=0;n<e.length;n++)Gd(e[n])}}function Ba(e,n){var l=e.stateNode;if(l===null)return null;var c=l[ut]||null;if(c===null)return null;l=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(i(231,n,typeof l));return l}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(rn)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){No=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{No=!1}var Cn=null,So=null,hl=null;function Kd(){if(hl)return hl;var e,n=So,l=n.length,c,f="value"in Cn?Cn.value:Cn.textContent,p=f.length;for(e=0;e<l&&n[e]===f[e];e++);var y=l-e;for(c=1;c<=y&&n[l-c]===f[p-c];c++);return hl=f.slice(e,1<c?1-c:void 0)}function fl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function Zd(){return!1}function dt(e){function n(l,c,f,p,y){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ml:Zd,this.isPropagationStopped=Zd,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),n}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=dt(cs),Ua=x({},cs,{view:0,detail:0}),Ib=dt(Ua),Mo,To,Va,pl=x({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Va&&(Va&&e.type==="mousemove"?(Mo=e.screenX-Va.screenX,To=e.screenY-Va.screenY):To=Mo=0,Va=e),Mo)},movementY:function(e){return"movementY"in e?e.movementY:To}}),Wd=dt(pl),ey=x({},pl,{dataTransfer:0}),ty=dt(ey),ny=x({},Ua,{relatedTarget:0}),Eo=dt(ny),sy=x({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),ay=dt(sy),iy=x({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ly=dt(iy),ry=x({},cs,{data:0}),$d=dt(ry),oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uy[e])?!!n[e]:!1}function Ao(){return dy}var hy=x({},Ua,{key:function(e){if(e.key){var n=oy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fy=dt(hy),my=x({},pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=dt(my),gy=x({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),py=dt(gy),xy=x({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),by=dt(xy),yy=x({},pl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vy=dt(yy),jy=x({},cs,{newState:0,oldState:0}),_y=dt(jy),Ny=[9,13,27,32],Do=rn&&"CompositionEvent"in window,Fa=null;rn&&"documentMode"in document&&(Fa=document.documentMode);var Sy=rn&&"TextEvent"in window&&!Fa,Id=rn&&(!Do||Fa&&8<Fa&&11>=Fa),eh=" ",th=!1;function nh(e,n){switch(e){case"keyup":return Ny.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function My(e,n){switch(e){case"compositionend":return sh(n);case"keypress":return n.which!==32?null:(th=!0,eh);case"textInput":return e=n.data,e===eh&&th?null:e;default:return null}}function Ty(e,n){if(Gs)return e==="compositionend"||!Do&&nh(e,n)?(e=Kd(),hl=So=Cn=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Id&&n.locale!=="ko"?null:n.data;default:return null}}var Ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ah(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ey[e.type]:n==="textarea"}function ih(e,n,l,c){qs?Xs?Xs.push(c):Xs=[c]:qs=c,n=nr(n,"onChange"),0<n.length&&(l=new gl("onChange","change",null,l,c),e.push({event:l,listeners:n}))}var Pa=null,Ya=null;function Ay(e){Vm(e,0)}function xl(e){var n=ka(e);if(Vd(n))return e}function lh(e,n){if(e==="change")return n}var rh=!1;if(rn){var Oo;if(rn){var Ro="oninput"in document;if(!Ro){var oh=document.createElement("div");oh.setAttribute("oninput","return;"),Ro=typeof oh.oninput=="function"}Oo=Ro}else Oo=!1;rh=Oo&&(!document.documentMode||9<document.documentMode)}function ch(){Pa&&(Pa.detachEvent("onpropertychange",uh),Ya=Pa=null)}function uh(e){if(e.propertyName==="value"&&xl(Ya)){var n=[];ih(n,Ya,e,jo(e)),Qd(Ay,n)}}function Dy(e,n,l){e==="focusin"?(ch(),Pa=n,Ya=l,Pa.attachEvent("onpropertychange",uh)):e==="focusout"&&ch()}function Oy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xl(Ya)}function Ry(e,n){if(e==="click")return xl(n)}function Cy(e,n){if(e==="input"||e==="change")return xl(n)}function wy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var vt=typeof Object.is=="function"?Object.is:wy;function qa(e,n){if(vt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),c=Object.keys(n);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!io.call(n,f)||!vt(e[f],n[f]))return!1}return!0}function dh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hh(e,n){var l=dh(e);e=0;for(var c;l;){if(l.nodeType===3){if(c=e+l.textContent.length,e<=n&&c>=n)return{node:l,offset:n-e};e=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dh(l)}}function fh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?fh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ul(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=ul(e.document)}return n}function Co(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var zy=rn&&"documentMode"in document&&11>=document.documentMode,Qs=null,wo=null,Xa=null,zo=!1;function gh(e,n,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;zo||Qs==null||Qs!==ul(c)||(c=Qs,"selectionStart"in c&&Co(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xa&&qa(Xa,c)||(Xa=c,c=nr(wo,"onSelect"),0<c.length&&(n=new gl("onSelect","select",null,n,l),e.push({event:n,listeners:c}),n.target=Qs)))}function us(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ks={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Lo={},ph={};rn&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function ds(e){if(Lo[e])return Lo[e];if(!Ks[e])return e;var n=Ks[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in ph)return Lo[e]=n[l];return e}var xh=ds("animationend"),bh=ds("animationiteration"),yh=ds("animationstart"),Ly=ds("transitionrun"),ky=ds("transitionstart"),By=ds("transitioncancel"),vh=ds("transitionend"),jh=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ko.push("scrollEnd");function Ft(e,n){jh.set(e,n),os(n,[e])}var _h=new WeakMap;function Rt(e,n){if(typeof e=="object"&&e!==null){var l=_h.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Hd(n)},_h.set(e,n),n)}return{value:e,source:n,stack:Hd(n)}}var Ct=[],Zs=0,Bo=0;function bl(){for(var e=Zs,n=Bo=Zs=0;n<e;){var l=Ct[n];Ct[n++]=null;var c=Ct[n];Ct[n++]=null;var f=Ct[n];Ct[n++]=null;var p=Ct[n];if(Ct[n++]=null,c!==null&&f!==null){var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}p!==0&&Nh(l,f,p)}}function yl(e,n,l,c){Ct[Zs++]=e,Ct[Zs++]=n,Ct[Zs++]=l,Ct[Zs++]=c,Bo|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Ho(e,n,l,c){return yl(e,n,l,c),vl(e)}function Ws(e,n){return yl(e,null,null,n),vl(e)}function Nh(e,n,l){e.lanes|=l;var c=e.alternate;c!==null&&(c.lanes|=l);for(var f=!1,p=e.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&n!==null&&(f=31-yt(l),e=p.hiddenUpdates,c=e[f],c===null?e[f]=[n]:c.push(n),n.lane=l|536870912),p):null}function vl(e){if(50<pi)throw pi=0,qc=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var $s={};function Hy(e,n,l,c){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(e,n,l,c){return new Hy(e,n,l,c)}function Uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,n){var l=e.alternate;return l===null?(l=jt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Sh(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function jl(e,n,l,c,f,p){var y=0;if(c=e,typeof e=="function")Uo(e)&&(y=1);else if(typeof e=="string")y=V0(e,l,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=jt(31,l,n,f),e.elementType=$,e.lanes=p,e;case S:return hs(l.children,f,p,n);case N:y=8,f|=24;break;case M:return e=jt(12,l,n,f|2),e.elementType=M,e.lanes=p,e;case B:return e=jt(13,l,n,f),e.elementType=B,e.lanes=p,e;case K:return e=jt(19,l,n,f),e.elementType=K,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case V:y=10;break e;case C:y=9;break e;case U:y=11;break e;case X:y=14;break e;case Q:y=16,c=null;break e}y=29,l=Error(i(130,e===null?"null":typeof e,"")),c=null}return n=jt(y,l,n,f),n.elementType=e,n.type=c,n.lanes=p,n}function hs(e,n,l,c){return e=jt(7,e,c,n),e.lanes=l,e}function Vo(e,n,l){return e=jt(6,e,null,n),e.lanes=l,e}function Fo(e,n,l){return n=jt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Js=[],Is=0,_l=null,Nl=0,wt=[],zt=0,fs=null,cn=1,un="";function ms(e,n){Js[Is++]=Nl,Js[Is++]=_l,_l=e,Nl=n}function Mh(e,n,l){wt[zt++]=cn,wt[zt++]=un,wt[zt++]=fs,fs=e;var c=cn;e=un;var f=32-yt(c)-1;c&=~(1<<f),l+=1;var p=32-yt(n)+f;if(30<p){var y=f-f%5;p=(c&(1<<y)-1).toString(32),c>>=y,f-=y,cn=1<<32-yt(n)+f|l<<f|c,un=p+e}else cn=1<<p|l<<f|c,un=e}function Po(e){e.return!==null&&(ms(e,1),Mh(e,1,0))}function Yo(e){for(;e===_l;)_l=Js[--Is],Js[Is]=null,Nl=Js[--Is],Js[Is]=null;for(;e===fs;)fs=wt[--zt],wt[zt]=null,un=wt[--zt],wt[zt]=null,cn=wt[--zt],wt[zt]=null}var ct=null,Be=null,je=!1,gs=null,Qt=!1,qo=Error(i(519));function ps(e){var n=Error(i(418,""));throw Ka(Rt(n,e)),qo}function Th(e){var n=e.stateNode,l=e.type,c=e.memoizedProps;switch(n[st]=e,n[ut]=c,l){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(l=0;l<bi.length;l++)pe(bi[l],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),Fd(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),cl(n);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),Yd(n,c.value,c.defaultValue,c.children),cl(n)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||c.suppressHydrationWarning===!0||qm(n.textContent,l)?(c.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),c.onScroll!=null&&pe("scroll",n),c.onScrollEnd!=null&&pe("scrollend",n),c.onClick!=null&&(n.onclick=sr),n=!0):n=!1,n||ps(e)}function Eh(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ct=ct.return}}function Ga(e){if(e!==ct)return!1;if(!je)return Eh(e),je=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||lu(e.type,e.memoizedProps)),l=!l),l&&Be&&ps(e),Eh(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(n===0){Be=Yt(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;e=e.nextSibling}Be=null}}else n===27?(n=Be,Kn(e.type)?(e=uu,uu=null,Be=e):Be=n):Be=ct?Yt(e.stateNode.nextSibling):null;return!0}function Qa(){Be=ct=null,je=!1}function Ah(){var e=gs;return e!==null&&(mt===null?mt=e:mt.push.apply(mt,e),gs=null),e}function Ka(e){gs===null?gs=[e]:gs.push(e)}var Xo=q(null),xs=null,dn=null;function wn(e,n,l){Z(Xo,n._currentValue),n._currentValue=l}function hn(e){e._currentValue=Xo.current,W(Xo)}function Go(e,n,l){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===l)break;e=e.return}}function Qo(e,n,l,c){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var y=f.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=f;for(var T=0;T<n.length;T++)if(_.context===n[T]){p.lanes|=l,_=p.alternate,_!==null&&(_.lanes|=l),Go(p.return,l,e),c||(y=null);break e}p=_.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=l,p=y.alternate,p!==null&&(p.lanes|=l),Go(y,l,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Za(e,n,l,c){e=null;for(var f=n,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var _=f.type;vt(f.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(f===xt.current){if(y=f.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Si):e=[Si])}f=f.return}e!==null&&Qo(n,e,l,c),n.flags|=262144}function Sl(e){for(e=e.firstContext;e!==null;){if(!vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){xs=e,dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function at(e){return Dh(xs,e)}function Ml(e,n){return xs===null&&bs(e),Dh(e,n)}function Dh(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},dn===null){if(e===null)throw Error(i(308));dn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else dn=dn.next=n;return l}var Uy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,c){e.push(c)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Vy=s.unstable_scheduleCallback,Fy=s.unstable_NormalPriority,Xe={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ko(){return{controller:new Uy,data:new Map,refCount:0}}function Wa(e){e.refCount--,e.refCount===0&&Vy(Fy,function(){e.controller.abort()})}var $a=null,Zo=0,ea=0,ta=null;function Py(e,n){if($a===null){var l=$a=[];Zo=0,ea=$c(),ta={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Zo++,n.then(Oh,Oh),n}function Oh(){if(--Zo===0&&$a!==null){ta!==null&&(ta.status="fulfilled");var e=$a;$a=null,ea=0,ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Yy(e,n){var l=[],c={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){c.status="fulfilled",c.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(c.status="rejected",c.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),c}var Rh=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Py(e,n),Rh!==null&&Rh(e,n)};var ys=q(null);function Wo(){var e=ys.current;return e!==null?e:Oe.pooledCache}function Tl(e,n){n===null?Z(ys,ys.current):Z(ys,n.pool)}function Ch(){var e=Wo();return e===null?null:{parent:Xe._currentValue,pool:e}}var Ja=Error(i(460)),wh=Error(i(474)),El=Error(i(542)),$o={then:function(){}};function zh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Al(){}function Lh(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Al,Al),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bh(e),e;default:if(typeof n.status=="string")n.then(Al,Al);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(c){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=c}},function(c){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bh(e),e}throw Ia=n,Ja}}var Ia=null;function kh(){if(Ia===null)throw Error(i(459));var e=Ia;return Ia=null,e}function Bh(e){if(e===Ja||e===El)throw Error(i(483))}var zn=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Io(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ln(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kn(e,n,l){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ne&2)!==0){var f=c.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),c.pending=n,n=vl(e),Nh(e,null,l),n}return yl(e,c,n,l),vl(e)}function ei(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var c=n.lanes;c&=e.pendingLanes,l|=c,n.lanes=l,Od(e,l)}}function ec(e,n){var l=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var y={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?f=p=y:p=p.next=y,l=l.next}while(l!==null);p===null?f=p=n:p=p.next=n}else f=p=n;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var tc=!1;function ti(){if(tc){var e=ta;if(e!==null)throw e}}function ni(e,n,l,c){tc=!1;var f=e.updateQueue;zn=!1;var p=f.firstBaseUpdate,y=f.lastBaseUpdate,_=f.shared.pending;if(_!==null){f.shared.pending=null;var T=_,z=T.next;T.next=null,y===null?p=z:y.next=z,y=T;var F=e.alternate;F!==null&&(F=F.updateQueue,_=F.lastBaseUpdate,_!==y&&(_===null?F.firstBaseUpdate=z:_.next=z,F.lastBaseUpdate=T))}if(p!==null){var Y=f.baseState;y=0,F=z=T=null,_=p;do{var L=_.lane&-536870913,k=L!==_.lane;if(k?(be&L)===L:(c&L)===L){L!==0&&L===ea&&(tc=!0),F!==null&&(F=F.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=e,se=_;L=n;var Ae=l;switch(se.tag){case 1:if(le=se.payload,typeof le=="function"){Y=le.call(Ae,Y,L);break e}Y=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=se.payload,L=typeof le=="function"?le.call(Ae,Y,L):le,L==null)break e;Y=x({},Y,L);break e;case 2:zn=!0}}L=_.callback,L!==null&&(e.flags|=64,k&&(e.flags|=8192),k=f.callbacks,k===null?f.callbacks=[L]:k.push(L))}else k={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},F===null?(z=F=k,T=Y):F=F.next=k,y|=L;if(_=_.next,_===null){if(_=f.shared.pending,_===null)break;k=_,_=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);F===null&&(T=Y),f.baseState=T,f.firstBaseUpdate=z,f.lastBaseUpdate=F,p===null&&(f.shared.lanes=0),qn|=y,e.lanes=y,e.memoizedState=Y}}function Hh(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function Uh(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Hh(l[e],n)}var na=q(null),Dl=q(0);function Vh(e,n){e=yn,Z(Dl,e),Z(na,n),yn=e|n.baseLanes}function nc(){Z(Dl,yn),Z(na,na.current)}function sc(){yn=Dl.current,W(na),W(Dl)}var Bn=0,ue=null,Te=null,Pe=null,Ol=!1,sa=!1,vs=!1,Rl=0,si=0,aa=null,qy=0;function Ue(){throw Error(i(321))}function ac(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!vt(e[l],n[l]))return!1;return!0}function ic(e,n,l,c,f,p){return Bn=p,ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Sf:Mf,vs=!1,p=l(c,f),vs=!1,sa&&(p=Ph(n,l,c,f)),Fh(e),p}function Fh(e){H.H=Bl;var n=Te!==null&&Te.next!==null;if(Bn=0,Pe=Te=ue=null,Ol=!1,si=0,aa=null,n)throw Error(i(300));e===null||We||(e=e.dependencies,e!==null&&Sl(e)&&(We=!0))}function Ph(e,n,l,c){ue=e;var f=0;do{if(sa&&(aa=null),si=0,sa=!1,25<=f)throw Error(i(301));if(f+=1,Pe=Te=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=$y,p=n(l,c)}while(sa);return p}function Xy(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?ai(n):n,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(ue.flags|=1024),n}function lc(){var e=Rl!==0;return Rl=0,e}function rc(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function oc(e){if(Ol){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ol=!1}Bn=0,Pe=Te=ue=null,sa=!1,si=Rl=0,aa=null}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ue.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ye(){if(Te===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var n=Pe===null?ue.memoizedState:Pe.next;if(n!==null)Pe=n,Te=e;else{if(e===null)throw ue.alternate===null?Error(i(467)):Error(i(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Pe===null?ue.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ai(e){var n=si;return si+=1,aa===null&&(aa=[]),e=Lh(aa,e,n),n=ue,(Pe===null?n.memoizedState:Pe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Sf:Mf),e}function Cl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ai(e);if(e.$$typeof===V)return at(e)}throw Error(i(438,String(e)))}function uc(e){var n=null,l=ue.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var c=ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=cc(),ue.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),c=0;c<e;c++)l[c]=oe;return n.index++,l}function fn(e,n){return typeof n=="function"?n(e):n}function wl(e){var n=Ye();return dc(n,Te,e)}function dc(e,n,l){var c=e.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var f=e.baseQueue,p=c.pending;if(p!==null){if(f!==null){var y=f.next;f.next=p.next,p.next=y}n.baseQueue=f=p,c.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{n=f.next;var _=y=null,T=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(be&Y)===Y:(Bn&Y)===Y){var L=z.revertLane;if(L===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===ea&&(F=!0);else if((Bn&L)===L){z=z.next,L===ea&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(_=T=Y,y=p):T=T.next=Y,ue.lanes|=L,qn|=L;Y=z.action,vs&&l(p,Y),p=z.hasEagerState?z.eagerState:l(p,Y)}else L={lane:Y,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(_=T=L,y=p):T=T.next=L,ue.lanes|=Y,qn|=Y;z=z.next}while(z!==null&&z!==n);if(T===null?y=p:T.next=_,!vt(p,e.memoizedState)&&(We=!0,F&&(l=ta,l!==null)))throw l;e.memoizedState=p,e.baseState=y,e.baseQueue=T,c.lastRenderedState=p}return f===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function hc(e){var n=Ye(),l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=e;var c=l.dispatch,f=l.pending,p=n.memoizedState;if(f!==null){l.pending=null;var y=f=f.next;do p=e(p,y.action),y=y.next;while(y!==f);vt(p,n.memoizedState)||(We=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),l.lastRenderedState=p}return[p,c]}function Yh(e,n,l){var c=ue,f=Ye(),p=je;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=n();var y=!vt((Te||f).memoizedState,l);y&&(f.memoizedState=l,We=!0),f=f.queue;var _=Gh.bind(null,c,f,e);if(ii(2048,8,_,[e]),f.getSnapshot!==n||y||Pe!==null&&Pe.memoizedState.tag&1){if(c.flags|=2048,ia(9,zl(),Xh.bind(null,c,f,l,n),null),Oe===null)throw Error(i(349));p||(Bn&124)!==0||qh(c,n,l)}return l}function qh(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ue.updateQueue,n===null?(n=cc(),ue.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Xh(e,n,l,c){n.value=l,n.getSnapshot=c,Qh(n)&&Kh(e)}function Gh(e,n,l){return l(function(){Qh(n)&&Kh(e)})}function Qh(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!vt(e,l)}catch{return!0}}function Kh(e){var n=Ws(e,2);n!==null&&Tt(n,e,2)}function fc(e){var n=ht();if(typeof e=="function"){var l=e;if(e=l(),vs){On(!0);try{l()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},n}function Zh(e,n,l,c){return e.baseState=l,dc(e,Te,typeof c=="function"?c:fn)}function Gy(e,n,l,c,f){if(kl(e))throw Error(i(485));if(e=n.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){p.listeners.push(y)}};H.T!==null?l(!0):p.isTransition=!1,c(p),l=n.pending,l===null?(p.next=n.pending=p,Wh(n,p)):(p.next=l.next,n.pending=l.next=p)}}function Wh(e,n){var l=n.action,c=n.payload,f=e.state;if(n.isTransition){var p=H.T,y={};H.T=y;try{var _=l(f,c),T=H.S;T!==null&&T(y,_),$h(e,n,_)}catch(z){mc(e,n,z)}finally{H.T=p}}else try{p=l(f,c),$h(e,n,p)}catch(z){mc(e,n,z)}}function $h(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Jh(e,n,c)},function(c){return mc(e,n,c)}):Jh(e,n,l)}function Jh(e,n,l){n.status="fulfilled",n.value=l,Ih(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Wh(e,l)))}function mc(e,n,l){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=l,Ih(n),n=n.next;while(n!==c)}e.action=null}function Ih(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ef(e,n){return n}function tf(e,n){if(je){var l=Oe.formState;if(l!==null){e:{var c=ue;if(je){if(Be){t:{for(var f=Be,p=Qt;f.nodeType!==8;){if(!p){f=null;break t}if(f=Yt(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Be=Yt(f.nextSibling),c=f.data==="F!";break e}}ps(c)}c=!1}c&&(n=l[0])}}return l=ht(),l.memoizedState=l.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ef,lastRenderedState:n},l.queue=c,l=jf.bind(null,ue,c),c.dispatch=l,c=fc(!1),p=yc.bind(null,ue,!1,c.queue),c=ht(),f={state:n,dispatch:null,action:e,pending:null},c.queue=f,l=Gy.bind(null,ue,f,p,l),f.dispatch=l,c.memoizedState=e,[n,l,!1]}function nf(e){var n=Ye();return sf(n,Te,e)}function sf(e,n,l){if(n=dc(e,n,ef)[0],e=wl(fn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=ai(n)}catch(y){throw y===Ja?El:y}else c=n;n=Ye();var f=n.queue,p=f.dispatch;return l!==n.memoizedState&&(ue.flags|=2048,ia(9,zl(),Qy.bind(null,f,l),null)),[c,p,e]}function Qy(e,n){e.action=n}function af(e){var n=Ye(),l=Te;if(l!==null)return sf(n,l,e);Ye(),n=n.memoizedState,l=Ye();var c=l.queue.dispatch;return l.memoizedState=e,[n,c,!1]}function ia(e,n,l,c){return e={tag:e,create:l,deps:c,inst:n,next:null},n=ue.updateQueue,n===null&&(n=cc(),ue.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(c=l.next,l.next=e,e.next=c,n.lastEffect=e),e}function zl(){return{destroy:void 0,resource:void 0}}function lf(){return Ye().memoizedState}function Ll(e,n,l,c){var f=ht();c=c===void 0?null:c,ue.flags|=e,f.memoizedState=ia(1|n,zl(),l,c)}function ii(e,n,l,c){var f=Ye();c=c===void 0?null:c;var p=f.memoizedState.inst;Te!==null&&c!==null&&ac(c,Te.memoizedState.deps)?f.memoizedState=ia(n,p,l,c):(ue.flags|=e,f.memoizedState=ia(1|n,p,l,c))}function rf(e,n){Ll(8390656,8,e,n)}function of(e,n){ii(2048,8,e,n)}function cf(e,n){return ii(4,2,e,n)}function uf(e,n){return ii(4,4,e,n)}function df(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hf(e,n,l){l=l!=null?l.concat([e]):null,ii(4,4,df.bind(null,n,e),l)}function gc(){}function ff(e,n){var l=Ye();n=n===void 0?null:n;var c=l.memoizedState;return n!==null&&ac(n,c[1])?c[0]:(l.memoizedState=[e,n],e)}function mf(e,n){var l=Ye();n=n===void 0?null:n;var c=l.memoizedState;if(n!==null&&ac(n,c[1]))return c[0];if(c=e(),vs){On(!0);try{e()}finally{On(!1)}}return l.memoizedState=[c,n],c}function pc(e,n,l){return l===void 0||(Bn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=l,e=xm(),ue.lanes|=e,qn|=e,l)}function gf(e,n,l,c){return vt(l,n)?l:na.current!==null?(e=pc(e,l,c),vt(e,n)||(We=!0),e):(Bn&42)===0?(We=!0,e.memoizedState=l):(e=xm(),ue.lanes|=e,qn|=e,n)}function pf(e,n,l,c,f){var p=G.p;G.p=p!==0&&8>p?p:8;var y=H.T,_={};H.T=_,yc(e,!1,n,l);try{var T=f(),z=H.S;if(z!==null&&z(_,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var F=Yy(T,c);li(e,n,F,Mt(e))}else li(e,n,c,Mt(e))}catch(Y){li(e,n,{then:function(){},status:"rejected",reason:Y},Mt())}finally{G.p=p,H.T=y}}function Ky(){}function xc(e,n,l,c){if(e.tag!==5)throw Error(i(476));var f=xf(e).queue;pf(e,f,n,te,l===null?Ky:function(){return bf(e),l(c)})}function xf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:te},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bf(e){var n=xf(e).next.queue;li(e,n,{},Mt())}function bc(){return at(Si)}function yf(){return Ye().memoizedState}function vf(){return Ye().memoizedState}function Zy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Mt();e=Ln(l);var c=kn(n,e,l);c!==null&&(Tt(c,n,l),ei(c,n,l)),n={cache:Ko()},e.payload=n;return}n=n.return}}function Wy(e,n,l){var c=Mt();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},kl(e)?_f(n,l):(l=Ho(e,n,l,c),l!==null&&(Tt(l,e,c),Nf(l,n,c)))}function jf(e,n,l){var c=Mt();li(e,n,l,c)}function li(e,n,l,c){var f={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(kl(e))_f(n,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var y=n.lastRenderedState,_=p(y,l);if(f.hasEagerState=!0,f.eagerState=_,vt(_,y))return yl(e,n,f,0),Oe===null&&bl(),!1}catch{}finally{}if(l=Ho(e,n,f,c),l!==null)return Tt(l,e,c),Nf(l,n,c),!0}return!1}function yc(e,n,l,c){if(c={lane:2,revertLane:$c(),action:c,hasEagerState:!1,eagerState:null,next:null},kl(e)){if(n)throw Error(i(479))}else n=Ho(e,l,c,2),n!==null&&Tt(n,e,2)}function kl(e){var n=e.alternate;return e===ue||n!==null&&n===ue}function _f(e,n){sa=Ol=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Nf(e,n,l){if((l&4194048)!==0){var c=n.lanes;c&=e.pendingLanes,l|=c,n.lanes=l,Od(e,l)}}var Bl={readContext:at,use:Cl,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue},Sf={readContext:at,use:Cl,useCallback:function(e,n){return ht().memoizedState=[e,n===void 0?null:n],e},useContext:at,useEffect:rf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Ll(4194308,4,df.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Ll(4194308,4,e,n)},useInsertionEffect:function(e,n){Ll(4,2,e,n)},useMemo:function(e,n){var l=ht();n=n===void 0?null:n;var c=e();if(vs){On(!0);try{e()}finally{On(!1)}}return l.memoizedState=[c,n],c},useReducer:function(e,n,l){var c=ht();if(l!==void 0){var f=l(n);if(vs){On(!0);try{l(n)}finally{On(!1)}}}else f=n;return c.memoizedState=c.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},c.queue=e,e=e.dispatch=Wy.bind(null,ue,e),[c.memoizedState,e]},useRef:function(e){var n=ht();return e={current:e},n.memoizedState=e},useState:function(e){e=fc(e);var n=e.queue,l=jf.bind(null,ue,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:gc,useDeferredValue:function(e,n){var l=ht();return pc(l,e,n)},useTransition:function(){var e=fc(!1);return e=pf.bind(null,ue,e.queue,!0,!1),ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var c=ue,f=ht();if(je){if(l===void 0)throw Error(i(407));l=l()}else{if(l=n(),Oe===null)throw Error(i(349));(be&124)!==0||qh(c,n,l)}f.memoizedState=l;var p={value:l,getSnapshot:n};return f.queue=p,rf(Gh.bind(null,c,p,e),[e]),c.flags|=2048,ia(9,zl(),Xh.bind(null,c,p,l,n),null),l},useId:function(){var e=ht(),n=Oe.identifierPrefix;if(je){var l=un,c=cn;l=(c&~(1<<32-yt(c)-1)).toString(32)+l,n="«"+n+"R"+l,l=Rl++,0<l&&(n+="H"+l.toString(32)),n+="»"}else l=qy++,n="«"+n+"r"+l.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:bc,useFormState:tf,useActionState:tf,useOptimistic:function(e){var n=ht();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=yc.bind(null,ue,!0,l),l.dispatch=n,[e,n]},useMemoCache:uc,useCacheRefresh:function(){return ht().memoizedState=Zy.bind(null,ue)}},Mf={readContext:at,use:Cl,useCallback:ff,useContext:at,useEffect:of,useImperativeHandle:hf,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:mf,useReducer:wl,useRef:lf,useState:function(){return wl(fn)},useDebugValue:gc,useDeferredValue:function(e,n){var l=Ye();return gf(l,Te.memoizedState,e,n)},useTransition:function(){var e=wl(fn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:ai(e),n]},useSyncExternalStore:Yh,useId:yf,useHostTransitionStatus:bc,useFormState:nf,useActionState:nf,useOptimistic:function(e,n){var l=Ye();return Zh(l,Te,e,n)},useMemoCache:uc,useCacheRefresh:vf},$y={readContext:at,use:Cl,useCallback:ff,useContext:at,useEffect:of,useImperativeHandle:hf,useInsertionEffect:cf,useLayoutEffect:uf,useMemo:mf,useReducer:hc,useRef:lf,useState:function(){return hc(fn)},useDebugValue:gc,useDeferredValue:function(e,n){var l=Ye();return Te===null?pc(l,e,n):gf(l,Te.memoizedState,e,n)},useTransition:function(){var e=hc(fn)[0],n=Ye().memoizedState;return[typeof e=="boolean"?e:ai(e),n]},useSyncExternalStore:Yh,useId:yf,useHostTransitionStatus:bc,useFormState:af,useActionState:af,useOptimistic:function(e,n){var l=Ye();return Te!==null?Zh(l,Te,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:uc,useCacheRefresh:vf},la=null,ri=0;function Hl(e){var n=ri;return ri+=1,la===null&&(la=[]),Lh(la,e,n)}function oi(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ul(e,n){throw n.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Tf(e){var n=e._init;return n(e._payload)}function Ef(e){function n(O,D){if(e){var w=O.deletions;w===null?(O.deletions=[D],O.flags|=16):w.push(D)}}function l(O,D){if(!e)return null;for(;D!==null;)n(O,D),D=D.sibling;return null}function c(O){for(var D=new Map;O!==null;)O.key!==null?D.set(O.key,O):D.set(O.index,O),O=O.sibling;return D}function f(O,D){return O=on(O,D),O.index=0,O.sibling=null,O}function p(O,D,w){return O.index=w,e?(w=O.alternate,w!==null?(w=w.index,w<D?(O.flags|=67108866,D):w):(O.flags|=67108866,D)):(O.flags|=1048576,D)}function y(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function _(O,D,w,P){return D===null||D.tag!==6?(D=Vo(w,O.mode,P),D.return=O,D):(D=f(D,w),D.return=O,D)}function T(O,D,w,P){var J=w.type;return J===S?F(O,D,w.props.children,P,w.key):D!==null&&(D.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Q&&Tf(J)===D.type)?(D=f(D,w.props),oi(D,w),D.return=O,D):(D=jl(w.type,w.key,w.props,null,O.mode,P),oi(D,w),D.return=O,D)}function z(O,D,w,P){return D===null||D.tag!==4||D.stateNode.containerInfo!==w.containerInfo||D.stateNode.implementation!==w.implementation?(D=Fo(w,O.mode,P),D.return=O,D):(D=f(D,w.children||[]),D.return=O,D)}function F(O,D,w,P,J){return D===null||D.tag!==7?(D=hs(w,O.mode,P,J),D.return=O,D):(D=f(D,w),D.return=O,D)}function Y(O,D,w){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Vo(""+D,O.mode,w),D.return=O,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case v:return w=jl(D.type,D.key,D.props,null,O.mode,w),oi(w,D),w.return=O,w;case j:return D=Fo(D,O.mode,w),D.return=O,D;case Q:var P=D._init;return D=P(D._payload),Y(O,D,w)}if(de(D)||re(D))return D=hs(D,O.mode,w,null),D.return=O,D;if(typeof D.then=="function")return Y(O,Hl(D),w);if(D.$$typeof===V)return Y(O,Ml(O,D),w);Ul(O,D)}return null}function L(O,D,w,P){var J=D!==null?D.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return J!==null?null:_(O,D,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case v:return w.key===J?T(O,D,w,P):null;case j:return w.key===J?z(O,D,w,P):null;case Q:return J=w._init,w=J(w._payload),L(O,D,w,P)}if(de(w)||re(w))return J!==null?null:F(O,D,w,P,null);if(typeof w.then=="function")return L(O,D,Hl(w),P);if(w.$$typeof===V)return L(O,D,Ml(O,w),P);Ul(O,w)}return null}function k(O,D,w,P,J){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return O=O.get(w)||null,_(D,O,""+P,J);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return O=O.get(P.key===null?w:P.key)||null,T(D,O,P,J);case j:return O=O.get(P.key===null?w:P.key)||null,z(D,O,P,J);case Q:var fe=P._init;return P=fe(P._payload),k(O,D,w,P,J)}if(de(P)||re(P))return O=O.get(w)||null,F(D,O,P,J,null);if(typeof P.then=="function")return k(O,D,w,Hl(P),J);if(P.$$typeof===V)return k(O,D,w,Ml(D,P),J);Ul(D,P)}return null}function le(O,D,w,P){for(var J=null,fe=null,ee=D,ae=D=0,Je=null;ee!==null&&ae<w.length;ae++){ee.index>ae?(Je=ee,ee=null):Je=ee.sibling;var ve=L(O,ee,w[ae],P);if(ve===null){ee===null&&(ee=Je);break}e&&ee&&ve.alternate===null&&n(O,ee),D=p(ve,D,ae),fe===null?J=ve:fe.sibling=ve,fe=ve,ee=Je}if(ae===w.length)return l(O,ee),je&&ms(O,ae),J;if(ee===null){for(;ae<w.length;ae++)ee=Y(O,w[ae],P),ee!==null&&(D=p(ee,D,ae),fe===null?J=ee:fe.sibling=ee,fe=ee);return je&&ms(O,ae),J}for(ee=c(ee);ae<w.length;ae++)Je=k(ee,O,ae,w[ae],P),Je!==null&&(e&&Je.alternate!==null&&ee.delete(Je.key===null?ae:Je.key),D=p(Je,D,ae),fe===null?J=Je:fe.sibling=Je,fe=Je);return e&&ee.forEach(function(In){return n(O,In)}),je&&ms(O,ae),J}function se(O,D,w,P){if(w==null)throw Error(i(151));for(var J=null,fe=null,ee=D,ae=D=0,Je=null,ve=w.next();ee!==null&&!ve.done;ae++,ve=w.next()){ee.index>ae?(Je=ee,ee=null):Je=ee.sibling;var In=L(O,ee,ve.value,P);if(In===null){ee===null&&(ee=Je);break}e&&ee&&In.alternate===null&&n(O,ee),D=p(In,D,ae),fe===null?J=In:fe.sibling=In,fe=In,ee=Je}if(ve.done)return l(O,ee),je&&ms(O,ae),J;if(ee===null){for(;!ve.done;ae++,ve=w.next())ve=Y(O,ve.value,P),ve!==null&&(D=p(ve,D,ae),fe===null?J=ve:fe.sibling=ve,fe=ve);return je&&ms(O,ae),J}for(ee=c(ee);!ve.done;ae++,ve=w.next())ve=k(ee,O,ae,ve.value,P),ve!==null&&(e&&ve.alternate!==null&&ee.delete(ve.key===null?ae:ve.key),D=p(ve,D,ae),fe===null?J=ve:fe.sibling=ve,fe=ve);return e&&ee.forEach(function(J0){return n(O,J0)}),je&&ms(O,ae),J}function Ae(O,D,w,P){if(typeof w=="object"&&w!==null&&w.type===S&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case v:e:{for(var J=w.key;D!==null;){if(D.key===J){if(J=w.type,J===S){if(D.tag===7){l(O,D.sibling),P=f(D,w.props.children),P.return=O,O=P;break e}}else if(D.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Q&&Tf(J)===D.type){l(O,D.sibling),P=f(D,w.props),oi(P,w),P.return=O,O=P;break e}l(O,D);break}else n(O,D);D=D.sibling}w.type===S?(P=hs(w.props.children,O.mode,P,w.key),P.return=O,O=P):(P=jl(w.type,w.key,w.props,null,O.mode,P),oi(P,w),P.return=O,O=P)}return y(O);case j:e:{for(J=w.key;D!==null;){if(D.key===J)if(D.tag===4&&D.stateNode.containerInfo===w.containerInfo&&D.stateNode.implementation===w.implementation){l(O,D.sibling),P=f(D,w.children||[]),P.return=O,O=P;break e}else{l(O,D);break}else n(O,D);D=D.sibling}P=Fo(w,O.mode,P),P.return=O,O=P}return y(O);case Q:return J=w._init,w=J(w._payload),Ae(O,D,w,P)}if(de(w))return le(O,D,w,P);if(re(w)){if(J=re(w),typeof J!="function")throw Error(i(150));return w=J.call(w),se(O,D,w,P)}if(typeof w.then=="function")return Ae(O,D,Hl(w),P);if(w.$$typeof===V)return Ae(O,D,Ml(O,w),P);Ul(O,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,D!==null&&D.tag===6?(l(O,D.sibling),P=f(D,w),P.return=O,O=P):(l(O,D),P=Vo(w,O.mode,P),P.return=O,O=P),y(O)):l(O,D)}return function(O,D,w,P){try{ri=0;var J=Ae(O,D,w,P);return la=null,J}catch(ee){if(ee===Ja||ee===El)throw ee;var fe=jt(29,ee,null,O.mode);return fe.lanes=P,fe.return=O,fe}finally{}}}var ra=Ef(!0),Af=Ef(!1),Lt=q(null),Kt=null;function Hn(e){var n=e.alternate;Z(Ge,Ge.current&1),Z(Lt,e),Kt===null&&(n===null||na.current!==null||n.memoizedState!==null)&&(Kt=e)}function Df(e){if(e.tag===22){if(Z(Ge,Ge.current),Z(Lt,e),Kt===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Kt=e)}}else Un()}function Un(){Z(Ge,Ge.current),Z(Lt,Lt.current)}function mn(e){W(Lt),Kt===e&&(Kt=null),W(Ge)}var Ge=q(0);function Vl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||cu(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function vc(e,n,l,c){n=e.memoizedState,l=l(c,n),l=l==null?n:x({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var jc={enqueueSetState:function(e,n,l){e=e._reactInternals;var c=Mt(),f=Ln(c);f.payload=n,l!=null&&(f.callback=l),n=kn(e,f,c),n!==null&&(Tt(n,e,c),ei(n,e,c))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var c=Mt(),f=Ln(c);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=kn(e,f,c),n!==null&&(Tt(n,e,c),ei(n,e,c))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Mt(),c=Ln(l);c.tag=2,n!=null&&(c.callback=n),n=kn(e,c,l),n!==null&&(Tt(n,e,l),ei(n,e,l))}};function Of(e,n,l,c,f,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,y):n.prototype&&n.prototype.isPureReactComponent?!qa(l,c)||!qa(f,p):!0}function Rf(e,n,l,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,c),n.state!==e&&jc.enqueueReplaceState(n,n.state,null)}function js(e,n){var l=n;if("ref"in n){l={};for(var c in n)c!=="ref"&&(l[c]=n[c])}if(e=e.defaultProps){l===n&&(l=x({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}var Fl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Cf(e){Fl(e)}function wf(e){console.error(e)}function zf(e){Fl(e)}function Pl(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Lf(e,n,l){try{var c=e.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _c(e,n,l){return l=Ln(l),l.tag=3,l.payload={element:null},l.callback=function(){Pl(e,n)},l}function kf(e){return e=Ln(e),e.tag=3,e}function Bf(e,n,l,c){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;e.payload=function(){return f(p)},e.callback=function(){Lf(n,l,c)}}var y=l.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Lf(n,l,c),typeof f!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function Jy(e,n,l,c,f){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=l.alternate,n!==null&&Za(n,l,f,!0),l=Lt.current,l!==null){switch(l.tag){case 13:return Kt===null?Gc():l.alternate===null&&He===0&&(He=3),l.flags&=-257,l.flags|=65536,l.lanes=f,c===$o?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([c]):n.add(c),Kc(e,c,f)),!1;case 22:return l.flags|=65536,c===$o?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([c]):l.add(c)),Kc(e,c,f)),!1}throw Error(i(435,l.tag))}return Kc(e,c,f),Gc(),!1}if(je)return n=Lt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,c!==qo&&(e=Error(i(422),{cause:c}),Ka(Rt(e,l)))):(c!==qo&&(n=Error(i(423),{cause:c}),Ka(Rt(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,c=Rt(c,l),f=_c(e.stateNode,c,f),ec(e,f),He!==4&&(He=2)),!1;var p=Error(i(520),{cause:c});if(p=Rt(p,l),gi===null?gi=[p]:gi.push(p),He!==4&&(He=2),n===null)return!0;c=Rt(c,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=_c(l.stateNode,c,e),ec(l,e),!1;case 1:if(n=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xn===null||!Xn.has(p))))return l.flags|=65536,f&=-f,l.lanes|=f,f=kf(f),Bf(f,e,l,c),ec(l,f),!1}l=l.return}while(l!==null);return!1}var Hf=Error(i(461)),We=!1;function et(e,n,l,c){n.child=e===null?Af(n,null,l,c):ra(n,e.child,l,c)}function Uf(e,n,l,c,f){l=l.render;var p=n.ref;if("ref"in c){var y={};for(var _ in c)_!=="ref"&&(y[_]=c[_])}else y=c;return bs(n),c=ic(e,n,l,y,p,f),_=lc(),e!==null&&!We?(rc(e,n,f),gn(e,n,f)):(je&&_&&Po(n),n.flags|=1,et(e,n,c,f),n.child)}function Vf(e,n,l,c,f){if(e===null){var p=l.type;return typeof p=="function"&&!Uo(p)&&p.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=p,Ff(e,n,p,c,f)):(e=jl(l.type,null,c,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Oc(e,f)){var y=p.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(y,c)&&e.ref===n.ref)return gn(e,n,f)}return n.flags|=1,e=on(p,c),e.ref=n.ref,e.return=n,n.child=e}function Ff(e,n,l,c,f){if(e!==null){var p=e.memoizedProps;if(qa(p,c)&&e.ref===n.ref)if(We=!1,n.pendingProps=c=p,Oc(e,f))(e.flags&131072)!==0&&(We=!0);else return n.lanes=e.lanes,gn(e,n,f)}return Nc(e,n,l,c,f)}function Pf(e,n,l){var c=n.pendingProps,f=c.children,p=e!==null?e.memoizedState:null;if(c.mode==="hidden"){if((n.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,e!==null){for(f=n.child=e.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;n.childLanes=p&~c}else n.childLanes=0,n.child=null;return Yf(e,n,c,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tl(n,p!==null?p.cachePool:null),p!==null?Vh(n,p):nc(),Df(n);else return n.lanes=n.childLanes=536870912,Yf(e,n,p!==null?p.baseLanes|l:l,l)}else p!==null?(Tl(n,p.cachePool),Vh(n,p),Un(),n.memoizedState=null):(e!==null&&Tl(n,null),nc(),Un());return et(e,n,f,l),n.child}function Yf(e,n,l,c){var f=Wo();return f=f===null?null:{parent:Xe._currentValue,pool:f},n.memoizedState={baseLanes:l,cachePool:f},e!==null&&Tl(n,null),nc(),Df(n),e!==null&&Za(e,n,c,!0),null}function Yl(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Nc(e,n,l,c,f){return bs(n),l=ic(e,n,l,c,void 0,f),c=lc(),e!==null&&!We?(rc(e,n,f),gn(e,n,f)):(je&&c&&Po(n),n.flags|=1,et(e,n,l,f),n.child)}function qf(e,n,l,c,f,p){return bs(n),n.updateQueue=null,l=Ph(n,c,l,f),Fh(e),c=lc(),e!==null&&!We?(rc(e,n,p),gn(e,n,p)):(je&&c&&Po(n),n.flags|=1,et(e,n,l,p),n.child)}function Xf(e,n,l,c,f){if(bs(n),n.stateNode===null){var p=$s,y=l.contextType;typeof y=="object"&&y!==null&&(p=at(y)),p=new l(c,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=jc,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=c,p.state=n.memoizedState,p.refs={},Jo(n),y=l.contextType,p.context=typeof y=="object"&&y!==null?at(y):$s,p.state=n.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(vc(n,l,y,c),p.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(y=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),y!==p.state&&jc.enqueueReplaceState(p,p.state,null),ni(n,c,p,f),ti(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(e===null){p=n.stateNode;var _=n.memoizedProps,T=js(l,_);p.props=T;var z=p.context,F=l.contextType;y=$s,typeof F=="object"&&F!==null&&(y=at(F));var Y=l.getDerivedStateFromProps;F=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,F||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||z!==y)&&Rf(n,p,c,y),zn=!1;var L=n.memoizedState;p.state=L,ni(n,c,p,f),ti(),z=n.memoizedState,_||L!==z||zn?(typeof Y=="function"&&(vc(n,l,Y,c),z=n.memoizedState),(T=zn||Of(n,l,T,c,L,z,y))?(F||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=z),p.props=c,p.state=z,p.context=y,c=T):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{p=n.stateNode,Io(e,n),y=n.memoizedProps,F=js(l,y),p.props=F,Y=n.pendingProps,L=p.context,z=l.contextType,T=$s,typeof z=="object"&&z!==null&&(T=at(z)),_=l.getDerivedStateFromProps,(z=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==Y||L!==T)&&Rf(n,p,c,T),zn=!1,L=n.memoizedState,p.state=L,ni(n,c,p,f),ti();var k=n.memoizedState;y!==Y||L!==k||zn||e!==null&&e.dependencies!==null&&Sl(e.dependencies)?(typeof _=="function"&&(vc(n,l,_,c),k=n.memoizedState),(F=zn||Of(n,l,F,c,L,k,T)||e!==null&&e.dependencies!==null&&Sl(e.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,k,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,k,T)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=k),p.props=c,p.state=k,p.context=T,c=F):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),c=!1)}return p=c,Yl(e,n),c=(n.flags&128)!==0,p||c?(p=n.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&c?(n.child=ra(n,e.child,null,f),n.child=ra(n,null,l,f)):et(e,n,l,f),n.memoizedState=p.state,e=n.child):e=gn(e,n,f),e}function Gf(e,n,l,c){return Qa(),n.flags|=256,et(e,n,l,c),n.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(e){return{baseLanes:e,cachePool:Ch()}}function Tc(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=kt),e}function Qf(e,n,l){var c=n.pendingProps,f=!1,p=(n.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),y&&(f=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(je){if(f?Hn(n):Un(),je){var _=Be,T;if(T=_){e:{for(T=_,_=Qt;T.nodeType!==8;){if(!_){_=null;break e}if(T=Yt(T.nextSibling),T===null){_=null;break e}}_=T}_!==null?(n.memoizedState={dehydrated:_,treeContext:fs!==null?{id:cn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},T=jt(18,null,null,0),T.stateNode=_,T.return=n,n.child=T,ct=n,Be=null,T=!0):T=!1}T||ps(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return cu(_)?n.lanes=32:n.lanes=536870912,null;mn(n)}return _=c.children,c=c.fallback,f?(Un(),f=n.mode,_=ql({mode:"hidden",children:_},f),c=hs(c,f,l,null),_.return=n,c.return=n,_.sibling=c,n.child=_,f=n.child,f.memoizedState=Mc(l),f.childLanes=Tc(e,y,l),n.memoizedState=Sc,c):(Hn(n),Ec(n,_))}if(T=e.memoizedState,T!==null&&(_=T.dehydrated,_!==null)){if(p)n.flags&256?(Hn(n),n.flags&=-257,n=Ac(e,n,l)):n.memoizedState!==null?(Un(),n.child=e.child,n.flags|=128,n=null):(Un(),f=c.fallback,_=n.mode,c=ql({mode:"visible",children:c.children},_),f=hs(f,_,l,null),f.flags|=2,c.return=n,f.return=n,c.sibling=f,n.child=c,ra(n,e.child,null,l),c=n.child,c.memoizedState=Mc(l),c.childLanes=Tc(e,y,l),n.memoizedState=Sc,n=f);else if(Hn(n),cu(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var z=y.dgst;y=z,c=Error(i(419)),c.stack="",c.digest=y,Ka({value:c,source:null,stack:null}),n=Ac(e,n,l)}else if(We||Za(e,n,l,!1),y=(l&e.childLanes)!==0,We||y){if(y=Oe,y!==null&&(c=l&-l,c=(c&42)!==0?1:co(c),c=(c&(y.suspendedLanes|l))!==0?0:c,c!==0&&c!==T.retryLane))throw T.retryLane=c,Ws(e,c),Tt(y,e,c),Hf;_.data==="$?"||Gc(),n=Ac(e,n,l)}else _.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=T.treeContext,Be=Yt(_.nextSibling),ct=n,je=!0,gs=null,Qt=!1,e!==null&&(wt[zt++]=cn,wt[zt++]=un,wt[zt++]=fs,cn=e.id,un=e.overflow,fs=n),n=Ec(n,c.children),n.flags|=4096);return n}return f?(Un(),f=c.fallback,_=n.mode,T=e.child,z=T.sibling,c=on(T,{mode:"hidden",children:c.children}),c.subtreeFlags=T.subtreeFlags&65011712,z!==null?f=on(z,f):(f=hs(f,_,l,null),f.flags|=2),f.return=n,c.return=n,c.sibling=f,n.child=c,c=f,f=n.child,_=e.child.memoizedState,_===null?_=Mc(l):(T=_.cachePool,T!==null?(z=Xe._currentValue,T=T.parent!==z?{parent:z,pool:z}:T):T=Ch(),_={baseLanes:_.baseLanes|l,cachePool:T}),f.memoizedState=_,f.childLanes=Tc(e,y,l),n.memoizedState=Sc,c):(Hn(n),l=e.child,e=l.sibling,l=on(l,{mode:"visible",children:c.children}),l.return=n,l.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=l,n.memoizedState=null,l)}function Ec(e,n){return n=ql({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ql(e,n){return e=jt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ac(e,n,l){return ra(n,e.child,null,l),e=Ec(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kf(e,n,l){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),Go(e.return,n,l)}function Dc(e,n,l,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=f)}function Zf(e,n,l){var c=n.pendingProps,f=c.revealOrder,p=c.tail;if(et(e,n,c.children,l),c=Ge.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kf(e,l,n);else if(e.tag===19)Kf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}switch(Z(Ge,c),f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&Vl(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Dc(n,!1,f,l,p);break;case"backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Vl(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Dc(n,!0,l,null,p);break;case"together":Dc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function gn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),qn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Za(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,l=on(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=on(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Oc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Sl(e)))}function Iy(e,n,l){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),wn(n,Xe,e.memoizedState.cache),Qa();break;case 27:case 5:ao(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:wn(n,n.type,n.memoizedProps.value);break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(Hn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Qf(e,n,l):(Hn(n),e=gn(e,n,l),e!==null?e.sibling:null);Hn(n);break;case 19:var f=(e.flags&128)!==0;if(c=(l&n.childLanes)!==0,c||(Za(e,n,l,!1),c=(l&n.childLanes)!==0),f){if(c)return Zf(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Ge,Ge.current),c)break;return null;case 22:case 23:return n.lanes=0,Pf(e,n,l);case 24:wn(n,Xe,e.memoizedState.cache)}return gn(e,n,l)}function Wf(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)We=!0;else{if(!Oc(e,l)&&(n.flags&128)===0)return We=!1,Iy(e,n,l);We=(e.flags&131072)!==0}else We=!1,je&&(n.flags&1048576)!==0&&Mh(n,Nl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var c=n.elementType,f=c._init;if(c=f(c._payload),n.type=c,typeof c=="function")Uo(c)?(e=js(c,e),n.tag=1,n=Xf(null,n,c,e,l)):(n.tag=0,n=Nc(null,n,c,e,l));else{if(c!=null){if(f=c.$$typeof,f===U){n.tag=11,n=Uf(null,n,c,e,l);break e}else if(f===X){n.tag=14,n=Vf(null,n,c,e,l);break e}}throw n=Ke(c)||c,Error(i(306,n,""))}}return n;case 0:return Nc(e,n,n.type,n.pendingProps,l);case 1:return c=n.type,f=js(c,n.pendingProps),Xf(e,n,c,f,l);case 3:e:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(i(387));c=n.pendingProps;var p=n.memoizedState;f=p.element,Io(e,n),ni(n,c,null,l);var y=n.memoizedState;if(c=y.cache,wn(n,Xe,c),c!==p.cache&&Qo(n,[Xe],l,!0),ti(),c=y.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Gf(e,n,c,l);break e}else if(c!==f){f=Rt(Error(i(424)),n),Ka(f),n=Gf(e,n,c,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Yt(e.firstChild),ct=n,je=!0,gs=null,Qt=!0,l=Af(n,null,c,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Qa(),c===f){n=gn(e,n,l);break e}et(e,n,c,l)}n=n.child}return n;case 26:return Yl(e,n),e===null?(l=eg(n.type,null,n.pendingProps,null))?n.memoizedState=l:je||(l=n.type,e=n.pendingProps,c=ar(ne.current).createElement(l),c[st]=n,c[ut]=e,nt(c,l,e),Ze(c),n.stateNode=c):n.memoizedState=eg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ao(n),e===null&&je&&(c=n.stateNode=$m(n.type,n.pendingProps,ne.current),ct=n,Qt=!0,f=Be,Kn(n.type)?(uu=f,Be=Yt(c.firstChild)):Be=f),et(e,n,n.pendingProps.children,l),Yl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&je&&((f=c=Be)&&(c=E0(c,n.type,n.pendingProps,Qt),c!==null?(n.stateNode=c,ct=n,Be=Yt(c.firstChild),Qt=!1,f=!0):f=!1),f||ps(n)),ao(n),f=n.type,p=n.pendingProps,y=e!==null?e.memoizedProps:null,c=p.children,lu(f,p)?c=null:y!==null&&lu(f,y)&&(n.flags|=32),n.memoizedState!==null&&(f=ic(e,n,Xy,null,null,l),Si._currentValue=f),Yl(e,n),et(e,n,c,l),n.child;case 6:return e===null&&je&&((e=l=Be)&&(l=A0(l,n.pendingProps,Qt),l!==null?(n.stateNode=l,ct=n,Be=null,e=!0):e=!1),e||ps(n)),null;case 13:return Qf(e,n,l);case 4:return Ce(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=ra(n,null,c,l):et(e,n,c,l),n.child;case 11:return Uf(e,n,n.type,n.pendingProps,l);case 7:return et(e,n,n.pendingProps,l),n.child;case 8:return et(e,n,n.pendingProps.children,l),n.child;case 12:return et(e,n,n.pendingProps.children,l),n.child;case 10:return c=n.pendingProps,wn(n,n.type,c.value),et(e,n,c.children,l),n.child;case 9:return f=n.type._context,c=n.pendingProps.children,bs(n),f=at(f),c=c(f),n.flags|=1,et(e,n,c,l),n.child;case 14:return Vf(e,n,n.type,n.pendingProps,l);case 15:return Ff(e,n,n.type,n.pendingProps,l);case 19:return Zf(e,n,l);case 31:return c=n.pendingProps,l=n.mode,c={mode:c.mode,children:c.children},e===null?(l=ql(c,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=on(e.child,c),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return Pf(e,n,l);case 24:return bs(n),c=at(Xe),e===null?(f=Wo(),f===null&&(f=Oe,p=Ko(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=l),f=p),n.memoizedState={parent:c,cache:f},Jo(n),wn(n,Xe,f)):((e.lanes&l)!==0&&(Io(e,n),ni(n,null,null,l),ti()),f=e.memoizedState,p=n.memoizedState,f.parent!==c?(f={parent:c,cache:c},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),wn(n,Xe,c)):(c=p.cache,wn(n,Xe,c),c!==f.cache&&Qo(n,[Xe],l,!0))),et(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function pn(e){e.flags|=4}function $f(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ig(n)){if(n=Lt.current,n!==null&&((be&4194048)===be?Kt!==null:(be&62914560)!==be&&(be&536870912)===0||n!==Kt))throw Ia=$o,wh;e.flags|=8192}}function Xl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ad():536870912,e.lanes|=n,da|=n)}function ci(e,n){if(!je)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,c=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=c,e.childLanes=l,n}function e0(e,n,l){var c=n.pendingProps;switch(Yo(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return l=n.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),hn(Xe),Dn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ga(n)?pn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ah())),ze(n),null;case 26:return l=n.memoizedState,e===null?(pn(n),l!==null?(ze(n),$f(n,l)):(ze(n),n.flags&=-16777217)):l?l!==e.memoizedState?(pn(n),ze(n),$f(n,l)):(ze(n),n.flags&=-16777217):(e.memoizedProps!==c&&pn(n),ze(n),n.flags&=-16777217),null;case 27:nl(n),l=ne.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==c&&pn(n);else{if(!c){if(n.stateNode===null)throw Error(i(166));return ze(n),null}e=I.current,Ga(n)?Th(n):(e=$m(f,c,l),n.stateNode=e,pn(n))}return ze(n),null;case 5:if(nl(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==c&&pn(n);else{if(!c){if(n.stateNode===null)throw Error(i(166));return ze(n),null}if(e=I.current,Ga(n))Th(n);else{switch(f=ar(ne.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?e.multiple=!0:c.size&&(e.size=c.size);break;default:e=typeof c.is=="string"?f.createElement(l,{is:c.is}):f.createElement(l)}}e[st]=n,e[ut]=c;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(nt(e,l,c),l){case"button":case"input":case"select":case"textarea":e=!!c.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&pn(n)}}return ze(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==c&&pn(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(i(166));if(e=ne.current,Ga(n)){if(e=n.stateNode,l=n.memoizedProps,c=null,f=ct,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}e[st]=n,e=!!(e.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||qm(e.nodeValue,l)),e||ps(n)}else e=ar(e).createTextNode(c),e[st]=n,n.stateNode=e}return ze(n),null;case 13:if(c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ga(n),c!==null&&c.dehydrated!==null){if(e===null){if(!f)throw Error(i(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[st]=n}else Qa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),f=!1}else f=Ah(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(mn(n),n):(mn(n),null)}if(mn(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=c!==null,e=e!==null&&e.memoizedState!==null,l){c=n.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return l!==e&&l&&(n.child.flags|=8192),Xl(n,n.updateQueue),ze(n),null;case 4:return Dn(),e===null&&tu(n.stateNode.containerInfo),ze(n),null;case 10:return hn(n.type),ze(n),null;case 19:if(W(Ge),f=n.memoizedState,f===null)return ze(n),null;if(c=(n.flags&128)!==0,p=f.rendering,p===null)if(c)ci(f,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Vl(e),p!==null){for(n.flags|=128,ci(f,!1),e=p.updateQueue,n.updateQueue=e,Xl(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Sh(l,e),l=l.sibling;return Z(Ge,Ge.current&1|2),n.child}e=e.sibling}f.tail!==null&&Gt()>Kl&&(n.flags|=128,c=!0,ci(f,!1),n.lanes=4194304)}else{if(!c)if(e=Vl(p),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Xl(n,e),ci(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!je)return ze(n),null}else 2*Gt()-f.renderingStartTime>Kl&&l!==536870912&&(n.flags|=128,c=!0,ci(f,!1),n.lanes=4194304);f.isBackwards?(p.sibling=n.child,n.child=p):(e=f.last,e!==null?e.sibling=p:n.child=p,f.last=p)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Gt(),n.sibling=null,e=Ge.current,Z(Ge,c?e&1|2:e&1),n):(ze(n),null);case 22:case 23:return mn(n),sc(),c=n.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(l&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),l=n.updateQueue,l!==null&&Xl(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==l&&(n.flags|=2048),e!==null&&W(ys),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),hn(Xe),ze(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function t0(e,n){switch(Yo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return hn(Xe),Dn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return nl(n),null;case 13:if(mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Qa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return W(Ge),null;case 4:return Dn(),null;case 10:return hn(n.type),null;case 22:case 23:return mn(n),sc(),e!==null&&W(ys),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return hn(Xe),null;case 25:return null;default:return null}}function Jf(e,n){switch(Yo(n),n.tag){case 3:hn(Xe),Dn();break;case 26:case 27:case 5:nl(n);break;case 4:Dn();break;case 13:mn(n);break;case 19:W(Ge);break;case 10:hn(n.type);break;case 22:case 23:mn(n),sc(),e!==null&&W(ys);break;case 24:hn(Xe)}}function ui(e,n){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){c=void 0;var p=l.create,y=l.inst;c=p(),y.destroy=c}l=l.next}while(l!==f)}}catch(_){De(n,n.return,_)}}function Vn(e,n,l){try{var c=n.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&e)===e){var y=c.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,f=n;var T=l,z=_;try{z()}catch(F){De(f,T,F)}}}c=c.next}while(c!==p)}}catch(F){De(n,n.return,F)}}function If(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Uh(n,l)}catch(c){De(e,e.return,c)}}}function em(e,n,l){l.props=js(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(c){De(e,n,c)}}function di(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof l=="function"?e.refCleanup=l(c):l.current=c}}catch(f){De(e,n,f)}}function Zt(e,n){var l=e.ref,c=e.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(f){De(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){De(e,n,f)}else l.current=null}function tm(e){var n=e.type,l=e.memoizedProps,c=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(f){De(e,e.return,f)}}function Rc(e,n,l){try{var c=e.stateNode;_0(c,e.type,l,n),c[ut]=n}catch(f){De(e,e.return,f)}}function nm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function Cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wc(e,n,l){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=sr));else if(c!==4&&(c===27&&Kn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(wc(e,n,l),e=e.sibling;e!==null;)wc(e,n,l),e=e.sibling}function Gl(e,n,l){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(c!==4&&(c===27&&Kn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Gl(e,n,l),e=e.sibling;e!==null;)Gl(e,n,l),e=e.sibling}function sm(e){var n=e.stateNode,l=e.memoizedProps;try{for(var c=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);nt(n,c,l),n[st]=e,n[ut]=l}catch(p){De(e,e.return,p)}}var xn=!1,Ve=!1,zc=!1,am=typeof WeakSet=="function"?WeakSet:Set,$e=null;function n0(e,n){if(e=e.containerInfo,au=ur,e=mh(e),Co(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var y=0,_=-1,T=-1,z=0,F=0,Y=e,L=null;t:for(;;){for(var k;Y!==l||f!==0&&Y.nodeType!==3||(_=y+f),Y!==p||c!==0&&Y.nodeType!==3||(T=y+c),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)L=Y,Y=k;for(;;){if(Y===e)break t;if(L===l&&++z===f&&(_=y),L===p&&++F===c&&(T=y),(k=Y.nextSibling)!==null)break;Y=L,L=Y.parentNode}Y=k}l=_===-1||T===-1?null:{start:_,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(iu={focusedElem:e,selectionRange:l},ur=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,p=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=n,f=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var le=js(l.type,f,l.elementType===l.type);e=c.getSnapshotBeforeUpdate(le,p),c.__reactInternalSnapshotBeforeUpdate=e}catch(se){De(l,l.return,se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)ou(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ou(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function im(e,n,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Fn(e,l),c&4&&ui(5,l);break;case 1:if(Fn(e,l),c&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(y){De(l,l.return,y)}else{var f=js(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){De(l,l.return,y)}}c&64&&If(l),c&512&&di(l,l.return);break;case 3:if(Fn(e,l),c&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Uh(e,n)}catch(y){De(l,l.return,y)}}break;case 27:n===null&&c&4&&sm(l);case 26:case 5:Fn(e,l),n===null&&c&4&&tm(l),c&512&&di(l,l.return);break;case 12:Fn(e,l);break;case 13:Fn(e,l),c&4&&om(e,l),c&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=d0.bind(null,l),D0(e,l))));break;case 22:if(c=l.memoizedState!==null||xn,!c){n=n!==null&&n.memoizedState!==null||Ve,f=xn;var p=Ve;xn=c,(Ve=n)&&!p?Pn(e,l,(l.subtreeFlags&8772)!==0):Fn(e,l),xn=f,Ve=p}break;case 30:break;default:Fn(e,l)}}function lm(e){var n=e.alternate;n!==null&&(e.alternate=null,lm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&fo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var we=null,ft=!1;function bn(e,n,l){for(l=l.child;l!==null;)rm(e,n,l),l=l.sibling}function rm(e,n,l){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Ca,l)}catch{}switch(l.tag){case 26:Ve||Zt(l,n),bn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ve||Zt(l,n);var c=we,f=ft;Kn(l.type)&&(we=l.stateNode,ft=!1),bn(e,n,l),vi(l.stateNode),we=c,ft=f;break;case 5:Ve||Zt(l,n);case 6:if(c=we,f=ft,we=null,bn(e,n,l),we=c,ft=f,we!==null)if(ft)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(l.stateNode)}catch(p){De(l,n,p)}else try{we.removeChild(l.stateNode)}catch(p){De(l,n,p)}break;case 18:we!==null&&(ft?(e=we,Zm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ai(e)):Zm(we,l.stateNode));break;case 4:c=we,f=ft,we=l.stateNode.containerInfo,ft=!0,bn(e,n,l),we=c,ft=f;break;case 0:case 11:case 14:case 15:Ve||Vn(2,l,n),Ve||Vn(4,l,n),bn(e,n,l);break;case 1:Ve||(Zt(l,n),c=l.stateNode,typeof c.componentWillUnmount=="function"&&em(l,n,c)),bn(e,n,l);break;case 21:bn(e,n,l);break;case 22:Ve=(c=Ve)||l.memoizedState!==null,bn(e,n,l),Ve=c;break;default:bn(e,n,l)}}function om(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ai(e)}catch(l){De(n,n.return,l)}}function s0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new am),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new am),n;default:throw Error(i(435,e.tag))}}function Lc(e,n){var l=s0(e);n.forEach(function(c){var f=h0.bind(null,e,c);l.has(c)||(l.add(c),c.then(f,f))})}function _t(e,n){var l=n.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c],p=e,y=n,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(Kn(_.type)){we=_.stateNode,ft=!1;break e}break;case 5:we=_.stateNode,ft=!1;break e;case 3:case 4:we=_.stateNode.containerInfo,ft=!0;break e}_=_.return}if(we===null)throw Error(i(160));rm(p,y,f),we=null,ft=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)cm(n,e),n=n.sibling}var Pt=null;function cm(e,n){var l=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(n,e),Nt(e),c&4&&(Vn(3,e,e.return),ui(3,e),Vn(5,e,e.return));break;case 1:_t(n,e),Nt(e),c&512&&(Ve||l===null||Zt(l,l.return)),c&64&&xn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var f=Pt;if(_t(n,e),Nt(e),c&512&&(Ve||l===null||Zt(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=e.memoizedState,l===null)if(c===null)if(e.stateNode===null){e:{c=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[La]||p[st]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),nt(p,c,l),p[st]=e,Ze(p),c=p;break e;case"link":var y=sg("link","href",f).get(c+(l.href||""));if(y){for(var _=0;_<y.length;_++)if(p=y[_],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){y.splice(_,1);break t}}p=f.createElement(c),nt(p,c,l),f.head.appendChild(p);break;case"meta":if(y=sg("meta","content",f).get(c+(l.content||""))){for(_=0;_<y.length;_++)if(p=y[_],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){y.splice(_,1);break t}}p=f.createElement(c),nt(p,c,l),f.head.appendChild(p);break;default:throw Error(i(468,c))}p[st]=e,Ze(p),c=p}e.stateNode=c}else ag(f,e.type,e.stateNode);else e.stateNode=ng(f,c,e.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?ag(f,e.type,e.stateNode):ng(f,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,l.memoizedProps)}break;case 27:_t(n,e),Nt(e),c&512&&(Ve||l===null||Zt(l,l.return)),l!==null&&c&4&&Rc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(_t(n,e),Nt(e),c&512&&(Ve||l===null||Zt(l,l.return)),e.flags&32){f=e.stateNode;try{Ys(f,"")}catch(k){De(e,e.return,k)}}c&4&&e.stateNode!=null&&(f=e.memoizedProps,Rc(e,f,l!==null?l.memoizedProps:f)),c&1024&&(zc=!0);break;case 6:if(_t(n,e),Nt(e),c&4){if(e.stateNode===null)throw Error(i(162));c=e.memoizedProps,l=e.stateNode;try{l.nodeValue=c}catch(k){De(e,e.return,k)}}break;case 3:if(rr=null,f=Pt,Pt=ir(n.containerInfo),_t(n,e),Pt=f,Nt(e),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ai(n.containerInfo)}catch(k){De(e,e.return,k)}zc&&(zc=!1,um(e));break;case 4:c=Pt,Pt=ir(e.stateNode.containerInfo),_t(n,e),Nt(e),Pt=c;break;case 12:_t(n,e),Nt(e);break;case 13:_t(n,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Fc=Gt()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Lc(e,c)));break;case 22:f=e.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,z=xn,F=Ve;if(xn=z||f,Ve=F||T,_t(n,e),Ve=F,xn=z,Nt(e),c&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||T||xn||Ve||_s(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){T=l=n;try{if(p=T.stateNode,f)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=T.stateNode;var Y=T.memoizedProps.style,L=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(k){De(T,T.return,k)}}}else if(n.tag===6){if(l===null){T=n;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(k){De(T,T.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=e.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Lc(e,l))));break;case 19:_t(n,e),Nt(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Lc(e,c)));break;case 30:break;case 21:break;default:_t(n,e),Nt(e)}}function Nt(e){var n=e.flags;if(n&2){try{for(var l,c=e.return;c!==null;){if(nm(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var f=l.stateNode,p=Cc(e);Gl(e,p,f);break;case 5:var y=l.stateNode;l.flags&32&&(Ys(y,""),l.flags&=-33);var _=Cc(e);Gl(e,_,y);break;case 3:case 4:var T=l.stateNode.containerInfo,z=Cc(e);wc(e,z,T);break;default:throw Error(i(161))}}catch(F){De(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function um(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;um(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)im(e,n.alternate,n),n=n.sibling}function _s(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Vn(4,n,n.return),_s(n);break;case 1:Zt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&em(n,n.return,l),_s(n);break;case 27:vi(n.stateNode);case 26:case 5:Zt(n,n.return),_s(n);break;case 22:n.memoizedState===null&&_s(n);break;case 30:_s(n);break;default:_s(n)}e=e.sibling}}function Pn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,f=e,p=n,y=p.flags;switch(p.tag){case 0:case 11:case 15:Pn(f,p,l),ui(4,p);break;case 1:if(Pn(f,p,l),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){De(c,c.return,z)}if(c=p,f=c.updateQueue,f!==null){var _=c.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)Hh(T[f],_)}catch(z){De(c,c.return,z)}}l&&y&64&&If(p),di(p,p.return);break;case 27:sm(p);case 26:case 5:Pn(f,p,l),l&&c===null&&y&4&&tm(p),di(p,p.return);break;case 12:Pn(f,p,l);break;case 13:Pn(f,p,l),l&&y&4&&om(f,p);break;case 22:p.memoizedState===null&&Pn(f,p,l),di(p,p.return);break;case 30:break;default:Pn(f,p,l)}n=n.sibling}}function kc(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Wa(l))}function Bc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Wa(e))}function Wt(e,n,l,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dm(e,n,l,c),n=n.sibling}function dm(e,n,l,c){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Wt(e,n,l,c),f&2048&&ui(9,n);break;case 1:Wt(e,n,l,c);break;case 3:Wt(e,n,l,c),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Wa(e)));break;case 12:if(f&2048){Wt(e,n,l,c),e=n.stateNode;try{var p=n.memoizedProps,y=p.id,_=p.onPostCommit;typeof _=="function"&&_(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){De(n,n.return,T)}}else Wt(e,n,l,c);break;case 13:Wt(e,n,l,c);break;case 23:break;case 22:p=n.stateNode,y=n.alternate,n.memoizedState!==null?p._visibility&2?Wt(e,n,l,c):hi(e,n):p._visibility&2?Wt(e,n,l,c):(p._visibility|=2,oa(e,n,l,c,(n.subtreeFlags&10256)!==0)),f&2048&&kc(y,n);break;case 24:Wt(e,n,l,c),f&2048&&Bc(n.alternate,n);break;default:Wt(e,n,l,c)}}function oa(e,n,l,c,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var p=e,y=n,_=l,T=c,z=y.flags;switch(y.tag){case 0:case 11:case 15:oa(p,y,_,T,f),ui(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?oa(p,y,_,T,f):hi(p,y):(F._visibility|=2,oa(p,y,_,T,f)),f&&z&2048&&kc(y.alternate,y);break;case 24:oa(p,y,_,T,f),f&&z&2048&&Bc(y.alternate,y);break;default:oa(p,y,_,T,f)}n=n.sibling}}function hi(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,c=n,f=c.flags;switch(c.tag){case 22:hi(l,c),f&2048&&kc(c.alternate,c);break;case 24:hi(l,c),f&2048&&Bc(c.alternate,c);break;default:hi(l,c)}n=n.sibling}}var fi=8192;function ca(e){if(e.subtreeFlags&fi)for(e=e.child;e!==null;)hm(e),e=e.sibling}function hm(e){switch(e.tag){case 26:ca(e),e.flags&fi&&e.memoizedState!==null&&P0(Pt,e.memoizedState,e.memoizedProps);break;case 5:ca(e);break;case 3:case 4:var n=Pt;Pt=ir(e.stateNode.containerInfo),ca(e),Pt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=fi,fi=16777216,ca(e),fi=n):ca(e));break;default:ca(e)}}function fm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function mi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var c=n[l];$e=c,gm(c,e)}fm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mm(e),e=e.sibling}function mm(e){switch(e.tag){case 0:case 11:case 15:mi(e),e.flags&2048&&Vn(9,e,e.return);break;case 3:mi(e);break;case 12:mi(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ql(e)):mi(e);break;default:mi(e)}}function Ql(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var c=n[l];$e=c,gm(c,e)}fm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Vn(8,n,n.return),Ql(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Ql(n));break;default:Ql(n)}e=e.sibling}}function gm(e,n){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:Vn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Wa(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,$e=c;else e:for(l=e;$e!==null;){c=$e;var f=c.sibling,p=c.return;if(lm(c),c===l){$e=null;break e}if(f!==null){f.return=p,$e=f;break e}$e=p}}}var a0={getCacheForType:function(e){var n=at(Xe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l}},i0=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Oe=null,ge=null,be=0,Se=0,St=null,Yn=!1,ua=!1,Hc=!1,yn=0,He=0,qn=0,Ns=0,Uc=0,kt=0,da=0,gi=null,mt=null,Vc=!1,Fc=0,Kl=1/0,Zl=null,Xn=null,tt=0,Gn=null,ha=null,fa=0,Pc=0,Yc=null,pm=null,pi=0,qc=null;function Mt(){if((Ne&2)!==0&&be!==0)return be&-be;if(H.T!==null){var e=ea;return e!==0?e:$c()}return Rd()}function xm(){kt===0&&(kt=(be&536870912)===0||je?Ed():536870912);var e=Lt.current;return e!==null&&(e.flags|=32),kt}function Tt(e,n,l){(e===Oe&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(ma(e,0),Qn(e,be,kt,!1)),za(e,l),((Ne&2)===0||e!==Oe)&&(e===Oe&&((Ne&2)===0&&(Ns|=l),He===4&&Qn(e,be,kt,!1)),$t(e))}function bm(e,n,l){if((Ne&6)!==0)throw Error(i(327));var c=!l&&(n&124)===0&&(n&e.expiredLanes)===0||wa(e,n),f=c?o0(e,n):Qc(e,n,!0),p=c;do{if(f===0){ua&&!c&&Qn(e,n,0,!1);break}else{if(l=e.current.alternate,p&&!l0(l)){f=Qc(e,n,!1),p=!1;continue}if(f===2){if(p=n,e.errorRecoveryDisabledLanes&p)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var _=e;f=gi;var T=_.current.memoizedState.isDehydrated;if(T&&(ma(_,y).flags|=256),y=Qc(_,y,!1),y!==2){if(Hc&&!T){_.errorRecoveryDisabledLanes|=p,Ns|=p,f=4;break e}p=mt,mt=f,p!==null&&(mt===null?mt=p:mt.push.apply(mt,p))}f=y}if(p=!1,f!==2)continue}}if(f===1){ma(e,0),Qn(e,n,0,!0);break}e:{switch(c=e,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Qn(c,n,kt,!Yn);break e;case 2:mt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(f=Fc+300-Gt(),10<f)){if(Qn(c,n,kt,!Yn),ll(c,0,!0)!==0)break e;c.timeoutHandle=Qm(ym.bind(null,c,l,mt,Zl,Vc,n,kt,Ns,da,Yn,p,2,-0,0),f);break e}ym(c,l,mt,Zl,Vc,n,kt,Ns,da,Yn,p,0,-0,0)}}break}while(!0);$t(e)}function ym(e,n,l,c,f,p,y,_,T,z,F,Y,L,k){if(e.timeoutHandle=-1,Y=n.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ni={stylesheets:null,count:0,unsuspend:F0},hm(n),Y=Y0(),Y!==null)){e.cancelPendingCommit=Y(Tm.bind(null,e,n,p,l,c,f,y,_,T,F,1,L,k)),Qn(e,p,y,!z);return}Tm(e,n,p,l,c,f,y,_,T)}function l0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var f=l[c],p=f.getSnapshot;f=f.value;try{if(!vt(p(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qn(e,n,l,c){n&=~Uc,n&=~Ns,e.suspendedLanes|=n,e.pingedLanes&=~n,c&&(e.warmLanes|=n),c=e.expirationTimes;for(var f=n;0<f;){var p=31-yt(f),y=1<<p;c[p]=-1,f&=~y}l!==0&&Dd(e,l,n)}function Wl(){return(Ne&6)===0?(xi(0),!1):!0}function Xc(){if(ge!==null){if(Se===0)var e=ge.return;else e=ge,dn=xs=null,oc(e),la=null,ri=0,e=ge;for(;e!==null;)Jf(e.alternate,e),e=e.return;ge=null}}function ma(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,S0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Xc(),Oe=e,ge=l=on(e.current,null),be=n,Se=0,St=null,Yn=!1,ua=wa(e,n),Hc=!1,da=kt=Uc=Ns=qn=He=0,mt=gi=null,Vc=!1,(n&8)!==0&&(n|=n&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=n;0<c;){var f=31-yt(c),p=1<<f;n|=e[f],c&=~p}return yn=n,bl(),l}function vm(e,n){ue=null,H.H=Bl,n===Ja||n===El?(n=kh(),Se=3):n===wh?(n=kh(),Se=4):Se=n===Hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,St=n,ge===null&&(He=1,Pl(e,Rt(n,e.current)))}function jm(){var e=H.H;return H.H=Bl,e===null?Bl:e}function _m(){var e=H.A;return H.A=a0,e}function Gc(){He=4,Yn||(be&4194048)!==be&&Lt.current!==null||(ua=!0),(qn&134217727)===0&&(Ns&134217727)===0||Oe===null||Qn(Oe,be,kt,!1)}function Qc(e,n,l){var c=Ne;Ne|=2;var f=jm(),p=_m();(Oe!==e||be!==n)&&(Zl=null,ma(e,n)),n=!1;var y=He;e:do try{if(Se!==0&&ge!==null){var _=ge,T=St;switch(Se){case 8:Xc(),y=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(n=!0);var z=Se;if(Se=0,St=null,ga(e,_,T,z),l&&ua){y=0;break e}break;default:z=Se,Se=0,St=null,ga(e,_,T,z)}}r0(),y=He;break}catch(F){vm(e,F)}while(!0);return n&&e.shellSuspendCounter++,dn=xs=null,Ne=c,H.H=f,H.A=p,ge===null&&(Oe=null,be=0,bl()),y}function r0(){for(;ge!==null;)Nm(ge)}function o0(e,n){var l=Ne;Ne|=2;var c=jm(),f=_m();Oe!==e||be!==n?(Zl=null,Kl=Gt()+500,ma(e,n)):ua=wa(e,n);e:do try{if(Se!==0&&ge!==null){n=ge;var p=St;t:switch(Se){case 1:Se=0,St=null,ga(e,n,p,1);break;case 2:case 9:if(zh(p)){Se=0,St=null,Sm(n);break}n=function(){Se!==2&&Se!==9||Oe!==e||(Se=7),$t(e)},p.then(n,n);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:zh(p)?(Se=0,St=null,Sm(n)):(Se=0,St=null,ga(e,n,p,7));break;case 5:var y=null;switch(ge.tag){case 26:y=ge.memoizedState;case 5:case 27:var _=ge;if(!y||ig(y)){Se=0,St=null;var T=_.sibling;if(T!==null)ge=T;else{var z=_.return;z!==null?(ge=z,$l(z)):ge=null}break t}}Se=0,St=null,ga(e,n,p,5);break;case 6:Se=0,St=null,ga(e,n,p,6);break;case 8:Xc(),He=6;break e;default:throw Error(i(462))}}c0();break}catch(F){vm(e,F)}while(!0);return dn=xs=null,H.H=c,H.A=f,Ne=l,ge!==null?0:(Oe=null,be=0,bl(),He)}function c0(){for(;ge!==null&&!Rb();)Nm(ge)}function Nm(e){var n=Wf(e.alternate,e,yn);e.memoizedProps=e.pendingProps,n===null?$l(e):ge=n}function Sm(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=qf(l,n,n.pendingProps,n.type,void 0,be);break;case 11:n=qf(l,n,n.pendingProps,n.type.render,n.ref,be);break;case 5:oc(n);default:Jf(l,n),n=ge=Sh(n,yn),n=Wf(l,n,yn)}e.memoizedProps=e.pendingProps,n===null?$l(e):ge=n}function ga(e,n,l,c){dn=xs=null,oc(n),la=null,ri=0;var f=n.return;try{if(Jy(e,f,n,l,be)){He=1,Pl(e,Rt(l,e.current)),ge=null;return}}catch(p){if(f!==null)throw ge=f,p;He=1,Pl(e,Rt(l,e.current)),ge=null;return}n.flags&32768?(je||c===1?e=!0:ua||(be&536870912)!==0?e=!1:(Yn=e=!0,(c===2||c===9||c===3||c===6)&&(c=Lt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Mm(n,e)):$l(n)}function $l(e){var n=e;do{if((n.flags&32768)!==0){Mm(n,Yn);return}e=n.return;var l=e0(n.alternate,n,yn);if(l!==null){ge=l;return}if(n=n.sibling,n!==null){ge=n;return}ge=n=e}while(n!==null);He===0&&(He=5)}function Mm(e,n){do{var l=t0(e.alternate,e);if(l!==null){l.flags&=32767,ge=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){ge=e;return}ge=e=l}while(e!==null);He=6,ge=null}function Tm(e,n,l,c,f,p,y,_,T){e.cancelPendingCommit=null;do Jl();while(tt!==0);if((Ne&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(p=n.lanes|n.childLanes,p|=Bo,Fb(e,l,p,y,_,T),e===Oe&&(ge=Oe=null,be=0),ha=n,Gn=e,fa=l,Pc=p,Yc=f,pm=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,f0(sl,function(){return Rm(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,f=G.p,G.p=2,y=Ne,Ne|=4;try{n0(e,n,l)}finally{Ne=y,G.p=f,H.T=c}}tt=1,Em(),Am(),Dm()}}function Em(){if(tt===1){tt=0;var e=Gn,n=ha,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var c=G.p;G.p=2;var f=Ne;Ne|=4;try{cm(n,e);var p=iu,y=mh(e.containerInfo),_=p.focusedElem,T=p.selectionRange;if(y!==_&&_&&_.ownerDocument&&fh(_.ownerDocument.documentElement,_)){if(T!==null&&Co(_)){var z=T.start,F=T.end;if(F===void 0&&(F=z),"selectionStart"in _)_.selectionStart=z,_.selectionEnd=Math.min(F,_.value.length);else{var Y=_.ownerDocument||document,L=Y&&Y.defaultView||window;if(L.getSelection){var k=L.getSelection(),le=_.textContent.length,se=Math.min(T.start,le),Ae=T.end===void 0?se:Math.min(T.end,le);!k.extend&&se>Ae&&(y=Ae,Ae=se,se=y);var O=hh(_,se),D=hh(_,Ae);if(O&&D&&(k.rangeCount!==1||k.anchorNode!==O.node||k.anchorOffset!==O.offset||k.focusNode!==D.node||k.focusOffset!==D.offset)){var w=Y.createRange();w.setStart(O.node,O.offset),k.removeAllRanges(),se>Ae?(k.addRange(w),k.extend(D.node,D.offset)):(w.setEnd(D.node,D.offset),k.addRange(w))}}}}for(Y=[],k=_;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<Y.length;_++){var P=Y[_];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ur=!!au,iu=au=null}finally{Ne=f,G.p=c,H.T=l}}e.current=n,tt=2}}function Am(){if(tt===2){tt=0;var e=Gn,n=ha,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var c=G.p;G.p=2;var f=Ne;Ne|=4;try{im(e,n.alternate,n)}finally{Ne=f,G.p=c,H.T=l}}tt=3}}function Dm(){if(tt===4||tt===3){tt=0,Cb();var e=Gn,n=ha,l=fa,c=pm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tt=5:(tt=0,ha=Gn=null,Om(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Xn=null),uo(l),n=n.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Ca,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=H.T,f=G.p,G.p=2,H.T=null;try{for(var p=e.onRecoverableError,y=0;y<c.length;y++){var _=c[y];p(_.value,{componentStack:_.stack})}}finally{H.T=n,G.p=f}}(fa&3)!==0&&Jl(),$t(e),f=e.pendingLanes,(l&4194090)!==0&&(f&42)!==0?e===qc?pi++:(pi=0,qc=e):pi=0,xi(0)}}function Om(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Wa(n)))}function Jl(e){return Em(),Am(),Dm(),Rm()}function Rm(){if(tt!==5)return!1;var e=Gn,n=Pc;Pc=0;var l=uo(fa),c=H.T,f=G.p;try{G.p=32>l?32:l,H.T=null,l=Yc,Yc=null;var p=Gn,y=fa;if(tt=0,ha=Gn=null,fa=0,(Ne&6)!==0)throw Error(i(331));var _=Ne;if(Ne|=4,mm(p.current),dm(p,p.current,y,l),Ne=_,xi(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Ca,p)}catch{}return!0}finally{G.p=f,H.T=c,Om(e,n)}}function Cm(e,n,l){n=Rt(l,n),n=_c(e.stateNode,n,2),e=kn(e,n,2),e!==null&&(za(e,2),$t(e))}function De(e,n,l){if(e.tag===3)Cm(e,e,l);else for(;n!==null;){if(n.tag===3){Cm(n,e,l);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Xn===null||!Xn.has(c))){e=Rt(l,e),l=kf(2),c=kn(n,l,2),c!==null&&(Bf(l,c,n,e),za(c,2),$t(c));break}}n=n.return}}function Kc(e,n,l){var c=e.pingCache;if(c===null){c=e.pingCache=new i0;var f=new Set;c.set(n,f)}else f=c.get(n),f===void 0&&(f=new Set,c.set(n,f));f.has(l)||(Hc=!0,f.add(l),e=u0.bind(null,e,n,l),n.then(e,e))}function u0(e,n,l){var c=e.pingCache;c!==null&&c.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Oe===e&&(be&l)===l&&(He===4||He===3&&(be&62914560)===be&&300>Gt()-Fc?(Ne&2)===0&&ma(e,0):Uc|=l,da===be&&(da=0)),$t(e)}function wm(e,n){n===0&&(n=Ad()),e=Ws(e,n),e!==null&&(za(e,n),$t(e))}function d0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),wm(e,l)}function h0(e,n){var l=0;switch(e.tag){case 13:var c=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(n),wm(e,l)}function f0(e,n){return lo(e,n)}var Il=null,pa=null,Zc=!1,er=!1,Wc=!1,Ss=0;function $t(e){e!==pa&&e.next===null&&(pa===null?Il=pa=e:pa=pa.next=e),er=!0,Zc||(Zc=!0,g0())}function xi(e,n){if(!Wc&&er){Wc=!0;do for(var l=!1,c=Il;c!==null;){if(e!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var y=c.suspendedLanes,_=c.pingedLanes;p=(1<<31-yt(42|e)+1)-1,p&=f&~(y&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Bm(c,p))}else p=be,p=ll(c,c===Oe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||wa(c,p)||(l=!0,Bm(c,p));c=c.next}while(l);Wc=!1}}function m0(){zm()}function zm(){er=Zc=!1;var e=0;Ss!==0&&(N0()&&(e=Ss),Ss=0);for(var n=Gt(),l=null,c=Il;c!==null;){var f=c.next,p=Lm(c,n);p===0?(c.next=null,l===null?Il=f:l.next=f,f===null&&(pa=l)):(l=c,(e!==0||(p&3)!==0)&&(er=!0)),c=f}xi(e)}function Lm(e,n){for(var l=e.suspendedLanes,c=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var y=31-yt(p),_=1<<y,T=f[y];T===-1?((_&l)===0||(_&c)!==0)&&(f[y]=Vb(_,n)):T<=n&&(e.expiredLanes|=_),p&=~_}if(n=Oe,l=be,l=ll(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,l===0||e===n&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&ro(c),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||wa(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(c!==null&&ro(c),uo(l)){case 2:case 8:l=Md;break;case 32:l=sl;break;case 268435456:l=Td;break;default:l=sl}return c=km.bind(null,e),l=lo(l,c),e.callbackPriority=n,e.callbackNode=l,n}return c!==null&&c!==null&&ro(c),e.callbackPriority=2,e.callbackNode=null,2}function km(e,n){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Jl()&&e.callbackNode!==l)return null;var c=be;return c=ll(e,e===Oe?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(bm(e,c,n),Lm(e,Gt()),e.callbackNode!=null&&e.callbackNode===l?km.bind(null,e):null)}function Bm(e,n){if(Jl())return null;bm(e,n,!0)}function g0(){M0(function(){(Ne&6)!==0?lo(Sd,m0):zm()})}function $c(){return Ss===0&&(Ss=Ed()),Ss}function Hm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dl(""+e)}function Um(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function p0(e,n,l,c,f){if(n==="submit"&&l&&l.stateNode===f){var p=Hm((f[ut]||null).action),y=c.submitter;y&&(n=(n=y[ut]||null)?Hm(n.formAction):y.getAttribute("formAction"),n!==null&&(p=n,y=null));var _=new gl("action","action",null,c,f);e.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ss!==0){var T=y?Um(f,y):new FormData(f);xc(l,{pending:!0,data:T,method:f.method,action:p},null,T)}}else typeof p=="function"&&(_.preventDefault(),T=y?Um(f,y):new FormData(f),xc(l,{pending:!0,data:T,method:f.method,action:p},p,T))},currentTarget:f}]})}}for(var Jc=0;Jc<ko.length;Jc++){var Ic=ko[Jc],x0=Ic.toLowerCase(),b0=Ic[0].toUpperCase()+Ic.slice(1);Ft(x0,"on"+b0)}Ft(xh,"onAnimationEnd"),Ft(bh,"onAnimationIteration"),Ft(yh,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Ly,"onTransitionRun"),Ft(ky,"onTransitionStart"),Ft(By,"onTransitionCancel"),Ft(vh,"onTransitionEnd"),Vs("onMouseEnter",["mouseout","mouseover"]),Vs("onMouseLeave",["mouseout","mouseover"]),Vs("onPointerEnter",["pointerout","pointerover"]),Vs("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bi));function Vm(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var c=e[l],f=c.event;c=c.listeners;e:{var p=void 0;if(n)for(var y=c.length-1;0<=y;y--){var _=c[y],T=_.instance,z=_.currentTarget;if(_=_.listener,T!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=z;try{p(f)}catch(F){Fl(F)}f.currentTarget=null,p=T}else for(y=0;y<c.length;y++){if(_=c[y],T=_.instance,z=_.currentTarget,_=_.listener,T!==p&&f.isPropagationStopped())break e;p=_,f.currentTarget=z;try{p(f)}catch(F){Fl(F)}f.currentTarget=null,p=T}}}}function pe(e,n){var l=n[ho];l===void 0&&(l=n[ho]=new Set);var c=e+"__bubble";l.has(c)||(Fm(n,e,2,!1),l.add(c))}function eu(e,n,l){var c=0;n&&(c|=4),Fm(l,e,c,n)}var tr="_reactListening"+Math.random().toString(36).slice(2);function tu(e){if(!e[tr]){e[tr]=!0,wd.forEach(function(l){l!=="selectionchange"&&(y0.has(l)||eu(l,!1,e),eu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tr]||(n[tr]=!0,eu("selectionchange",!1,n))}}function Fm(e,n,l,c){switch(dg(n)){case 2:var f=G0;break;case 8:f=Q0;break;default:f=gu}l=f.bind(null,n,l,e),f=void 0,!No||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),c?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function nu(e,n,l,c,f){var p=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var _=c.stateNode.containerInfo;if(_===f)break;if(y===4)for(y=c.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;_!==null;){if(y=Bs(_),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){c=p=y;continue e}_=_.parentNode}}c=c.return}Qd(function(){var z=p,F=jo(l),Y=[];e:{var L=jh.get(e);if(L!==void 0){var k=gl,le=e;switch(e){case"keypress":if(fl(l)===0)break e;case"keydown":case"keyup":k=fy;break;case"focusin":le="focus",k=Eo;break;case"focusout":le="blur",k=Eo;break;case"beforeblur":case"afterblur":k=Eo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=py;break;case xh:case bh:case yh:k=ay;break;case vh:k=by;break;case"scroll":case"scrollend":k=Ib;break;case"wheel":k=vy;break;case"copy":case"cut":case"paste":k=ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Jd;break;case"toggle":case"beforetoggle":k=_y}var se=(n&4)!==0,Ae=!se&&(e==="scroll"||e==="scrollend"),O=se?L!==null?L+"Capture":null:L;se=[];for(var D=z,w;D!==null;){var P=D;if(w=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||w===null||O===null||(P=Ba(D,O),P!=null&&se.push(yi(D,P,w))),Ae)break;D=D.return}0<se.length&&(L=new k(L,le,null,l,F),Y.push({event:L,listeners:se}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",L&&l!==vo&&(le=l.relatedTarget||l.fromElement)&&(Bs(le)||le[ks]))break e;if((k||L)&&(L=F.window===F?F:(L=F.ownerDocument)?L.defaultView||L.parentWindow:window,k?(le=l.relatedTarget||l.toElement,k=z,le=le?Bs(le):null,le!==null&&(Ae=o(le),se=le.tag,le!==Ae||se!==5&&se!==27&&se!==6)&&(le=null)):(k=null,le=z),k!==le)){if(se=Wd,P="onMouseLeave",O="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(se=Jd,P="onPointerLeave",O="onPointerEnter",D="pointer"),Ae=k==null?L:ka(k),w=le==null?L:ka(le),L=new se(P,D+"leave",k,l,F),L.target=Ae,L.relatedTarget=w,P=null,Bs(F)===z&&(se=new se(O,D+"enter",le,l,F),se.target=w,se.relatedTarget=Ae,P=se),Ae=P,k&&le)t:{for(se=k,O=le,D=0,w=se;w;w=xa(w))D++;for(w=0,P=O;P;P=xa(P))w++;for(;0<D-w;)se=xa(se),D--;for(;0<w-D;)O=xa(O),w--;for(;D--;){if(se===O||O!==null&&se===O.alternate)break t;se=xa(se),O=xa(O)}se=null}else se=null;k!==null&&Pm(Y,L,k,se,!1),le!==null&&Ae!==null&&Pm(Y,Ae,le,se,!0)}}e:{if(L=z?ka(z):window,k=L.nodeName&&L.nodeName.toLowerCase(),k==="select"||k==="input"&&L.type==="file")var J=lh;else if(ah(L))if(rh)J=Cy;else{J=Oy;var fe=Dy}else k=L.nodeName,!k||k.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?z&&yo(z.elementType)&&(J=lh):J=Ry;if(J&&(J=J(e,z))){ih(Y,J,l,F);break e}fe&&fe(e,L,z),e==="focusout"&&z&&L.type==="number"&&z.memoizedProps.value!=null&&bo(L,"number",L.value)}switch(fe=z?ka(z):window,e){case"focusin":(ah(fe)||fe.contentEditable==="true")&&(Qs=fe,wo=z,Xa=null);break;case"focusout":Xa=wo=Qs=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,gh(Y,l,F);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":gh(Y,l,F)}var ee;if(Do)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else Gs?nh(e,l)&&(ae="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ae="onCompositionStart");ae&&(Id&&l.locale!=="ko"&&(Gs||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&Gs&&(ee=Kd()):(Cn=F,So="value"in Cn?Cn.value:Cn.textContent,Gs=!0)),fe=nr(z,ae),0<fe.length&&(ae=new $d(ae,e,null,l,F),Y.push({event:ae,listeners:fe}),ee?ae.data=ee:(ee=sh(l),ee!==null&&(ae.data=ee)))),(ee=Sy?My(e,l):Ty(e,l))&&(ae=nr(z,"onBeforeInput"),0<ae.length&&(fe=new $d("onBeforeInput","beforeinput",null,l,F),Y.push({event:fe,listeners:ae}),fe.data=ee)),p0(Y,e,z,l,F)}Vm(Y,n)})}function yi(e,n,l){return{instance:e,listener:n,currentTarget:l}}function nr(e,n){for(var l=n+"Capture",c=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ba(e,l),f!=null&&c.unshift(yi(e,f,p)),f=Ba(e,n),f!=null&&c.push(yi(e,f,p))),e.tag===3)return c;e=e.return}return[]}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Pm(e,n,l,c,f){for(var p=n._reactName,y=[];l!==null&&l!==c;){var _=l,T=_.alternate,z=_.stateNode;if(_=_.tag,T!==null&&T===c)break;_!==5&&_!==26&&_!==27||z===null||(T=z,f?(z=Ba(l,p),z!=null&&y.unshift(yi(l,z,T))):f||(z=Ba(l,p),z!=null&&y.push(yi(l,z,T)))),l=l.return}y.length!==0&&e.push({event:n,listeners:y})}var v0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function Ym(e){return(typeof e=="string"?e:""+e).replace(v0,`
`).replace(j0,"")}function qm(e,n){return n=Ym(n),Ym(e)===n}function sr(){}function Ee(e,n,l,c,f,p){switch(l){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||Ys(e,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&Ys(e,""+c);break;case"className":ol(e,"class",c);break;case"tabIndex":ol(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ol(e,l,c);break;case"style":Xd(e,c,p);break;case"data":if(n!=="object"){ol(e,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(l);break}c=dl(""+c),e.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(n!=="input"&&Ee(e,n,"name",f.name,f,null),Ee(e,n,"formEncType",f.formEncType,f,null),Ee(e,n,"formMethod",f.formMethod,f,null),Ee(e,n,"formTarget",f.formTarget,f,null)):(Ee(e,n,"encType",f.encType,f,null),Ee(e,n,"method",f.method,f,null),Ee(e,n,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(l);break}c=dl(""+c),e.setAttribute(l,c);break;case"onClick":c!=null&&(e.onclick=sr);break;case"onScroll":c!=null&&pe("scroll",e);break;case"onScrollEnd":c!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}l=dl(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,""+c):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":c===!0?e.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(l,c):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(l,c):e.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(l):e.setAttribute(l,c);break;case"popover":pe("beforetoggle",e),pe("toggle",e),rl(e,"popover",c);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":rl(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=$b.get(l)||l,rl(e,l,c))}}function su(e,n,l,c,f,p){switch(l){case"style":Xd(e,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(f.children!=null)throw Error(i(60));e.innerHTML=l}}break;case"children":typeof c=="string"?Ys(e,c):(typeof c=="number"||typeof c=="bigint")&&Ys(e,""+c);break;case"onScroll":c!=null&&pe("scroll",e);break;case"onScrollEnd":c!=null&&pe("scrollend",e);break;case"onClick":c!=null&&(e.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),p=e[ut]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(n,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,c,f);break e}l in e?e[l]=c:c===!0?e.setAttribute(l,""):rl(e,l,c)}}}function nt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var c=!1,f=!1,p;for(p in l)if(l.hasOwnProperty(p)){var y=l[p];if(y!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ee(e,n,p,y,l,null)}}f&&Ee(e,n,"srcSet",l.srcSet,l,null),c&&Ee(e,n,"src",l.src,l,null);return;case"input":pe("invalid",e);var _=p=y=f=null,T=null,z=null;for(c in l)if(l.hasOwnProperty(c)){var F=l[c];if(F!=null)switch(c){case"name":f=F;break;case"type":y=F;break;case"checked":T=F;break;case"defaultChecked":z=F;break;case"value":p=F;break;case"defaultValue":_=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(137,n));break;default:Ee(e,n,c,F,l,null)}}Fd(e,p,_,T,z,y,f,!1),cl(e);return;case"select":pe("invalid",e),c=y=p=null;for(f in l)if(l.hasOwnProperty(f)&&(_=l[f],_!=null))switch(f){case"value":p=_;break;case"defaultValue":y=_;break;case"multiple":c=_;default:Ee(e,n,f,_,l,null)}n=p,l=y,e.multiple=!!c,n!=null?Ps(e,!!c,n,!1):l!=null&&Ps(e,!!c,l,!0);return;case"textarea":pe("invalid",e),p=f=c=null;for(y in l)if(l.hasOwnProperty(y)&&(_=l[y],_!=null))switch(y){case"value":c=_;break;case"defaultValue":f=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:Ee(e,n,y,_,l,null)}Yd(e,c,f,p),cl(e);return;case"option":for(T in l)if(l.hasOwnProperty(T)&&(c=l[T],c!=null))switch(T){case"selected":e.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ee(e,n,T,c,l,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(c=0;c<bi.length;c++)pe(bi[c],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Ee(e,n,z,c,l,null)}return;default:if(yo(n)){for(F in l)l.hasOwnProperty(F)&&(c=l[F],c!==void 0&&su(e,n,F,c,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(c=l[_],c!=null&&Ee(e,n,_,c,l,null))}function _0(e,n,l,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,y=null,_=null,T=null,z=null,F=null;for(k in l){var Y=l[k];if(l.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":T=Y;default:c.hasOwnProperty(k)||Ee(e,n,k,null,c,Y)}}for(var L in c){var k=c[L];if(Y=l[L],c.hasOwnProperty(L)&&(k!=null||Y!=null))switch(L){case"type":p=k;break;case"name":f=k;break;case"checked":z=k;break;case"defaultChecked":F=k;break;case"value":y=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(137,n));break;default:k!==Y&&Ee(e,n,L,k,c,Y)}}xo(e,y,_,T,z,F,p,f);return;case"select":k=y=_=L=null;for(p in l)if(T=l[p],l.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":k=T;default:c.hasOwnProperty(p)||Ee(e,n,p,null,c,T)}for(f in c)if(p=c[f],T=l[f],c.hasOwnProperty(f)&&(p!=null||T!=null))switch(f){case"value":L=p;break;case"defaultValue":_=p;break;case"multiple":y=p;default:p!==T&&Ee(e,n,f,p,c,T)}n=_,l=y,c=k,L!=null?Ps(e,!!l,L,!1):!!c!=!!l&&(n!=null?Ps(e,!!l,n,!0):Ps(e,!!l,l?[]:"",!1));return;case"textarea":k=L=null;for(_ in l)if(f=l[_],l.hasOwnProperty(_)&&f!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ee(e,n,_,null,c,f)}for(y in c)if(f=c[y],p=l[y],c.hasOwnProperty(y)&&(f!=null||p!=null))switch(y){case"value":L=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&Ee(e,n,y,f,c,p)}Pd(e,L,k);return;case"option":for(var le in l)if(L=l[le],l.hasOwnProperty(le)&&L!=null&&!c.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:Ee(e,n,le,null,c,L)}for(T in c)if(L=c[T],k=l[T],c.hasOwnProperty(T)&&L!==k&&(L!=null||k!=null))switch(T){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ee(e,n,T,L,c,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in l)L=l[se],l.hasOwnProperty(se)&&L!=null&&!c.hasOwnProperty(se)&&Ee(e,n,se,null,c,L);for(z in c)if(L=c[z],k=l[z],c.hasOwnProperty(z)&&L!==k&&(L!=null||k!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,n));break;default:Ee(e,n,z,L,c,k)}return;default:if(yo(n)){for(var Ae in l)L=l[Ae],l.hasOwnProperty(Ae)&&L!==void 0&&!c.hasOwnProperty(Ae)&&su(e,n,Ae,void 0,c,L);for(F in c)L=c[F],k=l[F],!c.hasOwnProperty(F)||L===k||L===void 0&&k===void 0||su(e,n,F,L,c,k);return}}for(var O in l)L=l[O],l.hasOwnProperty(O)&&L!=null&&!c.hasOwnProperty(O)&&Ee(e,n,O,null,c,L);for(Y in c)L=c[Y],k=l[Y],!c.hasOwnProperty(Y)||L===k||L==null&&k==null||Ee(e,n,Y,L,c,k)}var au=null,iu=null;function ar(e){return e.nodeType===9?e:e.ownerDocument}function Xm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function lu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ru=null;function N0(){var e=window.event;return e&&e.type==="popstate"?e===ru?!1:(ru=e,!0):(ru=null,!1)}var Qm=typeof setTimeout=="function"?setTimeout:void 0,S0=typeof clearTimeout=="function"?clearTimeout:void 0,Km=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof Km<"u"?function(e){return Km.resolve(null).then(e).catch(T0)}:Qm;function T0(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function Zm(e,n){var l=n,c=0,f=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var y=e.ownerDocument;if(l&1&&vi(y.documentElement),l&2&&vi(y.body),l&4)for(l=y.head,vi(l),y=l.firstChild;y;){var _=y.nextSibling,T=y.nodeName;y[La]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=_}}if(f===0){e.removeChild(p),Ai(n);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);Ai(n)}function ou(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ou(l),fo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function E0(e,n,l,c){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[La])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function A0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Yt(e.nextSibling),e===null))return null;return e}function cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function D0(e,n){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")n();else{var c=function(){n(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Yt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var uu=null;function Wm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}function $m(e,n,l){switch(n=ar(l),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function vi(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);fo(e)}var Bt=new Map,Jm=new Set;function ir(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=G.d;G.d={f:O0,r:R0,D:C0,C:w0,L:z0,m:L0,X:B0,S:k0,M:H0};function O0(){var e=vn.f(),n=Wl();return e||n}function R0(e){var n=Hs(e);n!==null&&n.tag===5&&n.type==="form"?bf(n):vn.r(e)}var ba=typeof document>"u"?null:document;function Im(e,n,l){var c=ba;if(c&&typeof n=="string"&&n){var f=Ot(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Jm.has(f)||(Jm.add(f),e={rel:e,crossOrigin:l,href:n},c.querySelector(f)===null&&(n=c.createElement("link"),nt(n,"link",e),Ze(n),c.head.appendChild(n)))}}function C0(e){vn.D(e),Im("dns-prefetch",e,null)}function w0(e,n){vn.C(e,n),Im("preconnect",e,n)}function z0(e,n,l){vn.L(e,n,l);var c=ba;if(c&&e&&n){var f='link[rel="preload"][as="'+Ot(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Ot(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Ot(l.imageSizes)+'"]')):f+='[href="'+Ot(e)+'"]';var p=f;switch(n){case"style":p=ya(e);break;case"script":p=va(e)}Bt.has(p)||(e=x({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Bt.set(p,e),c.querySelector(f)!==null||n==="style"&&c.querySelector(ji(p))||n==="script"&&c.querySelector(_i(p))||(n=c.createElement("link"),nt(n,"link",e),Ze(n),c.head.appendChild(n)))}}function L0(e,n){vn.m(e,n);var l=ba;if(l&&e){var c=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ot(c)+'"][href="'+Ot(e)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=va(e)}if(!Bt.has(p)&&(e=x({rel:"modulepreload",href:e},n),Bt.set(p,e),l.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(_i(p)))return}c=l.createElement("link"),nt(c,"link",e),Ze(c),l.head.appendChild(c)}}}function k0(e,n,l){vn.S(e,n,l);var c=ba;if(c&&e){var f=Us(c).hoistableStyles,p=ya(e);n=n||"default";var y=f.get(p);if(!y){var _={loading:0,preload:null};if(y=c.querySelector(ji(p)))_.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Bt.get(p))&&du(e,l);var T=y=c.createElement("link");Ze(T),nt(T,"link",e),T._p=new Promise(function(z,F){T.onload=z,T.onerror=F}),T.addEventListener("load",function(){_.loading|=1}),T.addEventListener("error",function(){_.loading|=2}),_.loading|=4,lr(y,n,c)}y={type:"stylesheet",instance:y,count:1,state:_},f.set(p,y)}}}function B0(e,n){vn.X(e,n);var l=ba;if(l&&e){var c=Us(l).hoistableScripts,f=va(e),p=c.get(f);p||(p=l.querySelector(_i(f)),p||(e=x({src:e,async:!0},n),(n=Bt.get(f))&&hu(e,n),p=l.createElement("script"),Ze(p),nt(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function H0(e,n){vn.M(e,n);var l=ba;if(l&&e){var c=Us(l).hoistableScripts,f=va(e),p=c.get(f);p||(p=l.querySelector(_i(f)),p||(e=x({src:e,async:!0,type:"module"},n),(n=Bt.get(f))&&hu(e,n),p=l.createElement("script"),Ze(p),nt(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function eg(e,n,l,c){var f=(f=ne.current)?ir(f):null;if(!f)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=ya(l.href),l=Us(f).hoistableStyles,c=l.get(n),c||(c={type:"style",instance:null,count:0,state:null},l.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ya(l.href);var p=Us(f).hoistableStyles,y=p.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,y),(p=f.querySelector(ji(e)))&&!p._p&&(y.instance=p,y.state.loading=5),Bt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Bt.set(e,l),p||U0(f,e,l,y.state))),n&&c===null)throw Error(i(528,""));return y}if(n&&c!==null)throw Error(i(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=va(l),l=Us(f).hoistableScripts,c=l.get(n),c||(c={type:"script",instance:null,count:0,state:null},l.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ya(e){return'href="'+Ot(e)+'"'}function ji(e){return'link[rel="stylesheet"]['+e+"]"}function tg(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function U0(e,n,l,c){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=e.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),nt(n,"link",l),Ze(n),e.head.appendChild(n))}function va(e){return'[src="'+Ot(e)+'"]'}function _i(e){return"script[async]"+e}function ng(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var c=e.querySelector('style[data-href~="'+Ot(l.href)+'"]');if(c)return n.instance=c,Ze(c),c;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),Ze(c),nt(c,"style",f),lr(c,l.precedence,e),n.instance=c;case"stylesheet":f=ya(l.href);var p=e.querySelector(ji(f));if(p)return n.state.loading|=4,n.instance=p,Ze(p),p;c=tg(l),(f=Bt.get(f))&&du(c,f),p=(e.ownerDocument||e).createElement("link"),Ze(p);var y=p;return y._p=new Promise(function(_,T){y.onload=_,y.onerror=T}),nt(p,"link",c),n.state.loading|=4,lr(p,l.precedence,e),n.instance=p;case"script":return p=va(l.src),(f=e.querySelector(_i(p)))?(n.instance=f,Ze(f),f):(c=l,(f=Bt.get(p))&&(c=x({},l),hu(c,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ze(f),nt(f,"link",c),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,lr(c,l.precedence,e));return n.instance}function lr(e,n,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,y=0;y<c.length;y++){var _=c[y];if(_.dataset.precedence===n)p=_;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function du(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function hu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rr=null;function sg(e,n,l){if(rr===null){var c=new Map,f=rr=new Map;f.set(l,c)}else f=rr,c=f.get(l),c||(c=new Map,f.set(l,c));if(c.has(e))return c;for(c.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var p=l[f];if(!(p[La]||p[st]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var y=p.getAttribute(n)||"";y=e+y;var _=c.get(y);_?_.push(p):c.set(y,[p])}}return c}function ag(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function V0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ig(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ni=null;function F0(){}function P0(e,n,l){if(Ni===null)throw Error(i(475));var c=Ni;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=ya(l.href),p=e.querySelector(ji(f));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(c.count++,c=or.bind(c),e.then(c,c)),n.state.loading|=4,n.instance=p,Ze(p);return}p=e.ownerDocument||e,l=tg(l),(f=Bt.get(f))&&du(l,f),p=p.createElement("link"),Ze(p);var y=p;y._p=new Promise(function(_,T){y.onload=_,y.onerror=T}),nt(p,"link",l),n.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(c.count++,n=or.bind(c),e.addEventListener("load",n),e.addEventListener("error",n))}}function Y0(){if(Ni===null)throw Error(i(475));var e=Ni;return e.stylesheets&&e.count===0&&fu(e,e.stylesheets),0<e.count?function(n){var l=setTimeout(function(){if(e.stylesheets&&fu(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l)}}:null}function or(){if(this.count--,this.count===0){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cr=null;function fu(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cr=new Map,n.forEach(q0,e),cr=null,or.call(e))}function q0(e,n){if(!(n.state.loading&4)){var l=cr.get(e);if(l)var c=l.get(null);else{l=new Map,cr.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var y=f[p];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(l.set(y.dataset.precedence,y),c=y)}c&&l.set(null,c)}f=n.instance,y=f.getAttribute("data-precedence"),p=l.get(y)||c,p===c&&l.set(null,f),l.set(y,f),this.count++,c=or.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Si={$$typeof:V,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function X0(e,n,l,c,f,p,y,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.hiddenUpdates=oo(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function lg(e,n,l,c,f,p,y,_,T,z,F,Y){return e=new X0(e,n,l,y,_,T,z,Y),n=1,p===!0&&(n|=24),p=jt(3,null,null,n),e.current=p,p.stateNode=e,n=Ko(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:n},Jo(p),e}function rg(e){return e?(e=$s,e):$s}function og(e,n,l,c,f,p){f=rg(f),c.context===null?c.context=f:c.pendingContext=f,c=Ln(n),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=kn(e,c,n),l!==null&&(Tt(l,e,n),ei(l,e,n))}function cg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function mu(e,n){cg(e,n),(e=e.alternate)&&cg(e,n)}function ug(e){if(e.tag===13){var n=Ws(e,67108864);n!==null&&Tt(n,e,67108864),mu(e,67108864)}}var ur=!0;function G0(e,n,l,c){var f=H.T;H.T=null;var p=G.p;try{G.p=2,gu(e,n,l,c)}finally{G.p=p,H.T=f}}function Q0(e,n,l,c){var f=H.T;H.T=null;var p=G.p;try{G.p=8,gu(e,n,l,c)}finally{G.p=p,H.T=f}}function gu(e,n,l,c){if(ur){var f=pu(c);if(f===null)nu(e,n,c,dr,l),hg(e,c);else if(Z0(f,e,n,l,c))c.stopPropagation();else if(hg(e,c),n&4&&-1<K0.indexOf(e)){for(;f!==null;){var p=Hs(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var y=rs(p.pendingLanes);if(y!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var T=1<<31-yt(y);_.entanglements[1]|=T,y&=~T}$t(p),(Ne&6)===0&&(Kl=Gt()+500,xi(0))}}break;case 13:_=Ws(p,2),_!==null&&Tt(_,p,2),Wl(),mu(p,2)}if(p=pu(c),p===null&&nu(e,n,c,dr,l),p===f)break;f=p}f!==null&&c.stopPropagation()}else nu(e,n,c,null,l)}}function pu(e){return e=jo(e),xu(e)}var dr=null;function xu(e){if(dr=null,e=Bs(e),e!==null){var n=o(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=d(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dr=e,null}function dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wb()){case Sd:return 2;case Md:return 8;case sl:case zb:return 32;case Td:return 268435456;default:return 32}default:return 32}}var bu=!1,Zn=null,Wn=null,$n=null,Mi=new Map,Ti=new Map,Jn=[],K0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hg(e,n){switch(e){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Mi.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(n.pointerId)}}function Ei(e,n,l,c,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},n!==null&&(n=Hs(n),n!==null&&ug(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Z0(e,n,l,c,f){switch(n){case"focusin":return Zn=Ei(Zn,e,n,l,c,f),!0;case"dragenter":return Wn=Ei(Wn,e,n,l,c,f),!0;case"mouseover":return $n=Ei($n,e,n,l,c,f),!0;case"pointerover":var p=f.pointerId;return Mi.set(p,Ei(Mi.get(p)||null,e,n,l,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Ti.set(p,Ei(Ti.get(p)||null,e,n,l,c,f)),!0}return!1}function fg(e){var n=Bs(e.target);if(n!==null){var l=o(n);if(l!==null){if(n=l.tag,n===13){if(n=d(l),n!==null){e.blockedOn=n,Pb(e.priority,function(){if(l.tag===13){var c=Mt();c=co(c);var f=Ws(l,c);f!==null&&Tt(f,l,c),mu(l,c)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=pu(e.nativeEvent);if(l===null){l=e.nativeEvent;var c=new l.constructor(l.type,l);vo=c,l.target.dispatchEvent(c),vo=null}else return n=Hs(l),n!==null&&ug(n),e.blockedOn=l,!1;n.shift()}return!0}function mg(e,n,l){hr(e)&&l.delete(n)}function W0(){bu=!1,Zn!==null&&hr(Zn)&&(Zn=null),Wn!==null&&hr(Wn)&&(Wn=null),$n!==null&&hr($n)&&($n=null),Mi.forEach(mg),Ti.forEach(mg)}function fr(e,n){e.blockedOn===n&&(e.blockedOn=null,bu||(bu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,W0)))}var mr=null;function gg(e){mr!==e&&(mr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){mr===e&&(mr=null);for(var n=0;n<e.length;n+=3){var l=e[n],c=e[n+1],f=e[n+2];if(typeof c!="function"){if(xu(c||l)===null)continue;break}var p=Hs(l);p!==null&&(e.splice(n,3),n-=3,xc(p,{pending:!0,data:f,method:l.method,action:c},c,f))}}))}function Ai(e){function n(T){return fr(T,e)}Zn!==null&&fr(Zn,e),Wn!==null&&fr(Wn,e),$n!==null&&fr($n,e),Mi.forEach(n),Ti.forEach(n);for(var l=0;l<Jn.length;l++){var c=Jn[l];c.blockedOn===e&&(c.blockedOn=null)}for(;0<Jn.length&&(l=Jn[0],l.blockedOn===null);)fg(l),l.blockedOn===null&&Jn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var f=l[c],p=l[c+1],y=f[ut]||null;if(typeof p=="function")y||gg(l);else if(y){var _=null;if(p&&p.hasAttribute("formAction")){if(f=p,y=p[ut]||null)_=y.formAction;else if(xu(f)!==null)continue}else _=y.action;typeof _=="function"?l[c+1]=_:(l.splice(c,3),c-=3),gg(l)}}}function yu(e){this._internalRoot=e}gr.prototype.render=yu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var l=n.current,c=Mt();og(l,c,e,n,null,null)},gr.prototype.unmount=yu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;og(e.current,2,null,e,null,null),Wl(),n[ks]=null}};function gr(e){this._internalRoot=e}gr.prototype.unstable_scheduleHydration=function(e){if(e){var n=Rd();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Jn.length&&n!==0&&n<Jn[l].priority;l++);Jn.splice(l,0,e),l===0&&fg(e)}};var pg=t.version;if(pg!=="19.1.1")throw Error(i(527,pg,"19.1.1"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var $0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pr.isDisabled&&pr.supportsFiber)try{Ca=pr.inject($0),bt=pr}catch{}}return Oi.createRoot=function(e,n){if(!r(e))throw Error(i(299));var l=!1,c="",f=Cf,p=wf,y=zf,_=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=lg(e,1,!1,null,null,l,c,f,p,y,_,null),e[ks]=n.current,tu(e),new yu(n)},Oi.hydrateRoot=function(e,n,l){if(!r(e))throw Error(i(299));var c=!1,f="",p=Cf,y=wf,_=zf,T=null,z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(T=l.unstable_transitionCallbacks),l.formState!==void 0&&(z=l.formState)),n=lg(e,1,!0,n,l??null,c,f,p,y,_,T,z),n.context=rg(null),l=n.current,c=Mt(),c=co(c),f=Ln(c),f.callback=null,kn(l,f,c),l=c,n.current.lanes=l,za(n,l),$t(n),e[ks]=n.current,tu(e),new gr(n)},Oi.version="19.1.1",Oi}var Tg;function rv(){if(Tg)return _u.exports;Tg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),_u.exports=lv(),_u.exports}var ov=rv();const cv=dx(ov);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Ji(s){return s+.5|0}const es=(s,t,a)=>Math.max(Math.min(s,a),t);function Hi(s){return es(Ji(s*2.55),0,255)}function ss(s){return es(Ji(s*255),0,255)}function Mn(s){return es(Ji(s/2.55)/100,0,1)}function Eg(s){return es(Ji(s*100),0,100)}const Ht={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Gu=[..."0123456789ABCDEF"],uv=s=>Gu[s&15],dv=s=>Gu[(s&240)>>4]+Gu[s&15],xr=s=>(s&240)>>4===(s&15),hv=s=>xr(s.r)&&xr(s.g)&&xr(s.b)&&xr(s.a);function fv(s){var t=s.length,a;return s[0]==="#"&&(t===4||t===5?a={r:255&Ht[s[1]]*17,g:255&Ht[s[2]]*17,b:255&Ht[s[3]]*17,a:t===5?Ht[s[4]]*17:255}:(t===7||t===9)&&(a={r:Ht[s[1]]<<4|Ht[s[2]],g:Ht[s[3]]<<4|Ht[s[4]],b:Ht[s[5]]<<4|Ht[s[6]],a:t===9?Ht[s[7]]<<4|Ht[s[8]]:255})),a}const mv=(s,t)=>s<255?t(s):"";function gv(s){var t=hv(s)?uv:dv;return s?"#"+t(s.r)+t(s.g)+t(s.b)+mv(s.a,t):void 0}const pv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hx(s,t,a){const i=t*Math.min(a,1-a),r=(o,d=(o+s/30)%12)=>a-i*Math.max(Math.min(d-3,9-d,1),-1);return[r(0),r(8),r(4)]}function xv(s,t,a){const i=(r,o=(r+s/60)%6)=>a-a*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function bv(s,t,a){const i=hx(s,1,.5);let r;for(t+a>1&&(r=1/(t+a),t*=r,a*=r),r=0;r<3;r++)i[r]*=1-t-a,i[r]+=t;return i}function yv(s,t,a,i,r){return s===r?(t-a)/i+(t<a?6:0):t===r?(a-s)/i+2:(s-t)/i+4}function ad(s){const a=s.r/255,i=s.g/255,r=s.b/255,o=Math.max(a,i,r),d=Math.min(a,i,r),h=(o+d)/2;let m,g,x;return o!==d&&(x=o-d,g=h>.5?x/(2-o-d):x/(o+d),m=yv(a,i,r,x,o),m=m*60+.5),[m|0,g||0,h]}function id(s,t,a,i){return(Array.isArray(t)?s(t[0],t[1],t[2]):s(t,a,i)).map(ss)}function ld(s,t,a){return id(hx,s,t,a)}function vv(s,t,a){return id(bv,s,t,a)}function jv(s,t,a){return id(xv,s,t,a)}function fx(s){return(s%360+360)%360}function _v(s){const t=pv.exec(s);let a=255,i;if(!t)return;t[5]!==i&&(a=t[6]?Hi(+t[5]):ss(+t[5]));const r=fx(+t[2]),o=+t[3]/100,d=+t[4]/100;return t[1]==="hwb"?i=vv(r,o,d):t[1]==="hsv"?i=jv(r,o,d):i=ld(r,o,d),{r:i[0],g:i[1],b:i[2],a}}function Nv(s,t){var a=ad(s);a[0]=fx(a[0]+t),a=ld(a),s.r=a[0],s.g=a[1],s.b=a[2]}function Sv(s){if(!s)return;const t=ad(s),a=t[0],i=Eg(t[1]),r=Eg(t[2]);return s.a<255?`hsla(${a}, ${i}%, ${r}%, ${Mn(s.a)})`:`hsl(${a}, ${i}%, ${r}%)`}const Ag={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Mv(){const s={},t=Object.keys(Dg),a=Object.keys(Ag);let i,r,o,d,h;for(i=0;i<t.length;i++){for(d=h=t[i],r=0;r<a.length;r++)o=a[r],h=h.replace(o,Ag[o]);o=parseInt(Dg[d],16),s[h]=[o>>16&255,o>>8&255,o&255]}return s}let br;function Tv(s){br||(br=Mv(),br.transparent=[0,0,0,0]);const t=br[s.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Ev=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Av(s){const t=Ev.exec(s);let a=255,i,r,o;if(t){if(t[7]!==i){const d=+t[7];a=t[8]?Hi(d):es(d*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?Hi(i):es(i,0,255)),r=255&(t[4]?Hi(r):es(r,0,255)),o=255&(t[6]?Hi(o):es(o,0,255)),{r:i,g:r,b:o,a}}}function Dv(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Mn(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Tu=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,ja=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function Ov(s,t,a){const i=ja(Mn(s.r)),r=ja(Mn(s.g)),o=ja(Mn(s.b));return{r:ss(Tu(i+a*(ja(Mn(t.r))-i))),g:ss(Tu(r+a*(ja(Mn(t.g))-r))),b:ss(Tu(o+a*(ja(Mn(t.b))-o))),a:s.a+a*(t.a-s.a)}}function yr(s,t,a){if(s){let i=ad(s);i[t]=Math.max(0,Math.min(i[t]+i[t]*a,t===0?360:1)),i=ld(i),s.r=i[0],s.g=i[1],s.b=i[2]}}function mx(s,t){return s&&Object.assign(t||{},s)}function Og(s){var t={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(t={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(t.a=ss(s[3]))):(t=mx(s,{r:0,g:0,b:0,a:1}),t.a=ss(t.a)),t}function Rv(s){return s.charAt(0)==="r"?Av(s):_v(s)}class Xi{constructor(t){if(t instanceof Xi)return t;const a=typeof t;let i;a==="object"?i=Og(t):a==="string"&&(i=fv(t)||Tv(t)||Rv(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=mx(this._rgb);return t&&(t.a=Mn(t.a)),t}set rgb(t){this._rgb=Og(t)}rgbString(){return this._valid?Dv(this._rgb):void 0}hexString(){return this._valid?gv(this._rgb):void 0}hslString(){return this._valid?Sv(this._rgb):void 0}mix(t,a){if(t){const i=this.rgb,r=t.rgb;let o;const d=a===o?.5:a,h=2*d-1,m=i.a-r.a,g=((h*m===-1?h:(h+m)/(1+h*m))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=d*i.a+(1-d)*r.a,this.rgb=i}return this}interpolate(t,a){return t&&(this._rgb=Ov(this._rgb,t._rgb,a)),this}clone(){return new Xi(this.rgb)}alpha(t){return this._rgb.a=ss(t),this}clearer(t){const a=this._rgb;return a.a*=1-t,this}greyscale(){const t=this._rgb,a=Ji(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=a,this}opaquer(t){const a=this._rgb;return a.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return yr(this._rgb,2,t),this}darken(t){return yr(this._rgb,2,-t),this}saturate(t){return yr(this._rgb,1,t),this}desaturate(t){return yr(this._rgb,1,-t),this}rotate(t){return Nv(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jn(){}const Cv=(()=>{let s=0;return()=>s++})();function _e(s){return s==null}function qe(s){if(Array.isArray&&Array.isArray(s))return!0;const t=Object.prototype.toString.call(s);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function xe(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function ot(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function Jt(s,t){return ot(s)?s:t}function me(s,t){return typeof s>"u"?t:s}const wv=(s,t)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*t:+s;function Re(s,t,a){if(s&&typeof s.call=="function")return s.apply(a,t)}function Me(s,t,a,i){let r,o,d;if(qe(s))for(o=s.length,r=0;r<o;r++)t.call(a,s[r],r);else if(xe(s))for(d=Object.keys(s),o=d.length,r=0;r<o;r++)t.call(a,s[d[r]],d[r])}function Vr(s,t){let a,i,r,o;if(!s||!t||s.length!==t.length)return!1;for(a=0,i=s.length;a<i;++a)if(r=s[a],o=t[a],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Fr(s){if(qe(s))return s.map(Fr);if(xe(s)){const t=Object.create(null),a=Object.keys(s),i=a.length;let r=0;for(;r<i;++r)t[a[r]]=Fr(s[a[r]]);return t}return s}function gx(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function zv(s,t,a,i){if(!gx(s))return;const r=t[s],o=a[s];xe(r)&&xe(o)?Gi(r,o,i):t[s]=Fr(o)}function Gi(s,t,a){const i=qe(t)?t:[t],r=i.length;if(!xe(s))return s;a=a||{};const o=a.merger||zv;let d;for(let h=0;h<r;++h){if(d=i[h],!xe(d))continue;const m=Object.keys(d);for(let g=0,x=m.length;g<x;++g)o(m[g],s,d,a)}return s}function Fi(s,t){return Gi(s,t,{merger:Lv})}function Lv(s,t,a){if(!gx(s))return;const i=t[s],r=a[s];xe(i)&&xe(r)?Fi(i,r):Object.prototype.hasOwnProperty.call(t,s)||(t[s]=Fr(r))}const Rg={"":s=>s,x:s=>s.x,y:s=>s.y};function kv(s){const t=s.split("."),a=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(a.push(i),i="");return a}function Bv(s){const t=kv(s);return a=>{for(const i of t){if(i==="")break;a=a&&a[i]}return a}}function Sa(s,t){return(Rg[t]||(Rg[t]=Bv(t)))(s)}function rd(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Qi=s=>typeof s<"u",as=s=>typeof s=="function",Cg=(s,t)=>{if(s.size!==t.size)return!1;for(const a of s)if(!t.has(a))return!1;return!0};function Hv(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Ie=Math.PI,Xt=2*Ie,Uv=Xt+Ie,Pr=Number.POSITIVE_INFINITY,Vv=Ie/180,qt=Ie/2,Ms=Ie/4,wg=Ie*2/3,px=Math.log10,nn=Math.sign;function Pi(s,t,a){return Math.abs(s-t)<a}function zg(s){const t=Math.round(s);s=Pi(s,t,s/1e3)?t:s;const a=Math.pow(10,Math.floor(px(s))),i=s/a;return(i<=1?1:i<=2?2:i<=5?5:10)*a}function Fv(s){const t=[],a=Math.sqrt(s);let i;for(i=1;i<a;i++)s%i===0&&(t.push(i),t.push(s/i));return a===(a|0)&&t.push(a),t.sort((r,o)=>r-o).pop(),t}function Pv(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Ma(s){return!Pv(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function Yv(s,t){const a=Math.round(s);return a-t<=s&&a+t>=s}function qv(s,t,a){let i,r,o;for(i=0,r=s.length;i<r;i++)o=s[i][a],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Os(s){return s*(Ie/180)}function Xv(s){return s*(180/Ie)}function Lg(s){if(!ot(s))return;let t=1,a=0;for(;Math.round(s*t)/t!==s;)t*=10,a++;return a}function Gv(s,t){const a=t.x-s.x,i=t.y-s.y,r=Math.sqrt(a*a+i*i);let o=Math.atan2(i,a);return o<-.5*Ie&&(o+=Xt),{angle:o,distance:r}}function Qu(s,t){return Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2))}function Qv(s,t){return(s-t+Uv)%Xt-Ie}function tn(s){return(s%Xt+Xt)%Xt}function xx(s,t,a,i){const r=tn(s),o=tn(t),d=tn(a),h=tn(o-r),m=tn(d-r),g=tn(r-o),x=tn(r-d);return r===o||r===d||i&&o===d||h>m&&g<x}function Et(s,t,a){return Math.max(t,Math.min(a,s))}function Kv(s){return Et(s,-32768,32767)}function ts(s,t,a,i=1e-6){return s>=Math.min(t,a)-i&&s<=Math.max(t,a)+i}function od(s,t,a){a=a||(d=>s[d]<t);let i=s.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,a(o)?r=o:i=o;return{lo:r,hi:i}}const Rs=(s,t,a,i)=>od(s,a,i?r=>{const o=s[r][t];return o<a||o===a&&s[r+1][t]===a}:r=>s[r][t]<a),Zv=(s,t,a)=>od(s,a,i=>s[i][t]>=a);function Wv(s,t,a){let i=0,r=s.length;for(;i<r&&s[i]<t;)i++;for(;r>i&&s[r-1]>a;)r--;return i>0||r<s.length?s.slice(i,r):s}const bx=["push","pop","shift","splice","unshift"];function $v(s,t){if(s._chartjs){s._chartjs.listeners.push(t);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),bx.forEach(a=>{const i="_onData"+rd(a),r=s[a];Object.defineProperty(s,a,{configurable:!0,enumerable:!1,value(...o){const d=r.apply(this,o);return s._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),d}})})}function kg(s,t){const a=s._chartjs;if(!a)return;const i=a.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(bx.forEach(o=>{delete s[o]}),delete s._chartjs)}function yx(s){const t=new Set(s);return t.size===s.length?s:Array.from(t)}const vx=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function jx(s,t){let a=[],i=!1;return function(...r){a=r,i||(i=!0,vx.call(window,()=>{i=!1,s.apply(t,a)}))}}function Jv(s,t){let a;return function(...i){return t?(clearTimeout(a),a=setTimeout(s,t,i)):s.apply(this,i),t}}const cd=s=>s==="start"?"left":s==="end"?"right":"center",lt=(s,t,a)=>s==="start"?t:s==="end"?a:(t+a)/2,Iv=(s,t,a,i)=>s===(i?"left":"right")?a:s==="center"?(t+a)/2:t;function _x(s,t,a){const i=t.length;let r=0,o=i;if(s._sorted){const{iScale:d,vScale:h,_parsed:m}=s,g=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,x=d.axis,{min:b,max:v,minDefined:j,maxDefined:S}=d.getUserBounds();if(j){if(r=Math.min(Rs(m,x,b).lo,a?i:Rs(t,x,d.getPixelForValue(b)).lo),g){const N=m.slice(0,r+1).reverse().findIndex(M=>!_e(M[h.axis]));r-=Math.max(0,N)}r=Et(r,0,i-1)}if(S){let N=Math.max(Rs(m,d.axis,v,!0).hi+1,a?0:Rs(t,x,d.getPixelForValue(v),!0).hi+1);if(g){const M=m.slice(N-1).findIndex(E=>!_e(E[h.axis]));N+=Math.max(0,M)}o=Et(N,r,i)-r}else o=i-r}return{start:r,count:o}}function Nx(s){const{xScale:t,yScale:a,_scaleRanges:i}=s,r={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!i)return s._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==a.min||i.ymax!==a.max;return Object.assign(i,r),o}const vr=s=>s===0||s===1,Bg=(s,t,a)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-t)*Xt/a)),Hg=(s,t,a)=>Math.pow(2,-10*s)*Math.sin((s-t)*Xt/a)+1,Yi={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*qt)+1,easeOutSine:s=>Math.sin(s*qt),easeInOutSine:s=>-.5*(Math.cos(Ie*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>vr(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>vr(s)?s:Bg(s,.075,.3),easeOutElastic:s=>vr(s)?s:Hg(s,.075,.3),easeInOutElastic(s){return vr(s)?s:s<.5?.5*Bg(s*2,.1125,.45):.5+.5*Hg(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let t=1.70158;return(s/=.5)<1?.5*(s*s*(((t*=1.525)+1)*s-t)):.5*((s-=2)*s*(((t*=1.525)+1)*s+t)+2)},easeInBounce:s=>1-Yi.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?Yi.easeInBounce(s*2)*.5:Yi.easeOutBounce(s*2-1)*.5+.5};function ud(s){if(s&&typeof s=="object"){const t=s.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ug(s){return ud(s)?s:new Xi(s)}function Eu(s){return ud(s)?s:new Xi(s).saturate(.5).darken(.1).hexString()}const e1=["x","y","borderWidth","radius","tension"],t1=["color","borderColor","backgroundColor"];function n1(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),s.set("animations",{colors:{type:"color",properties:t1},numbers:{type:"number",properties:e1}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function s1(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Vg=new Map;function a1(s,t){t=t||{};const a=s+JSON.stringify(t);let i=Vg.get(a);return i||(i=new Intl.NumberFormat(s,t),Vg.set(a,i)),i}function Sx(s,t,a){return a1(t,a).format(s)}const i1={values(s){return qe(s)?s:""+s},numeric(s,t,a){if(s===0)return"0";const i=this.chart.options.locale;let r,o=s;if(a.length>1){const g=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=l1(s,a)}const d=px(Math.abs(o)),h=isNaN(d)?1:Math.max(Math.min(-1*Math.floor(d),20),0),m={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(m,this.options.ticks.format),Sx(s,i,m)}};function l1(s,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&s!==Math.floor(s)&&(a=s-Math.floor(s)),a}var Mx={formatters:i1};function r1(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,a)=>a.lineWidth,tickColor:(t,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ws=Object.create(null),Ku=Object.create(null);function qi(s,t){if(!t)return s;const a=t.split(".");for(let i=0,r=a.length;i<r;++i){const o=a[i];s=s[o]||(s[o]=Object.create(null))}return s}function Au(s,t,a){return typeof t=="string"?Gi(qi(s,t),a):Gi(qi(s,""),t)}class o1{constructor(t,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Eu(r.backgroundColor),this.hoverBorderColor=(i,r)=>Eu(r.borderColor),this.hoverColor=(i,r)=>Eu(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(a)}set(t,a){return Au(this,t,a)}get(t){return qi(this,t)}describe(t,a){return Au(Ku,t,a)}override(t,a){return Au(ws,t,a)}route(t,a,i,r){const o=qi(this,t),d=qi(this,i),h="_"+a;Object.defineProperties(o,{[h]:{value:o[a],writable:!0},[a]:{enumerable:!0,get(){const m=this[h],g=d[r];return xe(m)?Object.assign({},g,m):me(m,g)},set(m){this[h]=m}}})}apply(t){t.forEach(a=>a(this))}}var Fe=new o1({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[n1,s1,r1]);function c1(s){return!s||_e(s.size)||_e(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function Fg(s,t,a,i,r){let o=t[r];return o||(o=t[r]=s.measureText(r).width,a.push(r)),o>i&&(i=o),i}function Ts(s,t,a){const i=s.currentDevicePixelRatio,r=a!==0?Math.max(a/2,.5):0;return Math.round((t-r)*i)/i+r}function Pg(s,t){!t&&!s||(t=t||s.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,s.width,s.height),t.restore())}function Zu(s,t,a,i){Tx(s,t,a,i,null)}function Tx(s,t,a,i,r){let o,d,h,m,g,x,b,v;const j=t.pointStyle,S=t.rotation,N=t.radius;let M=(S||0)*Vv;if(j&&typeof j=="object"&&(o=j.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){s.save(),s.translate(a,i),s.rotate(M),s.drawImage(j,-j.width/2,-j.height/2,j.width,j.height),s.restore();return}if(!(isNaN(N)||N<=0)){switch(s.beginPath(),j){default:r?s.ellipse(a,i,r/2,N,0,0,Xt):s.arc(a,i,N,0,Xt),s.closePath();break;case"triangle":x=r?r/2:N,s.moveTo(a+Math.sin(M)*x,i-Math.cos(M)*N),M+=wg,s.lineTo(a+Math.sin(M)*x,i-Math.cos(M)*N),M+=wg,s.lineTo(a+Math.sin(M)*x,i-Math.cos(M)*N),s.closePath();break;case"rectRounded":g=N*.516,m=N-g,d=Math.cos(M+Ms)*m,b=Math.cos(M+Ms)*(r?r/2-g:m),h=Math.sin(M+Ms)*m,v=Math.sin(M+Ms)*(r?r/2-g:m),s.arc(a-b,i-h,g,M-Ie,M-qt),s.arc(a+v,i-d,g,M-qt,M),s.arc(a+b,i+h,g,M,M+qt),s.arc(a-v,i+d,g,M+qt,M+Ie),s.closePath();break;case"rect":if(!S){m=Math.SQRT1_2*N,x=r?r/2:m,s.rect(a-x,i-m,2*x,2*m);break}M+=Ms;case"rectRot":b=Math.cos(M)*(r?r/2:N),d=Math.cos(M)*N,h=Math.sin(M)*N,v=Math.sin(M)*(r?r/2:N),s.moveTo(a-b,i-h),s.lineTo(a+v,i-d),s.lineTo(a+b,i+h),s.lineTo(a-v,i+d),s.closePath();break;case"crossRot":M+=Ms;case"cross":b=Math.cos(M)*(r?r/2:N),d=Math.cos(M)*N,h=Math.sin(M)*N,v=Math.sin(M)*(r?r/2:N),s.moveTo(a-b,i-h),s.lineTo(a+b,i+h),s.moveTo(a+v,i-d),s.lineTo(a-v,i+d);break;case"star":b=Math.cos(M)*(r?r/2:N),d=Math.cos(M)*N,h=Math.sin(M)*N,v=Math.sin(M)*(r?r/2:N),s.moveTo(a-b,i-h),s.lineTo(a+b,i+h),s.moveTo(a+v,i-d),s.lineTo(a-v,i+d),M+=Ms,b=Math.cos(M)*(r?r/2:N),d=Math.cos(M)*N,h=Math.sin(M)*N,v=Math.sin(M)*(r?r/2:N),s.moveTo(a-b,i-h),s.lineTo(a+b,i+h),s.moveTo(a+v,i-d),s.lineTo(a-v,i+d);break;case"line":d=r?r/2:Math.cos(M)*N,h=Math.sin(M)*N,s.moveTo(a-d,i-h),s.lineTo(a+d,i+h);break;case"dash":s.moveTo(a,i),s.lineTo(a+Math.cos(M)*(r?r/2:N),i+Math.sin(M)*N);break;case!1:s.closePath();break}s.fill(),t.borderWidth>0&&s.stroke()}}function Ki(s,t,a){return a=a||.5,!t||s&&s.x>t.left-a&&s.x<t.right+a&&s.y>t.top-a&&s.y<t.bottom+a}function Qr(s,t){s.save(),s.beginPath(),s.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),s.clip()}function Kr(s){s.restore()}function u1(s,t,a,i,r){if(!t)return s.lineTo(a.x,a.y);if(r==="middle"){const o=(t.x+a.x)/2;s.lineTo(o,t.y),s.lineTo(o,a.y)}else r==="after"!=!!i?s.lineTo(t.x,a.y):s.lineTo(a.x,t.y);s.lineTo(a.x,a.y)}function d1(s,t,a,i){if(!t)return s.lineTo(a.x,a.y);s.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?a.cp2x:a.cp1x,i?a.cp2y:a.cp1y,a.x,a.y)}function h1(s,t){t.translation&&s.translate(t.translation[0],t.translation[1]),_e(t.rotation)||s.rotate(t.rotation),t.color&&(s.fillStyle=t.color),t.textAlign&&(s.textAlign=t.textAlign),t.textBaseline&&(s.textBaseline=t.textBaseline)}function f1(s,t,a,i,r){if(r.strikethrough||r.underline){const o=s.measureText(i),d=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,m=a-o.actualBoundingBoxAscent,g=a+o.actualBoundingBoxDescent,x=r.strikethrough?(m+g)/2:g;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=r.decorationWidth||2,s.moveTo(d,x),s.lineTo(h,x),s.stroke()}}function m1(s,t){const a=s.fillStyle;s.fillStyle=t.color,s.fillRect(t.left,t.top,t.width,t.height),s.fillStyle=a}function Zi(s,t,a,i,r,o={}){const d=qe(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let m,g;for(s.save(),s.font=r.string,h1(s,o),m=0;m<d.length;++m)g=d[m],o.backdrop&&m1(s,o.backdrop),h&&(o.strokeColor&&(s.strokeStyle=o.strokeColor),_e(o.strokeWidth)||(s.lineWidth=o.strokeWidth),s.strokeText(g,a,i,o.maxWidth)),s.fillText(g,a,i,o.maxWidth),f1(s,a,i,g,o),i+=Number(r.lineHeight);s.restore()}function Yr(s,t){const{x:a,y:i,w:r,h:o,radius:d}=t;s.arc(a+d.topLeft,i+d.topLeft,d.topLeft,1.5*Ie,Ie,!0),s.lineTo(a,i+o-d.bottomLeft),s.arc(a+d.bottomLeft,i+o-d.bottomLeft,d.bottomLeft,Ie,qt,!0),s.lineTo(a+r-d.bottomRight,i+o),s.arc(a+r-d.bottomRight,i+o-d.bottomRight,d.bottomRight,qt,0,!0),s.lineTo(a+r,i+d.topRight),s.arc(a+r-d.topRight,i+d.topRight,d.topRight,0,-qt,!0),s.lineTo(a+d.topLeft,i)}const g1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,p1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function x1(s,t){const a=(""+s).match(g1);if(!a||a[1]==="normal")return t*1.2;switch(s=+a[2],a[3]){case"px":return s;case"%":s/=100;break}return t*s}const b1=s=>+s||0;function Ex(s,t){const a={},i=xe(t),r=i?Object.keys(t):t,o=xe(s)?i?d=>me(s[d],s[t[d]]):d=>s[d]:()=>s;for(const d of r)a[d]=b1(o(d));return a}function Ax(s){return Ex(s,{top:"y",right:"x",bottom:"y",left:"x"})}function _a(s){return Ex(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Vt(s){const t=Ax(s);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function rt(s,t){s=s||{},t=t||Fe.font;let a=me(s.size,t.size);typeof a=="string"&&(a=parseInt(a,10));let i=me(s.style,t.style);i&&!(""+i).match(p1)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:me(s.family,t.family),lineHeight:x1(me(s.lineHeight,t.lineHeight),a),size:a,style:i,weight:me(s.weight,t.weight),string:""};return r.string=c1(r),r}function jr(s,t,a,i){let r,o,d;for(r=0,o=s.length;r<o;++r)if(d=s[r],d!==void 0&&d!==void 0)return d}function y1(s,t,a){const{min:i,max:r}=s,o=wv(t,(r-i)/2),d=(h,m)=>a&&h===0?0:h+m;return{min:d(i,-Math.abs(o)),max:d(r,o)}}function zs(s,t){return Object.assign(Object.create(s),t)}function dd(s,t=[""],a,i,r=()=>s[0]){const o=a||s;typeof i>"u"&&(i=Cx("_fallback",s));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>dd([h,...s],t,o,i)};return new Proxy(d,{deleteProperty(h,m){return delete h[m],delete h._keys,delete s[0][m],!0},get(h,m){return Ox(h,m,()=>E1(m,t,s,h))},getOwnPropertyDescriptor(h,m){return Reflect.getOwnPropertyDescriptor(h._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(h,m){return qg(h).includes(m)},ownKeys(h){return qg(h)},set(h,m,g){const x=h._storage||(h._storage=r());return h[m]=x[m]=g,delete h._keys,!0}})}function Ta(s,t,a,i){const r={_cacheable:!1,_proxy:s,_context:t,_subProxy:a,_stack:new Set,_descriptors:Dx(s,i),setContext:o=>Ta(s,o,a,i),override:o=>Ta(s.override(o),t,a,i)};return new Proxy(r,{deleteProperty(o,d){return delete o[d],delete s[d],!0},get(o,d,h){return Ox(o,d,()=>j1(o,d,h))},getOwnPropertyDescriptor(o,d){return o._descriptors.allKeys?Reflect.has(s,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,d)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(o,d){return Reflect.has(s,d)},ownKeys(){return Reflect.ownKeys(s)},set(o,d,h){return s[d]=h,delete o[d],!0}})}function Dx(s,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=s;return{allKeys:r,scriptable:a,indexable:i,isScriptable:as(a)?a:()=>a,isIndexable:as(i)?i:()=>i}}const v1=(s,t)=>s?s+rd(t):t,hd=(s,t)=>xe(t)&&s!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Ox(s,t,a){if(Object.prototype.hasOwnProperty.call(s,t)||t==="constructor")return s[t];const i=a();return s[t]=i,i}function j1(s,t,a){const{_proxy:i,_context:r,_subProxy:o,_descriptors:d}=s;let h=i[t];return as(h)&&d.isScriptable(t)&&(h=_1(t,h,s,a)),qe(h)&&h.length&&(h=N1(t,h,s,d.isIndexable)),hd(t,h)&&(h=Ta(h,r,o&&o[t],d)),h}function _1(s,t,a,i){const{_proxy:r,_context:o,_subProxy:d,_stack:h}=a;if(h.has(s))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+s);h.add(s);let m=t(o,d||i);return h.delete(s),hd(s,m)&&(m=fd(r._scopes,r,s,m)),m}function N1(s,t,a,i){const{_proxy:r,_context:o,_subProxy:d,_descriptors:h}=a;if(typeof o.index<"u"&&i(s))return t[o.index%t.length];if(xe(t[0])){const m=t,g=r._scopes.filter(x=>x!==m);t=[];for(const x of m){const b=fd(g,r,s,x);t.push(Ta(b,o,d&&d[s],h))}}return t}function Rx(s,t,a){return as(s)?s(t,a):s}const S1=(s,t)=>s===!0?t:typeof s=="string"?Sa(t,s):void 0;function M1(s,t,a,i,r){for(const o of t){const d=S1(a,o);if(d){s.add(d);const h=Rx(d._fallback,a,r);if(typeof h<"u"&&h!==a&&h!==i)return h}else if(d===!1&&typeof i<"u"&&a!==i)return null}return!1}function fd(s,t,a,i){const r=t._rootScopes,o=Rx(t._fallback,a,i),d=[...s,...r],h=new Set;h.add(i);let m=Yg(h,d,a,o||a,i);return m===null||typeof o<"u"&&o!==a&&(m=Yg(h,d,o,m,i),m===null)?!1:dd(Array.from(h),[""],r,o,()=>T1(t,a,i))}function Yg(s,t,a,i,r){for(;a;)a=M1(s,t,a,i,r);return a}function T1(s,t,a){const i=s._getTarget();t in i||(i[t]={});const r=i[t];return qe(r)&&xe(a)?a:r||{}}function E1(s,t,a,i){let r;for(const o of t)if(r=Cx(v1(o,s),a),typeof r<"u")return hd(s,r)?fd(a,i,s,r):r}function Cx(s,t){for(const a of t){if(!a)continue;const i=a[s];if(typeof i<"u")return i}}function qg(s){let t=s._keys;return t||(t=s._keys=A1(s._scopes)),t}function A1(s){const t=new Set;for(const a of s)for(const i of Object.keys(a).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const D1=Number.EPSILON||1e-14,Ea=(s,t)=>t<s.length&&!s[t].skip&&s[t],wx=s=>s==="x"?"y":"x";function O1(s,t,a,i){const r=s.skip?t:s,o=t,d=a.skip?t:a,h=Qu(o,r),m=Qu(d,o);let g=h/(h+m),x=m/(h+m);g=isNaN(g)?0:g,x=isNaN(x)?0:x;const b=i*g,v=i*x;return{previous:{x:o.x-b*(d.x-r.x),y:o.y-b*(d.y-r.y)},next:{x:o.x+v*(d.x-r.x),y:o.y+v*(d.y-r.y)}}}function R1(s,t,a){const i=s.length;let r,o,d,h,m,g=Ea(s,0);for(let x=0;x<i-1;++x)if(m=g,g=Ea(s,x+1),!(!m||!g)){if(Pi(t[x],0,D1)){a[x]=a[x+1]=0;continue}r=a[x]/t[x],o=a[x+1]/t[x],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(d=3/Math.sqrt(h),a[x]=r*d*t[x],a[x+1]=o*d*t[x])}}function C1(s,t,a="x"){const i=wx(a),r=s.length;let o,d,h,m=Ea(s,0);for(let g=0;g<r;++g){if(d=h,h=m,m=Ea(s,g+1),!h)continue;const x=h[a],b=h[i];d&&(o=(x-d[a])/3,h[`cp1${a}`]=x-o,h[`cp1${i}`]=b-o*t[g]),m&&(o=(m[a]-x)/3,h[`cp2${a}`]=x+o,h[`cp2${i}`]=b+o*t[g])}}function w1(s,t="x"){const a=wx(t),i=s.length,r=Array(i).fill(0),o=Array(i);let d,h,m,g=Ea(s,0);for(d=0;d<i;++d)if(h=m,m=g,g=Ea(s,d+1),!!m){if(g){const x=g[t]-m[t];r[d]=x!==0?(g[a]-m[a])/x:0}o[d]=h?g?nn(r[d-1])!==nn(r[d])?0:(r[d-1]+r[d])/2:r[d-1]:r[d]}R1(s,r,o),C1(s,o,t)}function _r(s,t,a){return Math.max(Math.min(s,a),t)}function z1(s,t){let a,i,r,o,d,h=Ki(s[0],t);for(a=0,i=s.length;a<i;++a)d=o,o=h,h=a<i-1&&Ki(s[a+1],t),o&&(r=s[a],d&&(r.cp1x=_r(r.cp1x,t.left,t.right),r.cp1y=_r(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=_r(r.cp2x,t.left,t.right),r.cp2y=_r(r.cp2y,t.top,t.bottom)))}function L1(s,t,a,i,r){let o,d,h,m;if(t.spanGaps&&(s=s.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")w1(s,r);else{let g=i?s[s.length-1]:s[0];for(o=0,d=s.length;o<d;++o)h=s[o],m=O1(g,h,s[Math.min(o+1,d-(i?0:1))%d],t.tension),h.cp1x=m.previous.x,h.cp1y=m.previous.y,h.cp2x=m.next.x,h.cp2y=m.next.y,g=h}t.capBezierPoints&&z1(s,a)}function md(){return typeof window<"u"&&typeof document<"u"}function gd(s){let t=s.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function qr(s,t,a){let i;return typeof s=="string"?(i=parseInt(s,10),s.indexOf("%")!==-1&&(i=i/100*t.parentNode[a])):i=s,i}const Zr=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function k1(s,t){return Zr(s).getPropertyValue(t)}const B1=["top","right","bottom","left"];function Cs(s,t,a){const i={};a=a?"-"+a:"";for(let r=0;r<4;r++){const o=B1[r];i[o]=parseFloat(s[t+"-"+o+a])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const H1=(s,t,a)=>(s>0||t>0)&&(!a||!a.shadowRoot);function U1(s,t){const a=s.touches,i=a&&a.length?a[0]:s,{offsetX:r,offsetY:o}=i;let d=!1,h,m;if(H1(r,o,s.target))h=r,m=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,m=i.clientY-g.top,d=!0}return{x:h,y:m,box:d}}function As(s,t){if("native"in s)return s;const{canvas:a,currentDevicePixelRatio:i}=t,r=Zr(a),o=r.boxSizing==="border-box",d=Cs(r,"padding"),h=Cs(r,"border","width"),{x:m,y:g,box:x}=U1(s,a),b=d.left+(x&&h.left),v=d.top+(x&&h.top);let{width:j,height:S}=t;return o&&(j-=d.width+h.width,S-=d.height+h.height),{x:Math.round((m-b)/j*a.width/i),y:Math.round((g-v)/S*a.height/i)}}function V1(s,t,a){let i,r;if(t===void 0||a===void 0){const o=s&&gd(s);if(!o)t=s.clientWidth,a=s.clientHeight;else{const d=o.getBoundingClientRect(),h=Zr(o),m=Cs(h,"border","width"),g=Cs(h,"padding");t=d.width-g.width-m.width,a=d.height-g.height-m.height,i=qr(h.maxWidth,o,"clientWidth"),r=qr(h.maxHeight,o,"clientHeight")}}return{width:t,height:a,maxWidth:i||Pr,maxHeight:r||Pr}}const Nr=s=>Math.round(s*10)/10;function F1(s,t,a,i){const r=Zr(s),o=Cs(r,"margin"),d=qr(r.maxWidth,s,"clientWidth")||Pr,h=qr(r.maxHeight,s,"clientHeight")||Pr,m=V1(s,t,a);let{width:g,height:x}=m;if(r.boxSizing==="content-box"){const v=Cs(r,"border","width"),j=Cs(r,"padding");g-=j.width+v.width,x-=j.height+v.height}return g=Math.max(0,g-o.width),x=Math.max(0,i?g/i:x-o.height),g=Nr(Math.min(g,d,m.maxWidth)),x=Nr(Math.min(x,h,m.maxHeight)),g&&!x&&(x=Nr(g/2)),(t!==void 0||a!==void 0)&&i&&m.height&&x>m.height&&(x=m.height,g=Nr(Math.floor(x*i))),{width:g,height:x}}function Xg(s,t,a){const i=t||1,r=Math.floor(s.height*i),o=Math.floor(s.width*i);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const d=s.canvas;return d.style&&(a||!d.style.height&&!d.style.width)&&(d.style.height=`${s.height}px`,d.style.width=`${s.width}px`),s.currentDevicePixelRatio!==i||d.height!==r||d.width!==o?(s.currentDevicePixelRatio=i,d.height=r,d.width=o,s.ctx.setTransform(i,0,0,i,0,0),!0):!1}const P1=(function(){let s=!1;try{const t={get passive(){return s=!0,!1}};md()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return s})();function Gg(s,t){const a=k1(s,t),i=a&&a.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ds(s,t,a,i){return{x:s.x+a*(t.x-s.x),y:s.y+a*(t.y-s.y)}}function Y1(s,t,a,i){return{x:s.x+a*(t.x-s.x),y:i==="middle"?a<.5?s.y:t.y:i==="after"?a<1?s.y:t.y:a>0?t.y:s.y}}function q1(s,t,a,i){const r={x:s.cp2x,y:s.cp2y},o={x:t.cp1x,y:t.cp1y},d=Ds(s,r,a),h=Ds(r,o,a),m=Ds(o,t,a),g=Ds(d,h,a),x=Ds(h,m,a);return Ds(g,x,a)}const X1=function(s,t){return{x(a){return s+s+t-a},setWidth(a){t=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,i){return a-i},leftForLtr(a,i){return a-i}}},G1=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,t){return s+t},leftForLtr(s,t){return s}}};function Na(s,t,a){return s?X1(t,a):G1()}function zx(s,t){let a,i;(t==="ltr"||t==="rtl")&&(a=s.canvas.style,i=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),s.prevTextDirection=i)}function Lx(s,t){t!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",t[0],t[1]))}function kx(s){return s==="angle"?{between:xx,compare:Qv,normalize:tn}:{between:ts,compare:(t,a)=>t-a,normalize:t=>t}}function Qg({start:s,end:t,count:a,loop:i,style:r}){return{start:s%a,end:t%a,loop:i&&(t-s+1)%a===0,style:r}}function Q1(s,t,a){const{property:i,start:r,end:o}=a,{between:d,normalize:h}=kx(i),m=t.length;let{start:g,end:x,loop:b}=s,v,j;if(b){for(g+=m,x+=m,v=0,j=m;v<j&&d(h(t[g%m][i]),r,o);++v)g--,x--;g%=m,x%=m}return x<g&&(x+=m),{start:g,end:x,loop:b,style:s.style}}function Bx(s,t,a){if(!a)return[s];const{property:i,start:r,end:o}=a,d=t.length,{compare:h,between:m,normalize:g}=kx(i),{start:x,end:b,loop:v,style:j}=Q1(s,t,a),S=[];let N=!1,M=null,E,C,V;const U=()=>m(r,V,E)&&h(r,V)!==0,B=()=>h(o,E)===0||m(o,V,E),K=()=>N||U(),X=()=>!N||B();for(let Q=x,$=x;Q<=b;++Q)C=t[Q%d],!C.skip&&(E=g(C[i]),E!==V&&(N=m(E,r,o),M===null&&K()&&(M=h(E,r)===0?Q:$),M!==null&&X()&&(S.push(Qg({start:M,end:Q,loop:v,count:d,style:j})),M=null),$=Q,V=E));return M!==null&&S.push(Qg({start:M,end:b,loop:v,count:d,style:j})),S}function Hx(s,t){const a=[],i=s.segments;for(let r=0;r<i.length;r++){const o=Bx(i[r],s.points,t);o.length&&a.push(...o)}return a}function K1(s,t,a,i){let r=0,o=t-1;if(a&&!i)for(;r<t&&!s[r].skip;)r++;for(;r<t&&s[r].skip;)r++;for(r%=t,a&&(o+=r);o>r&&s[o%t].skip;)o--;return o%=t,{start:r,end:o}}function Z1(s,t,a,i){const r=s.length,o=[];let d=t,h=s[t],m;for(m=t+1;m<=a;++m){const g=s[m%r];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%r,end:(m-1)%r,loop:i}),t=d=g.stop?m:null):(d=m,h.skip&&(t=m)),h=g}return d!==null&&o.push({start:t%r,end:d%r,loop:i}),o}function W1(s,t){const a=s.points,i=s.options.spanGaps,r=a.length;if(!r)return[];const o=!!s._loop,{start:d,end:h}=K1(a,r,o,i);if(i===!0)return Kg(s,[{start:d,end:h,loop:o}],a,t);const m=h<d?h+r:h,g=!!s._fullLoop&&d===0&&h===r-1;return Kg(s,Z1(a,d,m,g),a,t)}function Kg(s,t,a,i){return!i||!i.setContext||!a?t:$1(s,t,a,i)}function $1(s,t,a,i){const r=s._chart.getContext(),o=Zg(s.options),{_datasetIndex:d,options:{spanGaps:h}}=s,m=a.length,g=[];let x=o,b=t[0].start,v=b;function j(S,N,M,E){const C=h?-1:1;if(S!==N){for(S+=m;a[S%m].skip;)S-=C;for(;a[N%m].skip;)N+=C;S%m!==N%m&&(g.push({start:S%m,end:N%m,loop:M,style:E}),x=E,b=N%m)}}for(const S of t){b=h?b:S.start;let N=a[b%m],M;for(v=b+1;v<=S.end;v++){const E=a[v%m];M=Zg(i.setContext(zs(r,{type:"segment",p0:N,p1:E,p0DataIndex:(v-1)%m,p1DataIndex:v%m,datasetIndex:d}))),J1(M,x)&&j(b,v-1,S.loop,x),N=E,x=M}b<v-1&&j(b,v-1,S.loop,x)}return g}function Zg(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function J1(s,t){if(!t)return!1;const a=[],i=function(r,o){return ud(o)?(a.includes(o)||a.push(o),a.indexOf(o)):o};return JSON.stringify(s,i)!==JSON.stringify(t,i)}function Sr(s,t,a){return s.options.clip?s[a]:t[a]}function I1(s,t){const{xScale:a,yScale:i}=s;return a&&i?{left:Sr(a,t,"left"),right:Sr(a,t,"right"),top:Sr(i,t,"top"),bottom:Sr(i,t,"bottom")}:t}function Ux(s,t){const a=t._clip;if(a.disabled)return!1;const i=I1(t,s.chartArea);return{left:a.left===!1?0:i.left-(a.left===!0?0:a.left),right:a.right===!1?s.width:i.right+(a.right===!0?0:a.right),top:a.top===!1?0:i.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?s.height:i.bottom+(a.bottom===!0?0:a.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class ej{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,a,i,r){const o=a.listeners[r],d=a.duration;o.forEach(h=>h({chart:t,initial:a.initial,numSteps:d,currentStep:Math.min(i-a.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=vx.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let a=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let d=o.length-1,h=!1,m;for(;d>=0;--d)m=o[d],m._active?(m._total>i.duration&&(i.duration=m._total),m.tick(t),h=!0):(o[d]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),a+=o.length}),this._lastDate=t,a===0&&(this._running=!1)}_getAnims(t){const a=this._charts;let i=a.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(t,i)),i}listen(t,a,i){this._getAnims(t).listeners[a].push(i)}add(t,a){!a||!a.length||this._getAnims(t).items.push(...a)}has(t){return this._getAnims(t).items.length>0}start(t){const a=this._charts.get(t);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const a=this._charts.get(t);return!(!a||!a.running||!a.items.length)}stop(t){const a=this._charts.get(t);if(!a||!a.items.length)return;const i=a.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();a.items=[],this._notify(t,a,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Nn=new ej;const Wg="transparent",tj={boolean(s,t,a){return a>.5?t:s},color(s,t,a){const i=Ug(s||Wg),r=i.valid&&Ug(t||Wg);return r&&r.valid?r.mix(i,a).hexString():t},number(s,t,a){return s+(t-s)*a}};class nj{constructor(t,a,i,r){const o=a[i];r=jr([t.to,r,o,t.from]);const d=jr([t.from,o,r]);this._active=!0,this._fn=t.fn||tj[t.type||typeof d],this._easing=Yi[t.easing]||Yi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=a,this._prop=i,this._from=d,this._to=r,this._promises=void 0}active(){return this._active}update(t,a,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,d=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(d,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=jr([t.to,a,r,t.from]),this._from=jr([t.from,r,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const a=t-this._start,i=this._duration,r=this._prop,o=this._from,d=this._loop,h=this._to;let m;if(this._active=o!==h&&(d||a<i),!this._active){this._target[r]=h,this._notify(!0);return}if(a<0){this._target[r]=o;return}m=a/i%2,m=d&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[r]=this._fn(o,h,m)}wait(){const t=this._promises||(this._promises=[]);return new Promise((a,i)=>{t.push({res:a,rej:i})})}_notify(t){const a=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][a]()}}class Vx{constructor(t,a){this._chart=t,this._properties=new Map,this.configure(a)}configure(t){if(!xe(t))return;const a=Object.keys(Fe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!xe(o))return;const d={};for(const h of a)d[h]=o[h];(qe(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,d)})})}_animateOptions(t,a){const i=a.options,r=aj(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&sj(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,a){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),d=Object.keys(a),h=Date.now();let m;for(m=d.length-1;m>=0;--m){const g=d[m];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,a));continue}const x=a[g];let b=o[g];const v=i.get(g);if(b)if(v&&b.active()){b.update(v,x,h);continue}else b.cancel();if(!v||!v.duration){t[g]=x;continue}o[g]=b=new nj(v,t,g,x),r.push(b)}return r}update(t,a){if(this._properties.size===0){Object.assign(t,a);return}const i=this._createAnimations(t,a);if(i.length)return Nn.add(this._chart,i),!0}}function sj(s,t){const a=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=s[i[r]];o&&o.active()&&a.push(o.wait())}return Promise.all(a)}function aj(s,t){if(!t)return;let a=s.options;if(!a){s.options=t;return}return a.$shared&&(s.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function $g(s,t){const a=s&&s.options||{},i=a.reverse,r=a.min===void 0?t:0,o=a.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function ij(s,t,a){if(a===!1)return!1;const i=$g(s,a),r=$g(t,a);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function lj(s){let t,a,i,r;return xe(s)?(t=s.top,a=s.right,i=s.bottom,r=s.left):t=a=i=r=s,{top:t,right:a,bottom:i,left:r,disabled:s===!1}}function Fx(s,t){const a=[],i=s._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)a.push(i[r].index);return a}function Jg(s,t,a,i={}){const r=s.keys,o=i.mode==="single";let d,h,m,g;if(t===null)return;let x=!1;for(d=0,h=r.length;d<h;++d){if(m=+r[d],m===a){if(x=!0,i.all)continue;break}g=s.values[m],ot(g)&&(o||t===0||nn(t)===nn(g))&&(t+=g)}return!x&&!i.all?0:t}function rj(s,t){const{iScale:a,vScale:i}=t,r=a.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",d=Object.keys(s),h=new Array(d.length);let m,g,x;for(m=0,g=d.length;m<g;++m)x=d[m],h[m]={[r]:x,[o]:s[x]};return h}function Du(s,t){const a=s&&s.options.stacked;return a||a===void 0&&t.stack!==void 0}function oj(s,t,a){return`${s.id}.${t.id}.${a.stack||a.type}`}function cj(s){const{min:t,max:a,minDefined:i,maxDefined:r}=s.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?a:Number.POSITIVE_INFINITY}}function uj(s,t,a){const i=s[t]||(s[t]={});return i[a]||(i[a]={})}function Ig(s,t,a,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=s[r.index];if(a&&o>0||!a&&o<0)return r.index}return null}function ep(s,t){const{chart:a,_cachedMeta:i}=s,r=a._stacks||(a._stacks={}),{iScale:o,vScale:d,index:h}=i,m=o.axis,g=d.axis,x=oj(o,d,i),b=t.length;let v;for(let j=0;j<b;++j){const S=t[j],{[m]:N,[g]:M}=S,E=S._stacks||(S._stacks={});v=E[g]=uj(r,x,N),v[h]=M,v._top=Ig(v,d,!0,i.type),v._bottom=Ig(v,d,!1,i.type);const C=v._visualValues||(v._visualValues={});C[h]=M}}function Ou(s,t){const a=s.scales;return Object.keys(a).filter(i=>a[i].axis===t).shift()}function dj(s,t){return zs(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function hj(s,t,a){return zs(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}function Ri(s,t){const a=s.controller.index,i=s.vScale&&s.vScale.axis;if(i){t=t||s._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][a]===void 0)return;delete o[i][a],o[i]._visualValues!==void 0&&o[i]._visualValues[a]!==void 0&&delete o[i]._visualValues[a]}}}const Ru=s=>s==="reset"||s==="none",tp=(s,t)=>t?s:Object.assign({},s),fj=(s,t,a)=>s&&!t.hidden&&t._stacked&&{keys:Fx(a,!0),values:null};class Wr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,a){this.chart=t,this._ctx=t.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Du(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ri(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,a=this._cachedMeta,i=this.getDataset(),r=(b,v,j,S)=>b==="x"?v:b==="r"?S:j,o=a.xAxisID=me(i.xAxisID,Ou(t,"x")),d=a.yAxisID=me(i.yAxisID,Ou(t,"y")),h=a.rAxisID=me(i.rAxisID,Ou(t,"r")),m=a.indexAxis,g=a.iAxisID=r(m,o,d,h),x=a.vAxisID=r(m,d,o,h);a.xScale=this.getScaleForId(o),a.yScale=this.getScaleForId(d),a.rScale=this.getScaleForId(h),a.iScale=this.getScaleForId(g),a.vScale=this.getScaleForId(x)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const a=this._cachedMeta;return t===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kg(this._data,this),t._stacked&&Ri(t)}_dataCheck(){const t=this.getDataset(),a=t.data||(t.data=[]),i=this._data;if(xe(a)){const r=this._cachedMeta;this._data=rj(a,r)}else if(i!==a){if(i){kg(i,this);const r=this._cachedMeta;Ri(r),r._parsed=[]}a&&Object.isExtensible(a)&&$v(a,this),this._syncList=[],this._data=a}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const a=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=a._stacked;a._stacked=Du(a.vScale,a),a.stack!==i.stack&&(r=!0,Ri(a),a.stack=i.stack),this._resyncElements(t),(r||o!==a._stacked)&&(ep(this,a._parsed),a._stacked=Du(a.vScale,a))}configure(){const t=this.chart.config,a=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),a,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,a){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:d}=i,h=o.axis;let m=t===0&&a===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],x,b,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{qe(r[t])?v=this.parseArrayData(i,r,t,a):xe(r[t])?v=this.parseObjectData(i,r,t,a):v=this.parsePrimitiveData(i,r,t,a);const j=()=>b[h]===null||g&&b[h]<g[h];for(x=0;x<a;++x)i._parsed[x+t]=b=v[x],m&&(j()&&(m=!1),g=b);i._sorted=m}d&&ep(this,v)}parsePrimitiveData(t,a,i,r){const{iScale:o,vScale:d}=t,h=o.axis,m=d.axis,g=o.getLabels(),x=o===d,b=new Array(r);let v,j,S;for(v=0,j=r;v<j;++v)S=v+i,b[v]={[h]:x||o.parse(g[S],S),[m]:d.parse(a[S],S)};return b}parseArrayData(t,a,i,r){const{xScale:o,yScale:d}=t,h=new Array(r);let m,g,x,b;for(m=0,g=r;m<g;++m)x=m+i,b=a[x],h[m]={x:o.parse(b[0],x),y:d.parse(b[1],x)};return h}parseObjectData(t,a,i,r){const{xScale:o,yScale:d}=t,{xAxisKey:h="x",yAxisKey:m="y"}=this._parsing,g=new Array(r);let x,b,v,j;for(x=0,b=r;x<b;++x)v=x+i,j=a[v],g[x]={x:o.parse(Sa(j,h),v),y:d.parse(Sa(j,m),v)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,a,i){const r=this.chart,o=this._cachedMeta,d=a[t.axis],h={keys:Fx(r,!0),values:a._stacks[t.axis]._visualValues};return Jg(h,d,o.index,{mode:i})}updateRangeFromParsed(t,a,i,r){const o=i[a.axis];let d=o===null?NaN:o;const h=r&&i._stacks[a.axis];r&&h&&(r.values=h,d=Jg(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,d),t.max=Math.max(t.max,d)}getMinMax(t,a){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,d=r.length,h=this._getOtherScale(t),m=fj(a,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:x,max:b}=cj(h);let v,j;function S(){j=r[v];const N=j[h.axis];return!ot(j[t.axis])||x>N||b<N}for(v=0;v<d&&!(!S()&&(this.updateRangeFromParsed(g,t,j,m),o));++v);if(o){for(v=d-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(g,t,j,m);break}}return g}getAllParsedValues(t){const a=this._cachedMeta._parsed,i=[];let r,o,d;for(r=0,o=a.length;r<o;++r)d=a[r][t.axis],ot(d)&&i.push(d);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const a=this._cachedMeta,i=a.iScale,r=a.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const a=this._cachedMeta;this.update(t||"default"),a._clip=lj(me(this.options.clip,ij(a.xScale,a.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,a=this.chart,i=this._cachedMeta,r=i.data||[],o=a.chartArea,d=[],h=this._drawStart||0,m=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let x;for(i.dataset&&i.dataset.draw(t,o,h,m),x=h;x<h+m;++x){const b=r[x];b.hidden||(b.active&&g?d.push(b):b.draw(t,o))}for(x=0;x<d.length;++x)d[x].draw(t,o)}getStyle(t,a){const i=a?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,a,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const d=this._cachedMeta.data[t];o=d.$context||(d.$context=hj(this.getContext(),t,d)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=dj(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!a,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,a){return this._resolveElementOptions(this.dataElementType.id,a,t)}_resolveElementOptions(t,a="default",i){const r=a==="active",o=this._cachedDataOpts,d=t+"-"+a,h=o[d],m=this.enableOptionSharing&&Qi(i);if(h)return tp(h,m);const g=this.chart.config,x=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],v=g.getOptionScopes(this.getDataset(),x),j=Object.keys(Fe.elements[t]),S=()=>this.getContext(i,r,a),N=g.resolveNamedOptions(v,j,S,b);return N.$shared&&(N.$shared=m,o[d]=Object.freeze(tp(N,m))),N}_resolveAnimations(t,a,i){const r=this.chart,o=this._cachedDataOpts,d=`animation-${a}`,h=o[d];if(h)return h;let m;if(r.options.animation!==!1){const x=this.chart.config,b=x.datasetAnimationScopeKeys(this._type,a),v=x.getOptionScopes(this.getDataset(),b);m=x.createResolver(v,this.getContext(t,i,a))}const g=new Vx(r,m&&m.animations);return m&&m._cacheable&&(o[d]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,a){return!a||Ru(t)||this.chart._animationsDisabled}_getSharedOptions(t,a){const i=this.resolveDataElementOptions(t,a),r=this._sharedOptions,o=this.getSharedOptions(i),d=this.includeOptions(a,o)||o!==r;return this.updateSharedOptions(o,a,i),{sharedOptions:o,includeOptions:d}}updateElement(t,a,i,r){Ru(r)?Object.assign(t,i):this._resolveAnimations(a,r).update(t,i)}updateSharedOptions(t,a,i){t&&!Ru(a)&&this._resolveAnimations(void 0,a).update(t,i)}_setStyle(t,a,i,r){t.active=r;const o=this.getStyle(a,r);this._resolveAnimations(a,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,a,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,a,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const a=this._data,i=this._cachedMeta.data;for(const[h,m,g]of this._syncList)this[h](m,g);this._syncList=[];const r=i.length,o=a.length,d=Math.min(o,r);d&&this.parse(0,d),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,a,i=!0){const r=this._cachedMeta,o=r.data,d=t+a;let h;const m=g=>{for(g.length+=a,h=g.length-1;h>=d;h--)g[h]=g[h-a]};for(m(o),h=t;h<d;++h)o[h]=new this.dataElementType;this._parsing&&m(r._parsed),this.parse(t,a),i&&this.updateElements(o,t,a,"reset")}updateElements(t,a,i,r){}_removeElements(t,a){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,a);i._stacked&&Ri(i,r)}i.data.splice(t,a)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[a,i,r]=t;this[a](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,a){a&&this._sync(["_removeElements",t,a]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function mj(s,t){if(!s._cache.$bar){const a=s.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=a.length;r<o;r++)i=i.concat(a[r].controller.getAllParsedValues(s));s._cache.$bar=yx(i.sort((r,o)=>r-o))}return s._cache.$bar}function gj(s){const t=s.iScale,a=mj(t,s.type);let i=t._length,r,o,d,h;const m=()=>{d===32767||d===-32768||(Qi(h)&&(i=Math.min(i,Math.abs(d-h)||i)),h=d)};for(r=0,o=a.length;r<o;++r)d=t.getPixelForValue(a[r]),m();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)d=t.getPixelForTick(r),m();return i}function pj(s,t,a,i){const r=a.barThickness;let o,d;return _e(r)?(o=t.min*a.categoryPercentage,d=a.barPercentage):(o=r*i,d=1),{chunk:o/i,ratio:d,start:t.pixels[s]-o/2}}function xj(s,t,a,i){const r=t.pixels,o=r[s];let d=s>0?r[s-1]:null,h=s<r.length-1?r[s+1]:null;const m=a.categoryPercentage;d===null&&(d=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-d);const g=o-(o-Math.min(d,h))/2*m;return{chunk:Math.abs(h-d)/2*m/i,ratio:a.barPercentage,start:g}}function bj(s,t,a,i){const r=a.parse(s[0],i),o=a.parse(s[1],i),d=Math.min(r,o),h=Math.max(r,o);let m=d,g=h;Math.abs(d)>Math.abs(h)&&(m=h,g=d),t[a.axis]=g,t._custom={barStart:m,barEnd:g,start:r,end:o,min:d,max:h}}function Px(s,t,a,i){return qe(s)?bj(s,t,a,i):t[a.axis]=a.parse(s,i),t}function np(s,t,a,i){const r=s.iScale,o=s.vScale,d=r.getLabels(),h=r===o,m=[];let g,x,b,v;for(g=a,x=a+i;g<x;++g)v=t[g],b={},b[r.axis]=h||r.parse(d[g],g),m.push(Px(v,b,o,g));return m}function Cu(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function yj(s,t,a){return s!==0?nn(s):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}function vj(s){let t,a,i,r,o;return s.horizontal?(t=s.base>s.x,a="left",i="right"):(t=s.base<s.y,a="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:a,end:i,reverse:t,top:r,bottom:o}}function jj(s,t,a,i){let r=t.borderSkipped;const o={};if(!r){s.borderSkipped=o;return}if(r===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:d,end:h,reverse:m,top:g,bottom:x}=vj(s);r==="middle"&&a&&(s.enableBorderRadius=!0,(a._top||0)===i?r=g:(a._bottom||0)===i?r=x:(o[sp(x,d,h,m)]=!0,r=g)),o[sp(r,d,h,m)]=!0,s.borderSkipped=o}function sp(s,t,a,i){return i?(s=_j(s,t,a),s=ap(s,a,t)):s=ap(s,t,a),s}function _j(s,t,a){return s===t?a:s===a?t:s}function ap(s,t,a){return s==="start"?t:s==="end"?a:s}function Nj(s,{inflateAmount:t},a){s.inflateAmount=t==="auto"?a===1?.33:0:t}class Sj extends Wr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,a,i,r){return np(t,a,i,r)}parseArrayData(t,a,i,r){return np(t,a,i,r)}parseObjectData(t,a,i,r){const{iScale:o,vScale:d}=t,{xAxisKey:h="x",yAxisKey:m="y"}=this._parsing,g=o.axis==="x"?h:m,x=d.axis==="x"?h:m,b=[];let v,j,S,N;for(v=i,j=i+r;v<j;++v)N=a[v],S={},S[o.axis]=o.parse(Sa(N,g),v),b.push(Px(Sa(N,x),S,d,v));return b}updateRangeFromParsed(t,a,i,r){super.updateRangeFromParsed(t,a,i,r);const o=i._custom;o&&a===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const a=this._cachedMeta,{iScale:i,vScale:r}=a,o=this.getParsed(t),d=o._custom,h=Cu(d)?"["+d.start+", "+d.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,t)}updateElements(t,a,i,r){const o=r==="reset",{index:d,_cachedMeta:{vScale:h}}=this,m=h.getBasePixel(),g=h.isHorizontal(),x=this._getRuler(),{sharedOptions:b,includeOptions:v}=this._getSharedOptions(a,r);for(let j=a;j<a+i;j++){const S=this.getParsed(j),N=o||_e(S[h.axis])?{base:m,head:m}:this._calculateBarValuePixels(j),M=this._calculateBarIndexPixels(j,x),E=(S._stacks||{})[h.axis],C={horizontal:g,base:N.base,enableBorderRadius:!E||Cu(S._custom)||d===E._top||d===E._bottom,x:g?N.head:M.center,y:g?M.center:N.head,height:g?M.size:Math.abs(N.size),width:g?Math.abs(N.size):M.size};v&&(C.options=b||this.resolveDataElementOptions(j,t[j].active?"active":r));const V=C.options||t[j].options;jj(C,V,E,d),Nj(C,V,x.ratio),this.updateElement(t[j],j,C,r)}}_getStacks(t,a){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(x=>x.controller.options.grouped),o=i.options.stacked,d=[],h=this._cachedMeta.controller.getParsed(a),m=h&&h[i.axis],g=x=>{const b=x._parsed.find(j=>j[i.axis]===m),v=b&&b[x.vScale.axis];if(_e(v)||isNaN(v))return!0};for(const x of r)if(!(a!==void 0&&g(x))&&((o===!1||d.indexOf(x.stack)===-1||o===void 0&&x.stack===void 0)&&d.push(x.stack),x.index===t))break;return d.length||d.push(void 0),d}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===a).shift()}_getAxis(){const t={},a=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[me(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,a)]=!0;return Object.keys(t)}_getStackIndex(t,a,i){const r=this._getStacks(t,i),o=a!==void 0?r.indexOf(a):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,a=this._cachedMeta,i=a.iScale,r=[];let o,d;for(o=0,d=a.data.length;o<d;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||gj(a),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:a,_stacked:i,index:r},options:{base:o,minBarLength:d}}=this,h=o||0,m=this.getParsed(t),g=m._custom,x=Cu(g);let b=m[a.axis],v=0,j=i?this.applyStack(a,m,i):b,S,N;j!==b&&(v=j-b,j=b),x&&(b=g.barStart,j=g.barEnd-g.barStart,b!==0&&nn(b)!==nn(g.barEnd)&&(v=0),v+=b);const M=!_e(o)&&!x?o:v;let E=a.getPixelForValue(M);if(this.chart.getDataVisibility(t)?S=a.getPixelForValue(v+j):S=E,N=S-E,Math.abs(N)<d){N=yj(N,a,h)*d,b===h&&(E-=N/2);const C=a.getPixelForDecimal(0),V=a.getPixelForDecimal(1),U=Math.min(C,V),B=Math.max(C,V);E=Math.max(Math.min(E,B),U),S=E+N,i&&!x&&(m._stacks[a.axis]._visualValues[r]=a.getValueForPixel(S)-a.getValueForPixel(E))}if(E===a.getPixelForValue(h)){const C=nn(N)*a.getLineWidthForValue(h)/2;E+=C,N-=C}return{size:N,base:E,head:S,center:S+N/2}}_calculateBarIndexPixels(t,a){const i=a.scale,r=this.options,o=r.skipNull,d=me(r.maxBarThickness,1/0);let h,m;const g=this._getAxisCount();if(a.grouped){const x=o?this._getStackCount(t):a.stackCount,b=r.barThickness==="flex"?xj(t,a,r,x*g):pj(t,a,r,x*g),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,j=this._getAxis().indexOf(me(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+j;h=b.start+b.chunk*S+b.chunk/2,m=Math.min(d,b.chunk*b.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),m=Math.min(d,a.min*a.ratio);return{base:h-m/2,head:h+m/2,center:h,size:m}}draw(){const t=this._cachedMeta,a=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[a.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class Mj extends Wr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const a=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=a,d=this.chart._animationsDisabled;let{start:h,count:m}=_x(a,r,d);this._drawStart=h,this._drawCount=m,Nx(a)&&(h=0,m=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!d,options:g},t),this.updateElements(r,h,m,t)}updateElements(t,a,i,r){const o=r==="reset",{iScale:d,vScale:h,_stacked:m,_dataset:g}=this._cachedMeta,{sharedOptions:x,includeOptions:b}=this._getSharedOptions(a,r),v=d.axis,j=h.axis,{spanGaps:S,segment:N}=this.options,M=Ma(S)?S:Number.POSITIVE_INFINITY,E=this.chart._animationsDisabled||o||r==="none",C=a+i,V=t.length;let U=a>0&&this.getParsed(a-1);for(let B=0;B<V;++B){const K=t[B],X=E?K:{};if(B<a||B>=C){X.skip=!0;continue}const Q=this.getParsed(B),$=_e(Q[j]),oe=X[v]=d.getPixelForValue(Q[v],B),ie=X[j]=o||$?h.getBasePixel():h.getPixelForValue(m?this.applyStack(h,Q,m):Q[j],B);X.skip=isNaN(oe)||isNaN(ie)||$,X.stop=B>0&&Math.abs(Q[v]-U[v])>M,N&&(X.parsed=Q,X.raw=g.data[B]),b&&(X.options=x||this.resolveDataElementOptions(B,K.active?"active":r)),E||this.updateElement(K,B,X,r),U=Q}}getMaxOverflow(){const t=this._cachedMeta,a=t.dataset,i=a.options&&a.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),d=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,d)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class Tj extends Wr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const a=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=a,d=this.getParsed(t),h=r.getLabelForValue(d.x),m=o.getLabelForValue(d.y);return{label:i[t]||"",value:"("+h+", "+m+")"}}update(t){const a=this._cachedMeta,{data:i=[]}=a,r=this.chart._animationsDisabled;let{start:o,count:d}=_x(a,i,r);if(this._drawStart=o,this._drawCount=d,Nx(a)&&(o=0,d=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:m}=a;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!m._decimated,h.points=i;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(h,void 0,{animated:!r,options:g},t)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(i,o,d,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,a,i,r){const o=r==="reset",{iScale:d,vScale:h,_stacked:m,_dataset:g}=this._cachedMeta,x=this.resolveDataElementOptions(a,r),b=this.getSharedOptions(x),v=this.includeOptions(r,b),j=d.axis,S=h.axis,{spanGaps:N,segment:M}=this.options,E=Ma(N)?N:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||r==="none";let V=a>0&&this.getParsed(a-1);for(let U=a;U<a+i;++U){const B=t[U],K=this.getParsed(U),X=C?B:{},Q=_e(K[S]),$=X[j]=d.getPixelForValue(K[j],U),oe=X[S]=o||Q?h.getBasePixel():h.getPixelForValue(m?this.applyStack(h,K,m):K[S],U);X.skip=isNaN($)||isNaN(oe)||Q,X.stop=U>0&&Math.abs(K[j]-V[j])>E,M&&(X.parsed=K,X.raw=g.data[U]),v&&(X.options=b||this.resolveDataElementOptions(U,B.active?"active":r)),C||this.updateElement(B,U,X,r),V=K}this.updateSharedOptions(b,r,x)}getMaxOverflow(){const t=this._cachedMeta,a=t.data||[];if(!this.options.showLine){let h=0;for(let m=a.length-1;m>=0;--m)h=Math.max(h,a[m].size(this.resolveDataElementOptions(m))/2);return h>0&&h}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!a.length)return r;const o=a[0].size(this.resolveDataElementOptions(0)),d=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,o,d)/2}}function Es(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class pd{static override(t){Object.assign(pd.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Es()}parse(){return Es()}format(){return Es()}add(){return Es()}diff(){return Es()}startOf(){return Es()}endOf(){return Es()}}var Ej={_date:pd};function Aj(s,t,a,i){const{controller:r,data:o,_sorted:d}=s,h=r._cachedMeta.iScale,m=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&d&&o.length){const g=h._reversePixels?Zv:Rs;if(i){if(r._sharedOptions){const x=o[0],b=typeof x.getRange=="function"&&x.getRange(t);if(b){const v=g(o,t,a-b),j=g(o,t,a+b);return{lo:v.lo,hi:j.hi}}}}else{const x=g(o,t,a);if(m){const{vScale:b}=r._cachedMeta,{_parsed:v}=s,j=v.slice(0,x.lo+1).reverse().findIndex(N=>!_e(N[b.axis]));x.lo-=Math.max(0,j);const S=v.slice(x.hi).findIndex(N=>!_e(N[b.axis]));x.hi+=Math.max(0,S)}return x}}return{lo:0,hi:o.length-1}}function $r(s,t,a,i,r){const o=s.getSortedVisibleDatasetMetas(),d=a[t];for(let h=0,m=o.length;h<m;++h){const{index:g,data:x}=o[h],{lo:b,hi:v}=Aj(o[h],t,d,r);for(let j=b;j<=v;++j){const S=x[j];S.skip||i(S,g,j)}}}function Dj(s){const t=s.indexOf("x")!==-1,a=s.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,d=a?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(d,2))}}function wu(s,t,a,i,r){const o=[];return!r&&!s.isPointInArea(t)||$r(s,a,t,function(h,m,g){!r&&!Ki(h,s.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:m,index:g})},!0),o}function Oj(s,t,a,i){let r=[];function o(d,h,m){const{startAngle:g,endAngle:x}=d.getProps(["startAngle","endAngle"],i),{angle:b}=Gv(d,{x:t.x,y:t.y});xx(b,g,x)&&r.push({element:d,datasetIndex:h,index:m})}return $r(s,a,t,o),r}function Rj(s,t,a,i,r,o){let d=[];const h=Dj(a);let m=Number.POSITIVE_INFINITY;function g(x,b,v){const j=x.inRange(t.x,t.y,r);if(i&&!j)return;const S=x.getCenterPoint(r);if(!(!!o||s.isPointInArea(S))&&!j)return;const M=h(t,S);M<m?(d=[{element:x,datasetIndex:b,index:v}],m=M):M===m&&d.push({element:x,datasetIndex:b,index:v})}return $r(s,a,t,g),d}function zu(s,t,a,i,r,o){return!o&&!s.isPointInArea(t)?[]:a==="r"&&!i?Oj(s,t,a,r):Rj(s,t,a,i,r,o)}function ip(s,t,a,i,r){const o=[],d=a==="x"?"inXRange":"inYRange";let h=!1;return $r(s,a,t,(m,g,x)=>{m[d]&&m[d](t[a],r)&&(o.push({element:m,datasetIndex:g,index:x}),h=h||m.inRange(t.x,t.y,r))}),i&&!h?[]:o}var Cj={modes:{index(s,t,a,i){const r=As(t,s),o=a.axis||"x",d=a.includeInvisible||!1,h=a.intersect?wu(s,r,o,i,d):zu(s,r,o,!1,i,d),m=[];return h.length?(s.getSortedVisibleDatasetMetas().forEach(g=>{const x=h[0].index,b=g.data[x];b&&!b.skip&&m.push({element:b,datasetIndex:g.index,index:x})}),m):[]},dataset(s,t,a,i){const r=As(t,s),o=a.axis||"xy",d=a.includeInvisible||!1;let h=a.intersect?wu(s,r,o,i,d):zu(s,r,o,!1,i,d);if(h.length>0){const m=h[0].datasetIndex,g=s.getDatasetMeta(m).data;h=[];for(let x=0;x<g.length;++x)h.push({element:g[x],datasetIndex:m,index:x})}return h},point(s,t,a,i){const r=As(t,s),o=a.axis||"xy",d=a.includeInvisible||!1;return wu(s,r,o,i,d)},nearest(s,t,a,i){const r=As(t,s),o=a.axis||"xy",d=a.includeInvisible||!1;return zu(s,r,o,a.intersect,i,d)},x(s,t,a,i){const r=As(t,s);return ip(s,r,"x",a.intersect,i)},y(s,t,a,i){const r=As(t,s);return ip(s,r,"y",a.intersect,i)}}};const Yx=["left","top","right","bottom"];function Ci(s,t){return s.filter(a=>a.pos===t)}function lp(s,t){return s.filter(a=>Yx.indexOf(a.pos)===-1&&a.box.axis===t)}function wi(s,t){return s.sort((a,i)=>{const r=t?i:a,o=t?a:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function wj(s){const t=[];let a,i,r,o,d,h;for(a=0,i=(s||[]).length;a<i;++a)r=s[a],{position:o,options:{stack:d,stackWeight:h=1}}=r,t.push({index:a,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:d&&o+d,stackWeight:h});return t}function zj(s){const t={};for(const a of s){const{stack:i,pos:r,stackWeight:o}=a;if(!i||!Yx.includes(r))continue;const d=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=o}return t}function Lj(s,t){const a=zj(s),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,d,h;for(o=0,d=s.length;o<d;++o){h=s[o];const{fullSize:m}=h.box,g=a[h.stack],x=g&&h.stackWeight/g.weight;h.horizontal?(h.width=x?x*i:m&&t.availableWidth,h.height=r):(h.width=i,h.height=x?x*r:m&&t.availableHeight)}return a}function kj(s){const t=wj(s),a=wi(t.filter(g=>g.box.fullSize),!0),i=wi(Ci(t,"left"),!0),r=wi(Ci(t,"right")),o=wi(Ci(t,"top"),!0),d=wi(Ci(t,"bottom")),h=lp(t,"x"),m=lp(t,"y");return{fullSize:a,leftAndTop:i.concat(o),rightAndBottom:r.concat(m).concat(d).concat(h),chartArea:Ci(t,"chartArea"),vertical:i.concat(r).concat(m),horizontal:o.concat(d).concat(h)}}function rp(s,t,a,i){return Math.max(s[a],t[a])+Math.max(s[i],t[i])}function qx(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function Bj(s,t,a,i){const{pos:r,box:o}=a,d=s.maxPadding;if(!xe(r)){a.size&&(s[r]-=a.size);const b=i[a.stack]||{size:0,count:1};b.size=Math.max(b.size,a.horizontal?o.height:o.width),a.size=b.size/b.count,s[r]+=a.size}o.getPadding&&qx(d,o.getPadding());const h=Math.max(0,t.outerWidth-rp(d,s,"left","right")),m=Math.max(0,t.outerHeight-rp(d,s,"top","bottom")),g=h!==s.w,x=m!==s.h;return s.w=h,s.h=m,a.horizontal?{same:g,other:x}:{same:x,other:g}}function Hj(s){const t=s.maxPadding;function a(i){const r=Math.max(t[i]-s[i],0);return s[i]+=r,r}s.y+=a("top"),s.x+=a("left"),a("right"),a("bottom")}function Uj(s,t){const a=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(d=>{o[d]=Math.max(t[d],a[d])}),o}return i(s?["left","right"]:["top","bottom"])}function Ui(s,t,a,i){const r=[];let o,d,h,m,g,x;for(o=0,d=s.length,g=0;o<d;++o){h=s[o],m=h.box,m.update(h.width||t.w,h.height||t.h,Uj(h.horizontal,t));const{same:b,other:v}=Bj(t,a,h,i);g|=b&&r.length,x=x||v,m.fullSize||r.push(h)}return g&&Ui(r,t,a,i)||x}function Mr(s,t,a,i,r){s.top=a,s.left=t,s.right=t+i,s.bottom=a+r,s.width=i,s.height=r}function op(s,t,a,i){const r=a.padding;let{x:o,y:d}=t;for(const h of s){const m=h.box,g=i[h.stack]||{placed:0,weight:1},x=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*x,v=g.size||m.height;Qi(g.start)&&(d=g.start),m.fullSize?Mr(m,r.left,d,a.outerWidth-r.right-r.left,v):Mr(m,t.left+g.placed,d,b,v),g.start=d,g.placed+=b,d=m.bottom}else{const b=t.h*x,v=g.size||m.width;Qi(g.start)&&(o=g.start),m.fullSize?Mr(m,o,r.top,v,a.outerHeight-r.bottom-r.top):Mr(m,o,t.top+g.placed,v,b),g.start=o,g.placed+=b,o=m.right}}t.x=o,t.y=d}var Ut={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(a){t.draw(a)}}]},s.boxes.push(t)},removeBox(s,t){const a=s.boxes?s.boxes.indexOf(t):-1;a!==-1&&s.boxes.splice(a,1)},configure(s,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(s,t,a,i){if(!s)return;const r=Vt(s.options.layout.padding),o=Math.max(t-r.width,0),d=Math.max(a-r.height,0),h=kj(s.boxes),m=h.vertical,g=h.horizontal;Me(s.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const x=m.reduce((N,M)=>M.box.options&&M.box.options.display===!1?N:N+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:a,padding:r,availableWidth:o,availableHeight:d,vBoxMaxWidth:o/2/x,hBoxMaxHeight:d/2}),v=Object.assign({},r);qx(v,Vt(i));const j=Object.assign({maxPadding:v,w:o,h:d,x:r.left,y:r.top},r),S=Lj(m.concat(g),b);Ui(h.fullSize,j,b,S),Ui(m,j,b,S),Ui(g,j,b,S)&&Ui(m,j,b,S),Hj(j),op(h.leftAndTop,j,b,S),j.x+=j.w,j.y+=j.h,op(h.rightAndBottom,j,b,S),s.chartArea={left:j.left,top:j.top,right:j.left+j.w,bottom:j.top+j.h,height:j.h,width:j.w},Me(h.chartArea,N=>{const M=N.box;Object.assign(M,s.chartArea),M.update(j.w,j.h,{left:0,top:0,right:0,bottom:0})})}};class Xx{acquireContext(t,a){}releaseContext(t){return!1}addEventListener(t,a,i){}removeEventListener(t,a,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,a,i,r){return a=Math.max(0,a||t.width),i=i||t.height,{width:a,height:Math.max(0,r?Math.floor(a/r):i)}}isAttached(t){return!0}updateConfig(t){}}class Vj extends Xx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Lr="$chartjs",Fj={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cp=s=>s===null||s==="";function Pj(s,t){const a=s.style,i=s.getAttribute("height"),r=s.getAttribute("width");if(s[Lr]={initial:{height:i,width:r,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",cp(r)){const o=Gg(s,"width");o!==void 0&&(s.width=o)}if(cp(i))if(s.style.height==="")s.height=s.width/(t||2);else{const o=Gg(s,"height");o!==void 0&&(s.height=o)}return s}const Gx=P1?{passive:!0}:!1;function Yj(s,t,a){s&&s.addEventListener(t,a,Gx)}function qj(s,t,a){s&&s.canvas&&s.canvas.removeEventListener(t,a,Gx)}function Xj(s,t){const a=Fj[s.type]||s.type,{x:i,y:r}=As(s,t);return{type:a,chart:t,native:s,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Xr(s,t){for(const a of s)if(a===t||a.contains(t))return!0}function Gj(s,t,a){const i=s.canvas,r=new MutationObserver(o=>{let d=!1;for(const h of o)d=d||Xr(h.addedNodes,i),d=d&&!Xr(h.removedNodes,i);d&&a()});return r.observe(document,{childList:!0,subtree:!0}),r}function Qj(s,t,a){const i=s.canvas,r=new MutationObserver(o=>{let d=!1;for(const h of o)d=d||Xr(h.removedNodes,i),d=d&&!Xr(h.addedNodes,i);d&&a()});return r.observe(document,{childList:!0,subtree:!0}),r}const Wi=new Map;let up=0;function Qx(){const s=window.devicePixelRatio;s!==up&&(up=s,Wi.forEach((t,a)=>{a.currentDevicePixelRatio!==s&&t()}))}function Kj(s,t){Wi.size||window.addEventListener("resize",Qx),Wi.set(s,t)}function Zj(s){Wi.delete(s),Wi.size||window.removeEventListener("resize",Qx)}function Wj(s,t,a){const i=s.canvas,r=i&&gd(i);if(!r)return;const o=jx((h,m)=>{const g=r.clientWidth;a(h,m),g<r.clientWidth&&a()},window),d=new ResizeObserver(h=>{const m=h[0],g=m.contentRect.width,x=m.contentRect.height;g===0&&x===0||o(g,x)});return d.observe(r),Kj(s,o),d}function Lu(s,t,a){a&&a.disconnect(),t==="resize"&&Zj(s)}function $j(s,t,a){const i=s.canvas,r=jx(o=>{s.ctx!==null&&a(Xj(o,s))},s);return Yj(i,t,r),r}class Jj extends Xx{acquireContext(t,a){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Pj(t,a),i):null}releaseContext(t){const a=t.canvas;if(!a[Lr])return!1;const i=a[Lr].initial;["height","width"].forEach(o=>{const d=i[o];_e(d)?a.removeAttribute(o):a.setAttribute(o,d)});const r=i.style||{};return Object.keys(r).forEach(o=>{a.style[o]=r[o]}),a.width=a.width,delete a[Lr],!0}addEventListener(t,a,i){this.removeEventListener(t,a);const r=t.$proxies||(t.$proxies={}),d={attach:Gj,detach:Qj,resize:Wj}[a]||$j;r[a]=d(t,a,i)}removeEventListener(t,a){const i=t.$proxies||(t.$proxies={}),r=i[a];if(!r)return;({attach:Lu,detach:Lu,resize:Lu}[a]||qj)(t,a,r),i[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,a,i,r){return F1(t,a,i,r)}isAttached(t){const a=t&&gd(t);return!!(a&&a.isConnected)}}function Ij(s){return!md()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Vj:Jj}class ls{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:a,y:i}=this.getProps(["x","y"],t);return{x:a,y:i}}hasValue(){return Ma(this.x)&&Ma(this.y)}getProps(t,a){const i=this.$animations;if(!a||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function e2(s,t){const a=s.options.ticks,i=t2(s),r=Math.min(a.maxTicksLimit||i,i),o=a.major.enabled?s2(t):[],d=o.length,h=o[0],m=o[d-1],g=[];if(d>r)return a2(t,g,o,d/r),g;const x=n2(o,t,r);if(d>0){let b,v;const j=d>1?Math.round((m-h)/(d-1)):null;for(Tr(t,g,x,_e(j)?0:h-j,h),b=0,v=d-1;b<v;b++)Tr(t,g,x,o[b],o[b+1]);return Tr(t,g,x,m,_e(j)?t.length:m+j),g}return Tr(t,g,x),g}function t2(s){const t=s.options.offset,a=s._tickSize(),i=s._length/a+(t?0:1),r=s._maxLength/a;return Math.floor(Math.min(i,r))}function n2(s,t,a){const i=i2(s),r=t.length/a;if(!i)return Math.max(r,1);const o=Fv(i);for(let d=0,h=o.length-1;d<h;d++){const m=o[d];if(m>r)return m}return Math.max(r,1)}function s2(s){const t=[];let a,i;for(a=0,i=s.length;a<i;a++)s[a].major&&t.push(a);return t}function a2(s,t,a,i){let r=0,o=a[0],d;for(i=Math.ceil(i),d=0;d<s.length;d++)d===o&&(t.push(s[d]),r++,o=a[r*i])}function Tr(s,t,a,i,r){const o=me(i,0),d=Math.min(me(r,s.length),s.length);let h=0,m,g,x;for(a=Math.ceil(a),r&&(m=r-i,a=m/Math.floor(m/a)),x=o;x<0;)h++,x=Math.round(o+h*a);for(g=Math.max(o,0);g<d;g++)g===x&&(t.push(s[g]),h++,x=Math.round(o+h*a))}function i2(s){const t=s.length;let a,i;if(t<2)return!1;for(i=s[0],a=1;a<t;++a)if(s[a]-s[a-1]!==i)return!1;return i}const l2=s=>s==="left"?"right":s==="right"?"left":s,dp=(s,t,a)=>t==="top"||t==="left"?s[t]+a:s[t]-a,hp=(s,t)=>Math.min(t||s,s);function fp(s,t){const a=[],i=s.length/t,r=s.length;let o=0;for(;o<r;o+=i)a.push(s[Math.floor(o)]);return a}function r2(s,t,a){const i=s.ticks.length,r=Math.min(t,i-1),o=s._startPixel,d=s._endPixel,h=1e-6;let m=s.getPixelForTick(r),g;if(!(a&&(i===1?g=Math.max(m-o,d-m):t===0?g=(s.getPixelForTick(1)-m)/2:g=(m-s.getPixelForTick(r-1))/2,m+=r<t?g:-g,m<o-h||m>d+h)))return m}function o2(s,t){Me(s,a=>{const i=a.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete a.data[i[o]];i.splice(0,r)}})}function zi(s){return s.drawTicks?s.tickLength:0}function mp(s,t){if(!s.display)return 0;const a=rt(s.font,t),i=Vt(s.padding);return(qe(s.text)?s.text.length:1)*a.lineHeight+i.height}function c2(s,t){return zs(s,{scale:t,type:"scale"})}function u2(s,t,a){return zs(s,{tick:a,index:t,type:"tick"})}function d2(s,t,a){let i=cd(s);return(a&&t!=="right"||!a&&t==="right")&&(i=l2(i)),i}function h2(s,t,a,i){const{top:r,left:o,bottom:d,right:h,chart:m}=s,{chartArea:g,scales:x}=m;let b=0,v,j,S;const N=d-r,M=h-o;if(s.isHorizontal()){if(j=lt(i,o,h),xe(a)){const E=Object.keys(a)[0],C=a[E];S=x[E].getPixelForValue(C)+N-t}else a==="center"?S=(g.bottom+g.top)/2+N-t:S=dp(s,a,t);v=h-o}else{if(xe(a)){const E=Object.keys(a)[0],C=a[E];j=x[E].getPixelForValue(C)-M+t}else a==="center"?j=(g.left+g.right)/2-M+t:j=dp(s,a,t);S=lt(i,d,r),b=a==="left"?-qt:qt}return{titleX:j,titleY:S,maxWidth:v,rotation:b}}class Aa extends ls{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,a){return t}getUserBounds(){let{_userMin:t,_userMax:a,_suggestedMin:i,_suggestedMax:r}=this;return t=Jt(t,Number.POSITIVE_INFINITY),a=Jt(a,Number.NEGATIVE_INFINITY),i=Jt(i,Number.POSITIVE_INFINITY),r=Jt(r,Number.NEGATIVE_INFINITY),{min:Jt(t,i),max:Jt(a,r),minDefined:ot(t),maxDefined:ot(a)}}getMinMax(t){let{min:a,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),d;if(r&&o)return{min:a,max:i};const h=this.getMatchingVisibleMetas();for(let m=0,g=h.length;m<g;++m)d=h[m].controller.getMinMax(this,t),r||(a=Math.min(a,d.min)),o||(i=Math.max(i,d.max));return a=o&&a>i?i:a,i=r&&a>i?a:i,{min:Jt(a,Jt(i,a)),max:Jt(i,Jt(a,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Re(this.options.beforeUpdate,[this])}update(t,a,i){const{beginAtZero:r,grace:o,ticks:d}=this.options,h=d.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=a,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=y1(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=h<this.ticks.length;this._convertTicksToLabels(m?fp(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||d.source==="auto")&&(this.ticks=e2(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,a,i;this.isHorizontal()?(a=this.left,i=this.right):(a=this.top,i=this.bottom,t=!t),this._startPixel=a,this._endPixel=i,this._reversePixels=t,this._length=i-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Re(this.options.afterUpdate,[this])}beforeSetDimensions(){Re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Re(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Re(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const a=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Re(a.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,a=t.ticks,i=hp(this.ticks.length,t.ticks.maxTicksLimit),r=a.minRotation||0,o=a.maxRotation;let d=r,h,m,g;if(!this._isVisible()||!a.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const x=this._getLabelSizes(),b=x.widest.width,v=x.highest.height,j=Et(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:j/(i-1),b+6>h&&(h=j/(i-(t.offset?.5:1)),m=this.maxHeight-zi(t.grid)-a.padding-mp(t.title,this.chart.options.font),g=Math.sqrt(b*b+v*v),d=Xv(Math.min(Math.asin(Et((x.highest.height+6)/h,-1,1)),Math.asin(Et(m/g,-1,1))-Math.asin(Et(v/g,-1,1)))),d=Math.max(r,Math.min(o,d))),this.labelRotation=d}afterCalculateLabelRotation(){Re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Re(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:a,options:{ticks:i,title:r,grid:o}}=this,d=this._isVisible(),h=this.isHorizontal();if(d){const m=mp(r,a.options.font);if(h?(t.width=this.maxWidth,t.height=zi(o)+m):(t.height=this.maxHeight,t.width=zi(o)+m),i.display&&this.ticks.length){const{first:g,last:x,widest:b,highest:v}=this._getLabelSizes(),j=i.padding*2,S=Os(this.labelRotation),N=Math.cos(S),M=Math.sin(S);if(h){const E=i.mirror?0:M*b.width+N*v.height;t.height=Math.min(this.maxHeight,t.height+E+j)}else{const E=i.mirror?0:N*b.width+M*v.height;t.width=Math.min(this.maxWidth,t.width+E+j)}this._calculatePadding(g,x,M,N)}}this._handleMargins(),h?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,a,i,r){const{ticks:{align:o,padding:d},position:h}=this.options,m=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const x=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,j=0;m?g?(v=r*t.width,j=i*a.height):(v=i*t.height,j=r*a.width):o==="start"?j=a.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,j=a.width/2),this.paddingLeft=Math.max((v-x+d)*this.width/(this.width-x),0),this.paddingRight=Math.max((j-b+d)*this.width/(this.width-b),0)}else{let x=a.height/2,b=t.height/2;o==="start"?(x=0,b=t.height):o==="end"&&(x=a.height,b=0),this.paddingTop=x+d,this.paddingBottom=b+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Re(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:a}=this.options;return a==="top"||a==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let a,i;for(a=0,i=t.length;a<i;a++)_e(t[a].label)&&(t.splice(a,1),i--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const a=this.options.ticks.sampleSize;let i=this.ticks;a<i.length&&(i=fp(i,a)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,a,i){const{ctx:r,_longestTextCache:o}=this,d=[],h=[],m=Math.floor(a/hp(a,i));let g=0,x=0,b,v,j,S,N,M,E,C,V,U,B;for(b=0;b<a;b+=m){if(S=t[b].label,N=this._resolveTickFontOptions(b),r.font=M=N.string,E=o[M]=o[M]||{data:{},gc:[]},C=N.lineHeight,V=U=0,!_e(S)&&!qe(S))V=Fg(r,E.data,E.gc,V,S),U=C;else if(qe(S))for(v=0,j=S.length;v<j;++v)B=S[v],!_e(B)&&!qe(B)&&(V=Fg(r,E.data,E.gc,V,B),U+=C);d.push(V),h.push(U),g=Math.max(V,g),x=Math.max(U,x)}o2(o,a);const K=d.indexOf(g),X=h.indexOf(x),Q=$=>({width:d[$]||0,height:h[$]||0});return{first:Q(0),last:Q(a-1),widest:Q(K),highest:Q(X),widths:d,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,a){return NaN}getValueForPixel(t){}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const a=this._startPixel+t*this._length;return Kv(this._alignToPixels?Ts(this.chart,a,0):a)}getDecimalForPixel(t){const a=(t-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:a}=this;return t<0&&a<0?a:t>0&&a>0?t:0}getContext(t){const a=this.ticks||[];if(t>=0&&t<a.length){const i=a[t];return i.$context||(i.$context=u2(this.getContext(),t,i))}return this.$context||(this.$context=c2(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,a=Os(this.labelRotation),i=Math.abs(Math.cos(a)),r=Math.abs(Math.sin(a)),o=this._getLabelSizes(),d=t.autoSkipPadding||0,h=o?o.widest.width+d:0,m=o?o.highest.height+d:0;return this.isHorizontal()?m*i>h*r?h/i:m/r:m*r<h*i?m/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const a=this.axis,i=this.chart,r=this.options,{grid:o,position:d,border:h}=r,m=o.offset,g=this.isHorizontal(),b=this.ticks.length+(m?1:0),v=zi(o),j=[],S=h.setContext(this.getContext()),N=S.display?S.width:0,M=N/2,E=function(H){return Ts(i,H,N)};let C,V,U,B,K,X,Q,$,oe,ie,re,ke;if(d==="top")C=E(this.bottom),X=this.bottom-v,$=C-M,ie=E(t.top)+M,ke=t.bottom;else if(d==="bottom")C=E(this.top),ie=t.top,ke=E(t.bottom)-M,X=C+M,$=this.top+v;else if(d==="left")C=E(this.right),K=this.right-v,Q=C-M,oe=E(t.left)+M,re=t.right;else if(d==="right")C=E(this.left),oe=t.left,re=E(t.right)-M,K=C+M,Q=this.left+v;else if(a==="x"){if(d==="center")C=E((t.top+t.bottom)/2+.5);else if(xe(d)){const H=Object.keys(d)[0],G=d[H];C=E(this.chart.scales[H].getPixelForValue(G))}ie=t.top,ke=t.bottom,X=C+M,$=X+v}else if(a==="y"){if(d==="center")C=E((t.left+t.right)/2);else if(xe(d)){const H=Object.keys(d)[0],G=d[H];C=E(this.chart.scales[H].getPixelForValue(G))}K=C-M,Q=K-v,oe=t.left,re=t.right}const Ke=me(r.ticks.maxTicksLimit,b),de=Math.max(1,Math.ceil(b/Ke));for(V=0;V<b;V+=de){const H=this.getContext(V),G=o.setContext(H),te=h.setContext(H),ye=G.lineWidth,A=G.color,q=te.dash||[],W=te.dashOffset,Z=G.tickWidth,I=G.tickColor,he=G.tickBorderDash||[],ne=G.tickBorderDashOffset;U=r2(this,V,m),U!==void 0&&(B=Ts(i,U,ye),g?K=Q=oe=re=B:X=$=ie=ke=B,j.push({tx1:K,ty1:X,tx2:Q,ty2:$,x1:oe,y1:ie,x2:re,y2:ke,width:ye,color:A,borderDash:q,borderDashOffset:W,tickWidth:Z,tickColor:I,tickBorderDash:he,tickBorderDashOffset:ne}))}return this._ticksLength=b,this._borderValue=C,j}_computeLabelItems(t){const a=this.axis,i=this.options,{position:r,ticks:o}=i,d=this.isHorizontal(),h=this.ticks,{align:m,crossAlign:g,padding:x,mirror:b}=o,v=zi(i.grid),j=v+x,S=b?-x:j,N=-Os(this.labelRotation),M=[];let E,C,V,U,B,K,X,Q,$,oe,ie,re,ke="middle";if(r==="top")K=this.bottom-S,X=this._getXAxisLabelAlignment();else if(r==="bottom")K=this.top+S,X=this._getXAxisLabelAlignment();else if(r==="left"){const de=this._getYAxisLabelAlignment(v);X=de.textAlign,B=de.x}else if(r==="right"){const de=this._getYAxisLabelAlignment(v);X=de.textAlign,B=de.x}else if(a==="x"){if(r==="center")K=(t.top+t.bottom)/2+j;else if(xe(r)){const de=Object.keys(r)[0],H=r[de];K=this.chart.scales[de].getPixelForValue(H)+j}X=this._getXAxisLabelAlignment()}else if(a==="y"){if(r==="center")B=(t.left+t.right)/2-j;else if(xe(r)){const de=Object.keys(r)[0],H=r[de];B=this.chart.scales[de].getPixelForValue(H)}X=this._getYAxisLabelAlignment(v).textAlign}a==="y"&&(m==="start"?ke="top":m==="end"&&(ke="bottom"));const Ke=this._getLabelSizes();for(E=0,C=h.length;E<C;++E){V=h[E],U=V.label;const de=o.setContext(this.getContext(E));Q=this.getPixelForTick(E)+o.labelOffset,$=this._resolveTickFontOptions(E),oe=$.lineHeight,ie=qe(U)?U.length:1;const H=ie/2,G=de.color,te=de.textStrokeColor,ye=de.textStrokeWidth;let A=X;d?(B=Q,X==="inner"&&(E===C-1?A=this.options.reverse?"left":"right":E===0?A=this.options.reverse?"right":"left":A="center"),r==="top"?g==="near"||N!==0?re=-ie*oe+oe/2:g==="center"?re=-Ke.highest.height/2-H*oe+oe:re=-Ke.highest.height+oe/2:g==="near"||N!==0?re=oe/2:g==="center"?re=Ke.highest.height/2-H*oe:re=Ke.highest.height-ie*oe,b&&(re*=-1),N!==0&&!de.showLabelBackdrop&&(B+=oe/2*Math.sin(N))):(K=Q,re=(1-ie)*oe/2);let q;if(de.showLabelBackdrop){const W=Vt(de.backdropPadding),Z=Ke.heights[E],I=Ke.widths[E];let he=re-W.top,ne=0-W.left;switch(ke){case"middle":he-=Z/2;break;case"bottom":he-=Z;break}switch(X){case"center":ne-=I/2;break;case"right":ne-=I;break;case"inner":E===C-1?ne-=I:E>0&&(ne-=I/2);break}q={left:ne,top:he,width:I+W.width,height:Z+W.height,color:de.backdropColor}}M.push({label:U,font:$,textOffset:re,options:{rotation:N,color:G,strokeColor:te,strokeWidth:ye,textAlign:A,textBaseline:ke,translation:[B,K],backdrop:q}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:a}=this.options;if(-Os(this.labelRotation))return t==="top"?"left":"right";let r="center";return a.align==="start"?r="left":a.align==="end"?r="right":a.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:a,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,d=this._getLabelSizes(),h=t+o,m=d.widest.width;let g,x;return a==="left"?r?(x=this.right+o,i==="near"?g="left":i==="center"?(g="center",x+=m/2):(g="right",x+=m)):(x=this.right-h,i==="near"?g="right":i==="center"?(g="center",x-=m/2):(g="left",x=this.left)):a==="right"?r?(x=this.left+o,i==="near"?g="right":i==="center"?(g="center",x-=m/2):(g="left",x-=m)):(x=this.left+h,i==="near"?g="left":i==="center"?(g="center",x+=m/2):(g="right",x=this.right)):g="right",{textAlign:g,x}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:a},left:i,top:r,width:o,height:d}=this;a&&(t.save(),t.fillStyle=a,t.fillRect(i,r,o,d),t.restore())}getLineWidthForValue(t){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?a.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const a=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,d;const h=(m,g,x)=>{!x.width||!x.color||(i.save(),i.lineWidth=x.width,i.strokeStyle=x.color,i.setLineDash(x.borderDash||[]),i.lineDashOffset=x.borderDashOffset,i.beginPath(),i.moveTo(m.x,m.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(a.display)for(o=0,d=r.length;o<d;++o){const m=r[o];a.drawOnChartArea&&h({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),a.drawTicks&&h({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:a,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),d=i.display?o.width:0;if(!d)return;const h=r.setContext(this.getContext(0)).lineWidth,m=this._borderValue;let g,x,b,v;this.isHorizontal()?(g=Ts(t,this.left,d)-d/2,x=Ts(t,this.right,h)+h/2,b=v=m):(b=Ts(t,this.top,d)-d/2,v=Ts(t,this.bottom,h)+h/2,g=x=m),a.save(),a.lineWidth=o.width,a.strokeStyle=o.color,a.beginPath(),a.moveTo(g,b),a.lineTo(x,v),a.stroke(),a.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Qr(i,r);const o=this.getLabelItems(t);for(const d of o){const h=d.options,m=d.font,g=d.label,x=d.textOffset;Zi(i,g,0,x,m,h)}r&&Kr(i)}drawTitle(){const{ctx:t,options:{position:a,title:i,reverse:r}}=this;if(!i.display)return;const o=rt(i.font),d=Vt(i.padding),h=i.align;let m=o.lineHeight/2;a==="bottom"||a==="center"||xe(a)?(m+=d.bottom,qe(i.text)&&(m+=o.lineHeight*(i.text.length-1))):m+=d.top;const{titleX:g,titleY:x,maxWidth:b,rotation:v}=h2(this,m,a,h);Zi(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:v,textAlign:d2(h,a,r),textBaseline:"middle",translation:[g,x]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,a=t.ticks&&t.ticks.z||0,i=me(t.grid&&t.grid.z,-1),r=me(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Aa.prototype.draw?[{z:a,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:a,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const a=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,d;for(o=0,d=a.length;o<d;++o){const h=a[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const a=this.options.ticks.setContext(this.getContext(t));return rt(a.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Er{constructor(t,a,i){this.type=t,this.scope=a,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const a=Object.getPrototypeOf(t);let i;g2(a)&&(i=this.register(a));const r=this.items,o=t.id,d=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,f2(t,d,i),this.override&&Fe.override(t.id,t.overrides)),d}get(t){return this.items[t]}unregister(t){const a=this.items,i=t.id,r=this.scope;i in a&&delete a[i],r&&i in Fe[r]&&(delete Fe[r][i],this.override&&delete ws[i])}}function f2(s,t,a){const i=Gi(Object.create(null),[a?Fe.get(a):{},Fe.get(t),s.defaults]);Fe.set(t,i),s.defaultRoutes&&m2(t,s.defaultRoutes),s.descriptors&&Fe.describe(t,s.descriptors)}function m2(s,t){Object.keys(t).forEach(a=>{const i=a.split("."),r=i.pop(),o=[s].concat(i).join("."),d=t[a].split("."),h=d.pop(),m=d.join(".");Fe.route(o,r,m,h)})}function g2(s){return"id"in s&&"defaults"in s}class p2{constructor(){this.controllers=new Er(Wr,"datasets",!0),this.elements=new Er(ls,"elements"),this.plugins=new Er(Object,"plugins"),this.scales=new Er(Aa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,a,i){[...a].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Me(r,d=>{const h=i||this._getRegistryForType(d);this._exec(t,h,d)})})}_exec(t,a,i){const r=rd(t);Re(i["before"+r],[],i),a[t](i),Re(i["after"+r],[],i)}_getRegistryForType(t){for(let a=0;a<this._typedRegistries.length;a++){const i=this._typedRegistries[a];if(i.isForType(t))return i}return this.plugins}_get(t,a,i){const r=a.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var en=new p2;class x2{constructor(){this._init=[]}notify(t,a,i,r){a==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),d=this._notify(o,t,a,i);return a==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),d}_notify(t,a,i,r){r=r||{};for(const o of t){const d=o.plugin,h=d[i],m=[a,r,o.options];if(Re(h,m,d)===!1&&r.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),a}_createDescriptors(t,a){const i=t&&t.config,r=me(i.options&&i.options.plugins,{}),o=b2(i);return r===!1&&!a?[]:v2(t,o,r,a)}_notifyStateChanges(t){const a=this._oldCache||[],i=this._cache,r=(o,d)=>o.filter(h=>!d.some(m=>h.plugin.id===m.plugin.id));this._notify(r(a,i),t,"stop"),this._notify(r(i,a),t,"start")}}function b2(s){const t={},a=[],i=Object.keys(en.plugins.items);for(let o=0;o<i.length;o++)a.push(en.getPlugin(i[o]));const r=s.plugins||[];for(let o=0;o<r.length;o++){const d=r[o];a.indexOf(d)===-1&&(a.push(d),t[d.id]=!0)}return{plugins:a,localIds:t}}function y2(s,t){return!t&&s===!1?null:s===!0?{}:s}function v2(s,{plugins:t,localIds:a},i,r){const o=[],d=s.getContext();for(const h of t){const m=h.id,g=y2(i[m],r);g!==null&&o.push({plugin:h,options:j2(s.config,{plugin:h,local:a[m]},g,d)})}return o}function j2(s,{plugin:t,local:a},i,r){const o=s.pluginScopeKeys(t),d=s.getOptionScopes(i,o);return a&&t.defaults&&d.push(t.defaults),s.createResolver(d,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wu(s,t){const a=Fe.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function _2(s,t){let a=s;return s==="_index_"?a=t:s==="_value_"&&(a=t==="x"?"y":"x"),a}function N2(s,t){return s===t?"_index_":"_value_"}function gp(s){if(s==="x"||s==="y"||s==="r")return s}function S2(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function $u(s,...t){if(gp(s))return s;for(const a of t){const i=a.axis||S2(a.position)||s.length>1&&gp(s[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function pp(s,t,a){if(a[t+"AxisID"]===s)return{axis:t}}function M2(s,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(i=>i.xAxisID===s||i.yAxisID===s);if(a.length)return pp(s,"x",a[0])||pp(s,"y",a[0])}return{}}function T2(s,t){const a=ws[s.type]||{scales:{}},i=t.scales||{},r=Wu(s.type,t),o=Object.create(null);return Object.keys(i).forEach(d=>{const h=i[d];if(!xe(h))return console.error(`Invalid scale configuration for scale: ${d}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const m=$u(d,h,M2(d,s),Fe.scales[h.type]),g=N2(m,r),x=a.scales||{};o[d]=Fi(Object.create(null),[{axis:m},h,x[m],x[g]])}),s.data.datasets.forEach(d=>{const h=d.type||s.type,m=d.indexAxis||Wu(h,t),x=(ws[h]||{}).scales||{};Object.keys(x).forEach(b=>{const v=_2(b,m),j=d[v+"AxisID"]||v;o[j]=o[j]||Object.create(null),Fi(o[j],[{axis:v},i[j],x[b]])})}),Object.keys(o).forEach(d=>{const h=o[d];Fi(h,[Fe.scales[h.type],Fe.scale])}),o}function Kx(s){const t=s.options||(s.options={});t.plugins=me(t.plugins,{}),t.scales=T2(s,t)}function Zx(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function E2(s){return s=s||{},s.data=Zx(s.data),Kx(s),s}const xp=new Map,Wx=new Set;function Ar(s,t){let a=xp.get(s);return a||(a=t(),xp.set(s,a),Wx.add(a)),a}const Li=(s,t,a)=>{const i=Sa(t,a);i!==void 0&&s.add(i)};class A2{constructor(t){this._config=E2(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Kx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ar(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,a){return Ar(`${t}.transition.${a}`,()=>[[`datasets.${t}.transitions.${a}`,`transitions.${a}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,a){return Ar(`${t}-${a}`,()=>[[`datasets.${t}.elements.${a}`,`datasets.${t}`,`elements.${a}`,""]])}pluginScopeKeys(t){const a=t.id,i=this.type;return Ar(`${i}-plugin-${a}`,()=>[[`plugins.${a}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,a){const i=this._scopeCache;let r=i.get(t);return(!r||a)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,a,i){const{options:r,type:o}=this,d=this._cachedScopes(t,i),h=d.get(a);if(h)return h;const m=new Set;a.forEach(x=>{t&&(m.add(t),x.forEach(b=>Li(m,t,b))),x.forEach(b=>Li(m,r,b)),x.forEach(b=>Li(m,ws[o]||{},b)),x.forEach(b=>Li(m,Fe,b)),x.forEach(b=>Li(m,Ku,b))});const g=Array.from(m);return g.length===0&&g.push(Object.create(null)),Wx.has(a)&&d.set(a,g),g}chartOptionScopes(){const{options:t,type:a}=this;return[t,ws[a]||{},Fe.datasets[a]||{},{type:a},Fe,Ku]}resolveNamedOptions(t,a,i,r=[""]){const o={$shared:!0},{resolver:d,subPrefixes:h}=bp(this._resolverCache,t,r);let m=d;if(O2(d,a)){o.$shared=!1,i=as(i)?i():i;const g=this.createResolver(t,i,h);m=Ta(d,i,g)}for(const g of a)o[g]=m[g];return o}createResolver(t,a,i=[""],r){const{resolver:o}=bp(this._resolverCache,t,i);return xe(a)?Ta(o,a,void 0,r):o}}function bp(s,t,a){let i=s.get(t);i||(i=new Map,s.set(t,i));const r=a.join();let o=i.get(r);return o||(o={resolver:dd(t,a),subPrefixes:a.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const D2=s=>xe(s)&&Object.getOwnPropertyNames(s).some(t=>as(s[t]));function O2(s,t){const{isScriptable:a,isIndexable:i}=Dx(s);for(const r of t){const o=a(r),d=i(r),h=(d||o)&&s[r];if(o&&(as(h)||D2(h))||d&&qe(h))return!0}return!1}var R2="4.5.0";const C2=["top","bottom","left","right","chartArea"];function yp(s,t){return s==="top"||s==="bottom"||C2.indexOf(s)===-1&&t==="x"}function vp(s,t){return function(a,i){return a[s]===i[s]?a[t]-i[t]:a[s]-i[s]}}function jp(s){const t=s.chart,a=t.options.animation;t.notifyPlugins("afterRender"),Re(a&&a.onComplete,[s],t)}function w2(s){const t=s.chart,a=t.options.animation;Re(a&&a.onProgress,[s],t)}function $x(s){return md()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const kr={},_p=s=>{const t=$x(s);return Object.values(kr).filter(a=>a.canvas===t).pop()};function z2(s,t,a){const i=Object.keys(s);for(const r of i){const o=+r;if(o>=t){const d=s[r];delete s[r],(a>0||o>t)&&(s[o+a]=d)}}}function L2(s,t,a,i){return!a||s.type==="mouseout"?null:i?t:s}let Jr=class{static defaults=Fe;static instances=kr;static overrides=ws;static registry=en;static version=R2;static getChart=_p;static register(...t){en.add(...t),Np()}static unregister(...t){en.remove(...t),Np()}constructor(t,a){const i=this.config=new A2(a),r=$x(t),o=_p(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const d=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Ij(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,d.aspectRatio),m=h&&h.canvas,g=m&&m.height,x=m&&m.width;if(this.id=Cv(),this.ctx=h,this.canvas=m,this.width=x,this.height=g,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new x2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Jv(b=>this.update(b),d.resizeDelay||0),this._dataChanges=[],kr[this.id]=this,!h||!m){console.error("Failed to create chart: can't acquire context from the given item");return}Nn.listen(this,"complete",jp),Nn.listen(this,"progress",w2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:a},width:i,height:r,_aspectRatio:o}=this;return _e(t)?a&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return en}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Xg(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Pg(this.canvas,this.ctx),this}stop(){return Nn.stop(this),this}resize(t,a){Nn.running(this)?this._resizeBeforeDraw={width:t,height:a}:this._resize(t,a)}_resize(t,a){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(r,t,a,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,Xg(this,h,!0)&&(this.notifyPlugins("resize",{size:d}),Re(i.onResize,[this,d],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};Me(a,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,a=t.scales,i=this.scales,r=Object.keys(i).reduce((d,h)=>(d[h]=!1,d),{});let o=[];a&&(o=o.concat(Object.keys(a).map(d=>{const h=a[d],m=$u(d,h),g=m==="r",x=m==="x";return{options:h,dposition:g?"chartArea":x?"bottom":"left",dtype:g?"radialLinear":x?"category":"linear"}}))),Me(o,d=>{const h=d.options,m=h.id,g=$u(m,h),x=me(h.type,d.dtype);(h.position===void 0||yp(h.position,g)!==yp(d.dposition))&&(h.position=d.dposition),r[m]=!0;let b=null;if(m in i&&i[m].type===x)b=i[m];else{const v=en.getScale(x);b=new v({id:m,type:x,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),Me(r,(d,h)=>{d||delete i[h]}),Me(i,d=>{Ut.configure(this,d,d.options),Ut.addBox(this,d)})}_updateMetasets(){const t=this._metasets,a=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>a){for(let r=a;r<i;++r)this._destroyDatasetMeta(r);t.splice(a,i-a)}this._sortedMetasets=t.slice(0).sort(vp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:a}}=this;t.length>a.length&&delete this._stacks,t.forEach((i,r)=>{a.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],a=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=a.length;i<r;i++){const o=a[i];let d=this.getDatasetMeta(i);const h=o.type||this.config.type;if(d.type&&d.type!==h&&(this._destroyDatasetMeta(i),d=this.getDatasetMeta(i)),d.type=h,d.indexAxis=o.indexAxis||Wu(h,this.options),d.order=o.order||0,d.index=i,d.label=""+o.label,d.visible=this.isDatasetVisible(i),d.controller)d.controller.updateIndex(i),d.controller.linkScales();else{const m=en.getController(h),{datasetElementType:g,dataElementType:x}=Fe.datasets[h];Object.assign(m,{dataElementType:en.getElement(x),datasetElementType:g&&en.getElement(g)}),d.controller=new m(this,i),t.push(d.controller)}}return this._updateMetasets(),t}_resetElements(){Me(this.data.datasets,(t,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const a=this.config;a.update();const i=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let g=0,x=this.data.datasets.length;g<x;g++){const{controller:b}=this.getDatasetMeta(g),v=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(v),d=Math.max(+b.getMaxOverflow(),d)}d=this._minPadding=i.layout.autoPadding?d:0,this._updateLayout(d),r||Me(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(vp("z","_idx"));const{_active:h,_lastEvent:m}=this;m?this._eventHandler(m,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Me(this.scales,t=>{Ut.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,a=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Cg(a,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,a=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of a){const d=i==="_removeElements"?-o:o;z2(t,r,d)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const a=this.data.datasets.length,i=o=>new Set(t.filter(d=>d[0]===o).map((d,h)=>h+","+d.splice(1).join(","))),r=i(0);for(let o=1;o<a;o++)if(!Cg(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ut.update(this,this.width,this.height,t);const a=this.chartArea,i=a.width<=0||a.height<=0;this._layers=[],Me(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let a=0,i=this.data.datasets.length;a<i;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,i=this.data.datasets.length;a<i;++a)this._updateDataset(a,as(t)?t({datasetIndex:a}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,a){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(a),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Nn.has(this)?this.attached&&!Nn.running(this)&&Nn.start(this):(this.draw(),jp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(t=0;t<a.length&&a[t].z<=0;++t)a[t].draw(this.chartArea);for(this._drawDatasets();t<a.length;++t)a[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const a=this._sortedMetasets,i=[];let r,o;for(r=0,o=a.length;r<o;++r){const d=a[r];(!t||d.visible)&&i.push(d)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a)this._drawDataset(t[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const a=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=Ux(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Qr(a,r),t.controller.draw(),r&&Kr(a),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Ki(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,a,i,r){const o=Cj.modes[a];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const a=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===a).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:t,_dataset:a,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=zs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const a=this.data.datasets[t];if(!a)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!a.hidden}setDatasetVisibility(t,a){const i=this.getDatasetMeta(t);i.hidden=!a}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,a,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),d=o.controller._resolveAnimations(void 0,r);Qi(a)?(o.data[a].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),d.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,a){this._updateVisibility(t,a,!1)}show(t,a){this._updateVisibility(t,a,!0)}_destroyDatasetMeta(t){const a=this._metasets[t];a&&a.controller&&a.controller._destroy(),delete this._metasets[t]}_stop(){let t,a;for(this.stop(),Nn.remove(this),t=0,a=this.data.datasets.length;t<a;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:a}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Pg(t,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete kr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,a=this.platform,i=(o,d)=>{a.addEventListener(this,o,d),t[o]=d},r=(o,d,h)=>{o.offsetX=d,o.offsetY=h,this._eventHandler(o)};Me(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,a=this.platform,i=(m,g)=>{a.addEventListener(this,m,g),t[m]=g},r=(m,g)=>{t[m]&&(a.removeEventListener(this,m,g),delete t[m])},o=(m,g)=>{this.canvas&&this.resize(m,g)};let d;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",d)};d=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},a.isAttached(this.canvas)?h():d()}unbindEvents(){Me(this._listeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._listeners={},Me(this._responsiveListeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,a,i){const r=i?"set":"remove";let o,d,h,m;for(a==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,m=t.length;h<m;++h){d=t[h];const g=d&&this.getDatasetMeta(d.datasetIndex).controller;g&&g[r+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const a=this._active||[],i=t.map(({datasetIndex:o,index:d})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[d],index:d}});!Vr(i,a)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,a))}notifyPlugins(t,a,i){return this._plugins.notify(this,t,a,i)}isPluginEnabled(t){return this._plugins._cache.filter(a=>a.plugin.id===t).length===1}_updateHoverStyles(t,a,i){const r=this.options.hover,o=(m,g)=>m.filter(x=>!g.some(b=>x.datasetIndex===b.datasetIndex&&x.index===b.index)),d=o(a,t),h=i?t:o(t,a);d.length&&this.updateHoverStyle(d,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,a){const i={event:t,replay:a,cancelable:!0,inChartArea:this.isPointInArea(t)},r=d=>(d.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,a,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,a,i){const{_active:r=[],options:o}=this,d=a,h=this._getActiveElements(t,r,i,d),m=Hv(t),g=L2(t,this._lastEvent,i,m);i&&(this._lastEvent=null,Re(o.onHover,[t,h,this],this),m&&Re(o.onClick,[t,h,this],this));const x=!Vr(h,r);return(x||a)&&(this._active=h,this._updateHoverStyles(h,r,a)),this._lastEvent=g,x}_getActiveElements(t,a,i,r){if(t.type==="mouseout")return[];if(!i)return a;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Np(){return Me(Jr.instances,s=>s._plugins.invalidate())}function Jx(s,t,a=t){s.lineCap=me(a.borderCapStyle,t.borderCapStyle),s.setLineDash(me(a.borderDash,t.borderDash)),s.lineDashOffset=me(a.borderDashOffset,t.borderDashOffset),s.lineJoin=me(a.borderJoinStyle,t.borderJoinStyle),s.lineWidth=me(a.borderWidth,t.borderWidth),s.strokeStyle=me(a.borderColor,t.borderColor)}function k2(s,t,a){s.lineTo(a.x,a.y)}function B2(s){return s.stepped?u1:s.tension||s.cubicInterpolationMode==="monotone"?d1:k2}function Ix(s,t,a={}){const i=s.length,{start:r=0,end:o=i-1}=a,{start:d,end:h}=t,m=Math.max(r,d),g=Math.min(o,h),x=r<d&&o<d||r>h&&o>h;return{count:i,start:m,loop:t.loop,ilen:g<m&&!x?i+g-m:g-m}}function H2(s,t,a,i){const{points:r,options:o}=t,{count:d,start:h,loop:m,ilen:g}=Ix(r,a,i),x=B2(o);let{move:b=!0,reverse:v}=i||{},j,S,N;for(j=0;j<=g;++j)S=r[(h+(v?g-j:j))%d],!S.skip&&(b?(s.moveTo(S.x,S.y),b=!1):x(s,N,S,v,o.stepped),N=S);return m&&(S=r[(h+(v?g:0))%d],x(s,N,S,v,o.stepped)),!!m}function U2(s,t,a,i){const r=t.points,{count:o,start:d,ilen:h}=Ix(r,a,i),{move:m=!0,reverse:g}=i||{};let x=0,b=0,v,j,S,N,M,E;const C=U=>(d+(g?h-U:U))%o,V=()=>{N!==M&&(s.lineTo(x,M),s.lineTo(x,N),s.lineTo(x,E))};for(m&&(j=r[C(0)],s.moveTo(j.x,j.y)),v=0;v<=h;++v){if(j=r[C(v)],j.skip)continue;const U=j.x,B=j.y,K=U|0;K===S?(B<N?N=B:B>M&&(M=B),x=(b*x+U)/++b):(V(),s.lineTo(U,B),S=K,b=0,N=M=B),E=B}V()}function Ju(s){const t=s.options,a=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!a?U2:H2}function V2(s){return s.stepped?Y1:s.tension||s.cubicInterpolationMode==="monotone"?q1:Ds}function F2(s,t,a,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,a,i)&&r.closePath()),Jx(s,t.options),s.stroke(r)}function P2(s,t,a,i){const{segments:r,options:o}=t,d=Ju(t);for(const h of r)Jx(s,o,h.style),s.beginPath(),d(s,t,h,{start:a,end:a+i-1})&&s.closePath(),s.stroke()}const Y2=typeof Path2D=="function";function q2(s,t,a,i){Y2&&!t.options.segment?F2(s,t,a,i):P2(s,t,a,i)}class Ir extends ls{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,a){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;L1(this._points,i,t,r,a),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=W1(this,this.options.segment))}first(){const t=this.segments,a=this.points;return t.length&&a[t[0].start]}last(){const t=this.segments,a=this.points,i=t.length;return i&&a[t[i-1].end]}interpolate(t,a){const i=this.options,r=t[a],o=this.points,d=Hx(this,{property:a,start:r,end:r});if(!d.length)return;const h=[],m=V2(i);let g,x;for(g=0,x=d.length;g<x;++g){const{start:b,end:v}=d[g],j=o[b],S=o[v];if(j===S){h.push(j);continue}const N=Math.abs((r-j[a])/(S[a]-j[a])),M=m(j,S,N,i.stepped);M[a]=t[a],h.push(M)}return h.length===1?h[0]:h}pathSegment(t,a,i){return Ju(this)(t,this,a,i)}path(t,a,i){const r=this.segments,o=Ju(this);let d=this._loop;a=a||0,i=i||this.points.length-a;for(const h of r)d&=o(t,this,h,{start:a,end:a+i-1});return!!d}draw(t,a,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),q2(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Sp(s,t,a,i){const r=s.options,{[a]:o}=s.getProps([a],i);return Math.abs(t-o)<r.radius+r.hitRadius}class X2 extends ls{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,i){const r=this.options,{x:o,y:d}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(a-d,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,a){return Sp(this,t,"x",a)}inYRange(t,a){return Sp(this,t,"y",a)}getCenterPoint(t){const{x:a,y:i}=this.getProps(["x","y"],t);return{x:a,y:i}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const i=a&&t.borderWidth||0;return(a+i)*2}draw(t,a){const i=this.options;this.skip||i.radius<.1||!Ki(this,a,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Zu(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function eb(s,t){const{x:a,y:i,base:r,width:o,height:d}=s.getProps(["x","y","base","width","height"],t);let h,m,g,x,b;return s.horizontal?(b=d/2,h=Math.min(a,r),m=Math.max(a,r),g=i-b,x=i+b):(b=o/2,h=a-b,m=a+b,g=Math.min(i,r),x=Math.max(i,r)),{left:h,top:g,right:m,bottom:x}}function ns(s,t,a,i){return s?0:Et(t,a,i)}function G2(s,t,a){const i=s.options.borderWidth,r=s.borderSkipped,o=Ax(i);return{t:ns(r.top,o.top,0,a),r:ns(r.right,o.right,0,t),b:ns(r.bottom,o.bottom,0,a),l:ns(r.left,o.left,0,t)}}function Q2(s,t,a){const{enableBorderRadius:i}=s.getProps(["enableBorderRadius"]),r=s.options.borderRadius,o=_a(r),d=Math.min(t,a),h=s.borderSkipped,m=i||xe(r);return{topLeft:ns(!m||h.top||h.left,o.topLeft,0,d),topRight:ns(!m||h.top||h.right,o.topRight,0,d),bottomLeft:ns(!m||h.bottom||h.left,o.bottomLeft,0,d),bottomRight:ns(!m||h.bottom||h.right,o.bottomRight,0,d)}}function K2(s){const t=eb(s),a=t.right-t.left,i=t.bottom-t.top,r=G2(s,a/2,i/2),o=Q2(s,a/2,i/2);return{outer:{x:t.left,y:t.top,w:a,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:a-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function ku(s,t,a,i){const r=t===null,o=a===null,h=s&&!(r&&o)&&eb(s,i);return h&&(r||ts(t,h.left,h.right))&&(o||ts(a,h.top,h.bottom))}function Z2(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function W2(s,t){s.rect(t.x,t.y,t.w,t.h)}function Bu(s,t,a={}){const i=s.x!==a.x?-t:0,r=s.y!==a.y?-t:0,o=(s.x+s.w!==a.x+a.w?t:0)-i,d=(s.y+s.h!==a.y+a.h?t:0)-r;return{x:s.x+i,y:s.y+r,w:s.w+o,h:s.h+d,radius:s.radius}}class $2 extends ls{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:a,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:d}=K2(this),h=Z2(d.radius)?Yr:W2;t.save(),(d.w!==o.w||d.h!==o.h)&&(t.beginPath(),h(t,Bu(d,a,o)),t.clip(),h(t,Bu(o,-a,d)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Bu(o,a)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,a,i){return ku(this,t,a,i)}inXRange(t,a){return ku(this,t,null,a)}inYRange(t,a){return ku(this,null,t,a)}getCenterPoint(t){const{x:a,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(a+r)/2:a,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function J2(s,t,a){const i=s.segments,r=s.points,o=t.points,d=[];for(const h of i){let{start:m,end:g}=h;g=eo(m,g,r);const x=Iu(a,r[m],r[g],h.loop);if(!t.segments){d.push({source:h,target:x,start:r[m],end:r[g]});continue}const b=Hx(t,x);for(const v of b){const j=Iu(a,o[v.start],o[v.end],v.loop),S=Bx(h,r,j);for(const N of S)d.push({source:N,target:v,start:{[a]:Mp(x,j,"start",Math.max)},end:{[a]:Mp(x,j,"end",Math.min)}})}}return d}function Iu(s,t,a,i){if(i)return;let r=t[s],o=a[s];return s==="angle"&&(r=tn(r),o=tn(o)),{property:s,start:r,end:o}}function I2(s,t){const{x:a=null,y:i=null}=s||{},r=t.points,o=[];return t.segments.forEach(({start:d,end:h})=>{h=eo(d,h,r);const m=r[d],g=r[h];i!==null?(o.push({x:m.x,y:i}),o.push({x:g.x,y:i})):a!==null&&(o.push({x:a,y:m.y}),o.push({x:a,y:g.y}))}),o}function eo(s,t,a){for(;t>s;t--){const i=a[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Mp(s,t,a,i){return s&&t?i(s[a],t[a]):s?s[a]:t?t[a]:0}function tb(s,t){let a=[],i=!1;return qe(s)?(i=!0,a=s):a=I2(s,t),a.length?new Ir({points:a,options:{tension:0},_loop:i,_fullLoop:i}):null}function Tp(s){return s&&s.fill!==!1}function e_(s,t,a){let r=s[t].fill;const o=[t];let d;if(!a)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!ot(r))return r;if(d=s[r],!d)return!1;if(d.visible)return r;o.push(r),r=d.fill}return!1}function t_(s,t,a){const i=i_(s);if(xe(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ot(r)&&Math.floor(r)===r?n_(i[0],t,r,a):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function n_(s,t,a,i){return(s==="-"||s==="+")&&(a=t+a),a===t||a<0||a>=i?!1:a}function s_(s,t){let a=null;return s==="start"?a=t.bottom:s==="end"?a=t.top:xe(s)?a=t.getPixelForValue(s.value):t.getBasePixel&&(a=t.getBasePixel()),a}function a_(s,t,a){let i;return s==="start"?i=a:s==="end"?i=t.options.reverse?t.min:t.max:xe(s)?i=s.value:i=t.getBaseValue(),i}function i_(s){const t=s.options,a=t.fill;let i=me(a&&a.target,a);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function l_(s){const{scale:t,index:a,line:i}=s,r=[],o=i.segments,d=i.points,h=r_(t,a);h.push(tb({x:null,y:t.bottom},i));for(let m=0;m<o.length;m++){const g=o[m];for(let x=g.start;x<=g.end;x++)o_(r,d[x],h)}return new Ir({points:r,options:{}})}function r_(s,t){const a=[],i=s.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||a.unshift(o.dataset)}return a}function o_(s,t,a){const i=[];for(let r=0;r<a.length;r++){const o=a[r],{first:d,last:h,point:m}=c_(o,t,"x");if(!(!m||d&&h)){if(d)i.unshift(m);else if(s.push(m),!h)break}}s.push(...i)}function c_(s,t,a){const i=s.interpolate(t,a);if(!i)return{};const r=i[a],o=s.segments,d=s.points;let h=!1,m=!1;for(let g=0;g<o.length;g++){const x=o[g],b=d[x.start][a],v=d[x.end][a];if(ts(r,b,v)){h=r===b,m=r===v;break}}return{first:h,last:m,point:i}}class nb{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,a,i){const{x:r,y:o,radius:d}=this;return a=a||{start:0,end:Xt},t.arc(r,o,d,a.end,a.start,!0),!i.bounds}interpolate(t){const{x:a,y:i,radius:r}=this,o=t.angle;return{x:a+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function u_(s){const{chart:t,fill:a,line:i}=s;if(ot(a))return d_(t,a);if(a==="stack")return l_(s);if(a==="shape")return!0;const r=h_(s);return r instanceof nb?r:tb(r,i)}function d_(s,t){const a=s.getDatasetMeta(t);return a&&s.isDatasetVisible(t)?a.dataset:null}function h_(s){return(s.scale||{}).getPointPositionForValue?m_(s):f_(s)}function f_(s){const{scale:t={},fill:a}=s,i=s_(a,t);if(ot(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function m_(s){const{scale:t,fill:a}=s,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,d=a_(a,t,o),h=[];if(i.grid.circular){const m=t.getPointPositionForValue(0,o);return new nb({x:m.x,y:m.y,radius:t.getDistanceFromCenterForValue(d)})}for(let m=0;m<r;++m)h.push(t.getPointPositionForValue(m,d));return h}function Hu(s,t,a){const i=u_(t),{chart:r,index:o,line:d,scale:h,axis:m}=t,g=d.options,x=g.fill,b=g.backgroundColor,{above:v=b,below:j=b}=x||{},S=r.getDatasetMeta(o),N=Ux(r,S);i&&d.points.length&&(Qr(s,a),g_(s,{line:d,target:i,above:v,below:j,area:a,scale:h,axis:m,clip:N}),Kr(s))}function g_(s,t){const{line:a,target:i,above:r,below:o,area:d,scale:h,clip:m}=t,g=a._loop?"angle":t.axis;s.save();let x=o;o!==r&&(g==="x"?(Ep(s,i,d.top),Uu(s,{line:a,target:i,color:r,scale:h,property:g,clip:m}),s.restore(),s.save(),Ep(s,i,d.bottom)):g==="y"&&(Ap(s,i,d.left),Uu(s,{line:a,target:i,color:o,scale:h,property:g,clip:m}),s.restore(),s.save(),Ap(s,i,d.right),x=r)),Uu(s,{line:a,target:i,color:x,scale:h,property:g,clip:m}),s.restore()}function Ep(s,t,a){const{segments:i,points:r}=t;let o=!0,d=!1;s.beginPath();for(const h of i){const{start:m,end:g}=h,x=r[m],b=r[eo(m,g,r)];o?(s.moveTo(x.x,x.y),o=!1):(s.lineTo(x.x,a),s.lineTo(x.x,x.y)),d=!!t.pathSegment(s,h,{move:d}),d?s.closePath():s.lineTo(b.x,a)}s.lineTo(t.first().x,a),s.closePath(),s.clip()}function Ap(s,t,a){const{segments:i,points:r}=t;let o=!0,d=!1;s.beginPath();for(const h of i){const{start:m,end:g}=h,x=r[m],b=r[eo(m,g,r)];o?(s.moveTo(x.x,x.y),o=!1):(s.lineTo(a,x.y),s.lineTo(x.x,x.y)),d=!!t.pathSegment(s,h,{move:d}),d?s.closePath():s.lineTo(a,b.y)}s.lineTo(a,t.first().y),s.closePath(),s.clip()}function Uu(s,t){const{line:a,target:i,property:r,color:o,scale:d,clip:h}=t,m=J2(a,i,r);for(const{source:g,target:x,start:b,end:v}of m){const{style:{backgroundColor:j=o}={}}=g,S=i!==!0;s.save(),s.fillStyle=j,p_(s,d,h,S&&Iu(r,b,v)),s.beginPath();const N=!!a.pathSegment(s,g);let M;if(S){N?s.closePath():Dp(s,i,v,r);const E=!!i.pathSegment(s,x,{move:N,reverse:!0});M=N&&E,M||Dp(s,i,b,r)}s.closePath(),s.fill(M?"evenodd":"nonzero"),s.restore()}}function p_(s,t,a,i){const r=t.chart.chartArea,{property:o,start:d,end:h}=i||{};if(o==="x"||o==="y"){let m,g,x,b;o==="x"?(m=d,g=r.top,x=h,b=r.bottom):(m=r.left,g=d,x=r.right,b=h),s.beginPath(),a&&(m=Math.max(m,a.left),x=Math.min(x,a.right),g=Math.max(g,a.top),b=Math.min(b,a.bottom)),s.rect(m,g,x-m,b-g),s.clip()}}function Dp(s,t,a,i){const r=t.interpolate(a,i);r&&s.lineTo(r.x,r.y)}var x_={id:"filler",afterDatasetsUpdate(s,t,a){const i=(s.data.datasets||[]).length,r=[];let o,d,h,m;for(d=0;d<i;++d)o=s.getDatasetMeta(d),h=o.dataset,m=null,h&&h.options&&h instanceof Ir&&(m={visible:s.isDatasetVisible(d),index:d,fill:t_(h,d,i),chart:s,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=m,r.push(m);for(d=0;d<i;++d)m=r[d],!(!m||m.fill===!1)&&(m.fill=e_(r,d,a.propagate))},beforeDraw(s,t,a){const i=a.drawTime==="beforeDraw",r=s.getSortedVisibleDatasetMetas(),o=s.chartArea;for(let d=r.length-1;d>=0;--d){const h=r[d].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&Hu(s.ctx,h,o))}},beforeDatasetsDraw(s,t,a){if(a.drawTime!=="beforeDatasetsDraw")return;const i=s.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;Tp(o)&&Hu(s.ctx,o,s.chartArea)}},beforeDatasetDraw(s,t,a){const i=t.meta.$filler;!Tp(i)||a.drawTime!=="beforeDatasetDraw"||Hu(s.ctx,i,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Op=(s,t)=>{let{boxHeight:a=t,boxWidth:i=t}=s;return s.usePointStyle&&(a=Math.min(a,t),i=s.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:a,itemHeight:Math.max(t,a)}},b_=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class Rp extends ls{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a,i){this.maxWidth=t,this.maxHeight=a,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let a=Re(t.generateLabels,[this.chart],this)||[];t.filter&&(a=a.filter(i=>t.filter(i,this.chart.data))),t.sort&&(a=a.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:t,ctx:a}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=rt(i.font),o=r.size,d=this._computeTitleHeight(),{boxWidth:h,itemHeight:m}=Op(i,o);let g,x;a.font=r.string,this.isHorizontal()?(g=this.maxWidth,x=this._fitRows(d,o,h,m)+10):(x=this.maxHeight,g=this._fitCols(d,r,h,m)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(x,t.maxHeight||this.maxHeight)}_fitRows(t,a,i,r){const{ctx:o,maxWidth:d,options:{labels:{padding:h}}}=this,m=this.legendHitBoxes=[],g=this.lineWidths=[0],x=r+h;let b=t;o.textAlign="left",o.textBaseline="middle";let v=-1,j=-x;return this.legendItems.forEach((S,N)=>{const M=i+a/2+o.measureText(S.text).width;(N===0||g[g.length-1]+M+2*h>d)&&(b+=x,g[g.length-(N>0?0:1)]=0,j+=x,v++),m[N]={left:0,top:j,row:v,width:M,height:r},g[g.length-1]+=M+h}),b}_fitCols(t,a,i,r){const{ctx:o,maxHeight:d,options:{labels:{padding:h}}}=this,m=this.legendHitBoxes=[],g=this.columnSizes=[],x=d-t;let b=h,v=0,j=0,S=0,N=0;return this.legendItems.forEach((M,E)=>{const{itemWidth:C,itemHeight:V}=y_(i,a,o,M,r);E>0&&j+V+2*h>x&&(b+=v+h,g.push({width:v,height:j}),S+=v+h,N++,v=j=0),m[E]={left:S,top:j,col:N,width:C,height:V},v=Math.max(v,C),j+=V+h}),b+=v,g.push({width:v,height:j}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:i,labels:{padding:r},rtl:o}}=this,d=Na(o,this.left,this.width);if(this.isHorizontal()){let h=0,m=lt(i,this.left+r,this.right-this.lineWidths[h]);for(const g of a)h!==g.row&&(h=g.row,m=lt(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=d.leftForLtr(d.x(m),g.width),m+=g.width+r}else{let h=0,m=lt(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of a)g.col!==h&&(h=g.col,m=lt(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=m,g.left+=this.left+r,g.left=d.leftForLtr(d.x(g.left),g.width),m+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Qr(t,this),this._draw(),Kr(t)}}_draw(){const{options:t,columnSizes:a,lineWidths:i,ctx:r}=this,{align:o,labels:d}=t,h=Fe.color,m=Na(t.rtl,this.left,this.width),g=rt(d.font),{padding:x}=d,b=g.size,v=b/2;let j;this.drawTitle(),r.textAlign=m.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:S,boxHeight:N,itemHeight:M}=Op(d,b),E=function(K,X,Q){if(isNaN(S)||S<=0||isNaN(N)||N<0)return;r.save();const $=me(Q.lineWidth,1);if(r.fillStyle=me(Q.fillStyle,h),r.lineCap=me(Q.lineCap,"butt"),r.lineDashOffset=me(Q.lineDashOffset,0),r.lineJoin=me(Q.lineJoin,"miter"),r.lineWidth=$,r.strokeStyle=me(Q.strokeStyle,h),r.setLineDash(me(Q.lineDash,[])),d.usePointStyle){const oe={radius:N*Math.SQRT2/2,pointStyle:Q.pointStyle,rotation:Q.rotation,borderWidth:$},ie=m.xPlus(K,S/2),re=X+v;Tx(r,oe,ie,re,d.pointStyleWidth&&S)}else{const oe=X+Math.max((b-N)/2,0),ie=m.leftForLtr(K,S),re=_a(Q.borderRadius);r.beginPath(),Object.values(re).some(ke=>ke!==0)?Yr(r,{x:ie,y:oe,w:S,h:N,radius:re}):r.rect(ie,oe,S,N),r.fill(),$!==0&&r.stroke()}r.restore()},C=function(K,X,Q){Zi(r,Q.text,K,X+M/2,g,{strikethrough:Q.hidden,textAlign:m.textAlign(Q.textAlign)})},V=this.isHorizontal(),U=this._computeTitleHeight();V?j={x:lt(o,this.left+x,this.right-i[0]),y:this.top+x+U,line:0}:j={x:this.left+x,y:lt(o,this.top+U+x,this.bottom-a[0].height),line:0},zx(this.ctx,t.textDirection);const B=M+x;this.legendItems.forEach((K,X)=>{r.strokeStyle=K.fontColor,r.fillStyle=K.fontColor;const Q=r.measureText(K.text).width,$=m.textAlign(K.textAlign||(K.textAlign=d.textAlign)),oe=S+v+Q;let ie=j.x,re=j.y;m.setWidth(this.width),V?X>0&&ie+oe+x>this.right&&(re=j.y+=B,j.line++,ie=j.x=lt(o,this.left+x,this.right-i[j.line])):X>0&&re+B>this.bottom&&(ie=j.x=ie+a[j.line].width+x,j.line++,re=j.y=lt(o,this.top+U+x,this.bottom-a[j.line].height));const ke=m.x(ie);if(E(ke,re,K),ie=Iv($,ie+S+v,V?ie+oe:this.right,t.rtl),C(m.x(ie),re,K),V)j.x+=oe+x;else if(typeof K.text!="string"){const Ke=g.lineHeight;j.y+=sb(K,Ke)+x}else j.y+=B}),Lx(this.ctx,t.textDirection)}drawTitle(){const t=this.options,a=t.title,i=rt(a.font),r=Vt(a.padding);if(!a.display)return;const o=Na(t.rtl,this.left,this.width),d=this.ctx,h=a.position,m=i.size/2,g=r.top+m;let x,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),x=this.top+g,b=lt(t.align,b,this.right-v);else{const S=this.columnSizes.reduce((N,M)=>Math.max(N,M.height),0);x=g+lt(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const j=lt(h,b,b+v);d.textAlign=o.textAlign(cd(h)),d.textBaseline="middle",d.strokeStyle=a.color,d.fillStyle=a.color,d.font=i.string,Zi(d,a.text,j,x,i)}_computeTitleHeight(){const t=this.options.title,a=rt(t.font),i=Vt(t.padding);return t.display?a.lineHeight+i.height:0}_getLegendItemAt(t,a){let i,r,o;if(ts(t,this.left,this.right)&&ts(a,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],ts(t,r.left,r.left+r.width)&&ts(a,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const a=this.options;if(!__(t.type,a))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=b_(r,i);r&&!o&&Re(a.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Re(a.onHover,[t,i,this],this)}else i&&Re(a.onClick,[t,i,this],this)}}function y_(s,t,a,i,r){const o=v_(i,s,t,a),d=j_(r,i,t.lineHeight);return{itemWidth:o,itemHeight:d}}function v_(s,t,a,i){let r=s.text;return r&&typeof r!="string"&&(r=r.reduce((o,d)=>o.length>d.length?o:d)),t+a.size/2+i.measureText(r).width}function j_(s,t,a){let i=s;return typeof t.text!="string"&&(i=sb(t,a)),i}function sb(s,t){const a=s.text?s.text.length:0;return t*a}function __(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var N_={id:"legend",_element:Rp,start(s,t,a){const i=s.legend=new Rp({ctx:s.ctx,options:a,chart:s});Ut.configure(s,i,a),Ut.addBox(s,i)},stop(s){Ut.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,a){const i=s.legend;Ut.configure(s,i,a),i.options=a},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,a){const i=t.datasetIndex,r=a.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:a,pointStyle:i,textAlign:r,color:o,useBorderRadius:d,borderRadius:h}}=s.legend.options;return s._getSortedDatasetMetas().map(m=>{const g=m.controller.getStyle(a?0:void 0),x=Vt(g.borderWidth);return{text:t[m.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!m.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(x.width+x.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:d&&(h||g.borderRadius),datasetIndex:m.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class ab extends ls{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=a;const r=qe(i.text)?i.text.length:1;this._padding=Vt(i.padding);const o=r*rt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:a,left:i,bottom:r,right:o,options:d}=this,h=d.align;let m=0,g,x,b;return this.isHorizontal()?(x=lt(h,i,o),b=a+t,g=o-i):(d.position==="left"?(x=i+t,b=lt(h,r,a),m=Ie*-.5):(x=o-t,b=lt(h,a,r),m=Ie*.5),g=r-a),{titleX:x,titleY:b,maxWidth:g,rotation:m}}draw(){const t=this.ctx,a=this.options;if(!a.display)return;const i=rt(a.font),o=i.lineHeight/2+this._padding.top,{titleX:d,titleY:h,maxWidth:m,rotation:g}=this._drawArgs(o);Zi(t,a.text,0,0,i,{color:a.color,maxWidth:m,rotation:g,textAlign:cd(a.align),textBaseline:"middle",translation:[d,h]})}}function S_(s,t){const a=new ab({ctx:s.ctx,options:t,chart:s});Ut.configure(s,a,t),Ut.addBox(s,a),s.titleBlock=a}var M_={id:"title",_element:ab,start(s,t,a){S_(s,a)},stop(s){const t=s.titleBlock;Ut.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,a){const i=s.titleBlock;Ut.configure(s,i,a),i.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vi={average(s){if(!s.length)return!1;let t,a,i=new Set,r=0,o=0;for(t=0,a=s.length;t<a;++t){const h=s[t].element;if(h&&h.hasValue()){const m=h.tooltipPosition();i.add(m.x),r+=m.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,m)=>h+m)/i.size,y:r/o}},nearest(s,t){if(!s.length)return!1;let a=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,d,h;for(o=0,d=s.length;o<d;++o){const m=s[o].element;if(m&&m.hasValue()){const g=m.getCenterPoint(),x=Qu(t,g);x<r&&(r=x,h=m)}}if(h){const m=h.tooltipPosition();a=m.x,i=m.y}return{x:a,y:i}}};function It(s,t){return t&&(qe(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function Sn(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function T_(s,t){const{element:a,datasetIndex:i,index:r}=t,o=s.getDatasetMeta(i).controller,{label:d,value:h}=o.getLabelAndValue(r);return{chart:s,label:d,parsed:o.getParsed(r),raw:s.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:a}}function Cp(s,t){const a=s.chart.ctx,{body:i,footer:r,title:o}=s,{boxWidth:d,boxHeight:h}=t,m=rt(t.bodyFont),g=rt(t.titleFont),x=rt(t.footerFont),b=o.length,v=r.length,j=i.length,S=Vt(t.padding);let N=S.height,M=0,E=i.reduce((U,B)=>U+B.before.length+B.lines.length+B.after.length,0);if(E+=s.beforeBody.length+s.afterBody.length,b&&(N+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),E){const U=t.displayColors?Math.max(h,m.lineHeight):m.lineHeight;N+=j*U+(E-j)*m.lineHeight+(E-1)*t.bodySpacing}v&&(N+=t.footerMarginTop+v*x.lineHeight+(v-1)*t.footerSpacing);let C=0;const V=function(U){M=Math.max(M,a.measureText(U).width+C)};return a.save(),a.font=g.string,Me(s.title,V),a.font=m.string,Me(s.beforeBody.concat(s.afterBody),V),C=t.displayColors?d+2+t.boxPadding:0,Me(i,U=>{Me(U.before,V),Me(U.lines,V),Me(U.after,V)}),C=0,a.font=x.string,Me(s.footer,V),a.restore(),M+=S.width,{width:M,height:N}}function E_(s,t){const{y:a,height:i}=t;return a<i/2?"top":a>s.height-i/2?"bottom":"center"}function A_(s,t,a,i){const{x:r,width:o}=i,d=a.caretSize+a.caretPadding;if(s==="left"&&r+o+d>t.width||s==="right"&&r-o-d<0)return!0}function D_(s,t,a,i){const{x:r,width:o}=a,{width:d,chartArea:{left:h,right:m}}=s;let g="center";return i==="center"?g=r<=(h+m)/2?"left":"right":r<=o/2?g="left":r>=d-o/2&&(g="right"),A_(g,s,t,a)&&(g="center"),g}function wp(s,t,a){const i=a.yAlign||t.yAlign||E_(s,a);return{xAlign:a.xAlign||t.xAlign||D_(s,t,a,i),yAlign:i}}function O_(s,t){let{x:a,width:i}=s;return t==="right"?a-=i:t==="center"&&(a-=i/2),a}function R_(s,t,a){let{y:i,height:r}=s;return t==="top"?i+=a:t==="bottom"?i-=r+a:i-=r/2,i}function zp(s,t,a,i){const{caretSize:r,caretPadding:o,cornerRadius:d}=s,{xAlign:h,yAlign:m}=a,g=r+o,{topLeft:x,topRight:b,bottomLeft:v,bottomRight:j}=_a(d);let S=O_(t,h);const N=R_(t,m,g);return m==="center"?h==="left"?S+=g:h==="right"&&(S-=g):h==="left"?S-=Math.max(x,v)+r:h==="right"&&(S+=Math.max(b,j)+r),{x:Et(S,0,i.width-t.width),y:Et(N,0,i.height-t.height)}}function Dr(s,t,a){const i=Vt(a.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-i.right:s.x+i.left}function Lp(s){return It([],Sn(s))}function C_(s,t,a){return zs(s,{tooltip:t,tooltipItems:a,type:"tooltip"})}function kp(s,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?s.override(a):s}const ib={beforeTitle:jn,title(s){if(s.length>0){const t=s[0],a=t.chart.data.labels,i=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return a[t.dataIndex]}return""},afterTitle:jn,beforeBody:jn,beforeLabel:jn,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const a=s.formattedValue;return _e(a)||(t+=a),t},labelColor(s){const a=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const a=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:jn,afterBody:jn,beforeFooter:jn,footer:jn,afterFooter:jn};function gt(s,t,a,i){const r=s[t].call(a,i);return typeof r>"u"?ib[t].call(a,i):r}class Bp extends ls{static positioners=Vi;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const a=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&a.options.animation&&i.animations,o=new Vx(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=C_(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,a){const{callbacks:i}=a,r=gt(i,"beforeTitle",this,t),o=gt(i,"title",this,t),d=gt(i,"afterTitle",this,t);let h=[];return h=It(h,Sn(r)),h=It(h,Sn(o)),h=It(h,Sn(d)),h}getBeforeBody(t,a){return Lp(gt(a.callbacks,"beforeBody",this,t))}getBody(t,a){const{callbacks:i}=a,r=[];return Me(t,o=>{const d={before:[],lines:[],after:[]},h=kp(i,o);It(d.before,Sn(gt(h,"beforeLabel",this,o))),It(d.lines,gt(h,"label",this,o)),It(d.after,Sn(gt(h,"afterLabel",this,o))),r.push(d)}),r}getAfterBody(t,a){return Lp(gt(a.callbacks,"afterBody",this,t))}getFooter(t,a){const{callbacks:i}=a,r=gt(i,"beforeFooter",this,t),o=gt(i,"footer",this,t),d=gt(i,"afterFooter",this,t);let h=[];return h=It(h,Sn(r)),h=It(h,Sn(o)),h=It(h,Sn(d)),h}_createItems(t){const a=this._active,i=this.chart.data,r=[],o=[],d=[];let h=[],m,g;for(m=0,g=a.length;m<g;++m)h.push(T_(this.chart,a[m]));return t.filter&&(h=h.filter((x,b,v)=>t.filter(x,b,v,i))),t.itemSort&&(h=h.sort((x,b)=>t.itemSort(x,b,i))),Me(h,x=>{const b=kp(t.callbacks,x);r.push(gt(b,"labelColor",this,x)),o.push(gt(b,"labelPointStyle",this,x)),d.push(gt(b,"labelTextColor",this,x))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=d,this.dataPoints=h,h}update(t,a){const i=this.options.setContext(this.getContext()),r=this._active;let o,d=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Vi[i.position].call(this,r,this._eventPosition);d=this._createItems(i),this.title=this.getTitle(d,i),this.beforeBody=this.getBeforeBody(d,i),this.body=this.getBody(d,i),this.afterBody=this.getAfterBody(d,i),this.footer=this.getFooter(d,i);const m=this._size=Cp(this,i),g=Object.assign({},h,m),x=wp(this.chart,i,g),b=zp(i,g,x,this.chart);this.xAlign=x.xAlign,this.yAlign=x.yAlign,o={opacity:1,x:b.x,y:b.y,width:m.width,height:m.height,caretX:h.x,caretY:h.y}}this._tooltipItems=d,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(t,a,i,r){const o=this.getCaretPosition(t,i,r);a.lineTo(o.x1,o.y1),a.lineTo(o.x2,o.y2),a.lineTo(o.x3,o.y3)}getCaretPosition(t,a,i){const{xAlign:r,yAlign:o}=this,{caretSize:d,cornerRadius:h}=i,{topLeft:m,topRight:g,bottomLeft:x,bottomRight:b}=_a(h),{x:v,y:j}=t,{width:S,height:N}=a;let M,E,C,V,U,B;return o==="center"?(U=j+N/2,r==="left"?(M=v,E=M-d,V=U+d,B=U-d):(M=v+S,E=M+d,V=U-d,B=U+d),C=M):(r==="left"?E=v+Math.max(m,x)+d:r==="right"?E=v+S-Math.max(g,b)-d:E=this.caretX,o==="top"?(V=j,U=V-d,M=E-d,C=E+d):(V=j+N,U=V+d,M=E+d,C=E-d),B=V),{x1:M,x2:E,x3:C,y1:V,y2:U,y3:B}}drawTitle(t,a,i){const r=this.title,o=r.length;let d,h,m;if(o){const g=Na(i.rtl,this.x,this.width);for(t.x=Dr(this,i.titleAlign,i),a.textAlign=g.textAlign(i.titleAlign),a.textBaseline="middle",d=rt(i.titleFont),h=i.titleSpacing,a.fillStyle=i.titleColor,a.font=d.string,m=0;m<o;++m)a.fillText(r[m],g.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+h,m+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,a,i,r,o){const d=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:m,boxWidth:g}=o,x=rt(o.bodyFont),b=Dr(this,"left",o),v=r.x(b),j=m<x.lineHeight?(x.lineHeight-m)/2:0,S=a.y+j;if(o.usePointStyle){const N={radius:Math.min(g,m)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=r.leftForLtr(v,g)+g/2,E=S+m/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Zu(t,N,M,E),t.strokeStyle=d.borderColor,t.fillStyle=d.backgroundColor,Zu(t,N,M,E)}else{t.lineWidth=xe(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,t.strokeStyle=d.borderColor,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset||0;const N=r.leftForLtr(v,g),M=r.leftForLtr(r.xPlus(v,1),g-2),E=_a(d.borderRadius);Object.values(E).some(C=>C!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Yr(t,{x:N,y:S,w:g,h:m,radius:E}),t.fill(),t.stroke(),t.fillStyle=d.backgroundColor,t.beginPath(),Yr(t,{x:M,y:S+1,w:g-2,h:m-2,radius:E}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(N,S,g,m),t.strokeRect(N,S,g,m),t.fillStyle=d.backgroundColor,t.fillRect(M,S+1,g-2,m-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,a,i){const{body:r}=this,{bodySpacing:o,bodyAlign:d,displayColors:h,boxHeight:m,boxWidth:g,boxPadding:x}=i,b=rt(i.bodyFont);let v=b.lineHeight,j=0;const S=Na(i.rtl,this.x,this.width),N=function(Q){a.fillText(Q,S.x(t.x+j),t.y+v/2),t.y+=v+o},M=S.textAlign(d);let E,C,V,U,B,K,X;for(a.textAlign=d,a.textBaseline="middle",a.font=b.string,t.x=Dr(this,M,i),a.fillStyle=i.bodyColor,Me(this.beforeBody,N),j=h&&M!=="right"?d==="center"?g/2+x:g+2+x:0,U=0,K=r.length;U<K;++U){for(E=r[U],C=this.labelTextColors[U],a.fillStyle=C,Me(E.before,N),V=E.lines,h&&V.length&&(this._drawColorBox(a,t,U,S,i),v=Math.max(b.lineHeight,m)),B=0,X=V.length;B<X;++B)N(V[B]),v=b.lineHeight;Me(E.after,N)}j=0,v=b.lineHeight,Me(this.afterBody,N),t.y-=o}drawFooter(t,a,i){const r=this.footer,o=r.length;let d,h;if(o){const m=Na(i.rtl,this.x,this.width);for(t.x=Dr(this,i.footerAlign,i),t.y+=i.footerMarginTop,a.textAlign=m.textAlign(i.footerAlign),a.textBaseline="middle",d=rt(i.footerFont),a.fillStyle=i.footerColor,a.font=d.string,h=0;h<o;++h)a.fillText(r[h],m.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+i.footerSpacing}}drawBackground(t,a,i,r){const{xAlign:o,yAlign:d}=this,{x:h,y:m}=t,{width:g,height:x}=i,{topLeft:b,topRight:v,bottomLeft:j,bottomRight:S}=_a(r.cornerRadius);a.fillStyle=r.backgroundColor,a.strokeStyle=r.borderColor,a.lineWidth=r.borderWidth,a.beginPath(),a.moveTo(h+b,m),d==="top"&&this.drawCaret(t,a,i,r),a.lineTo(h+g-v,m),a.quadraticCurveTo(h+g,m,h+g,m+v),d==="center"&&o==="right"&&this.drawCaret(t,a,i,r),a.lineTo(h+g,m+x-S),a.quadraticCurveTo(h+g,m+x,h+g-S,m+x),d==="bottom"&&this.drawCaret(t,a,i,r),a.lineTo(h+j,m+x),a.quadraticCurveTo(h,m+x,h,m+x-j),d==="center"&&o==="left"&&this.drawCaret(t,a,i,r),a.lineTo(h,m+b),a.quadraticCurveTo(h,m,h+b,m),a.closePath(),a.fill(),r.borderWidth>0&&a.stroke()}_updateAnimationTarget(t){const a=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const d=Vi[t.position].call(this,this._active,this._eventPosition);if(!d)return;const h=this._size=Cp(this,t),m=Object.assign({},d,this._size),g=wp(a,t,m),x=zp(t,m,g,a);(r._to!==x.x||o._to!==x.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,x))}}_willRender(){return!!this.opacity}draw(t){const a=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(a);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const d=Vt(a.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,a),zx(t,a.textDirection),o.y+=d.top,this.drawTitle(o,t,a),this.drawBody(o,t,a),this.drawFooter(o,t,a),Lx(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,a){const i=this._active,r=t.map(({datasetIndex:h,index:m})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[m],index:m}}),o=!Vr(i,r),d=this._positionChanged(r,a);(o||d)&&(this._active=r,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,a,i=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],d=this._getActiveElements(t,o,a,i),h=this._positionChanged(d,t),m=a||!Vr(d,o)||h;return m&&(this._active=d,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,a))),m}_getActiveElements(t,a,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return a.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const d=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&d.reverse(),d}_positionChanged(t,a){const{caretX:i,caretY:r,options:o}=this,d=Vi[o.position].call(this,t,a);return d!==!1&&(i!==d.x||r!==d.y)}}var w_={id:"tooltip",_element:Bp,positioners:Vi,afterInit(s,t,a){a&&(s.tooltip=new Bp({chart:s,options:a}))},beforeUpdate(s,t,a){s.tooltip&&s.tooltip.initialize(a)},reset(s,t,a){s.tooltip&&s.tooltip.initialize(a)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",a)}},afterEvent(s,t){if(s.tooltip){const a=t.replay;s.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ib},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const z_=(s,t,a,i)=>(typeof t=="string"?(a=s.push(t)-1,i.unshift({index:a,label:t})):isNaN(t)&&(a=null),a);function L_(s,t,a,i){const r=s.indexOf(t);if(r===-1)return z_(s,t,a,i);const o=s.lastIndexOf(t);return r!==o?a:r}const k_=(s,t)=>s===null?null:Et(Math.round(s),0,t);function Hp(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class B_ extends Aa{static id="category";static defaults={ticks:{callback:Hp}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const a=this._addedLabels;if(a.length){const i=this.getLabels();for(const{index:r,label:o}of a)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,a){if(_e(t))return null;const i=this.getLabels();return a=isFinite(a)&&i[a]===t?a:L_(i,t,me(a,t),this._addedLabels),k_(a,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),a||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,a=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&a===o.length-1?o:o.slice(t,a+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let d=t;d<=a;d++)r.push({value:d});return r}getLabelForValue(t){return Hp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function H_(s,t){const a=[],{bounds:r,step:o,min:d,max:h,precision:m,count:g,maxTicks:x,maxDigits:b,includeBounds:v}=s,j=o||1,S=x-1,{min:N,max:M}=t,E=!_e(d),C=!_e(h),V=!_e(g),U=(M-N)/(b+1);let B=zg((M-N)/S/j)*j,K,X,Q,$;if(B<1e-14&&!E&&!C)return[{value:N},{value:M}];$=Math.ceil(M/B)-Math.floor(N/B),$>S&&(B=zg($*B/S/j)*j),_e(m)||(K=Math.pow(10,m),B=Math.ceil(B*K)/K),r==="ticks"?(X=Math.floor(N/B)*B,Q=Math.ceil(M/B)*B):(X=N,Q=M),E&&C&&o&&Yv((h-d)/o,B/1e3)?($=Math.round(Math.min((h-d)/B,x)),B=(h-d)/$,X=d,Q=h):V?(X=E?d:X,Q=C?h:Q,$=g-1,B=(Q-X)/$):($=(Q-X)/B,Pi($,Math.round($),B/1e3)?$=Math.round($):$=Math.ceil($));const oe=Math.max(Lg(B),Lg(X));K=Math.pow(10,_e(m)?oe:m),X=Math.round(X*K)/K,Q=Math.round(Q*K)/K;let ie=0;for(E&&(v&&X!==d?(a.push({value:d}),X<d&&ie++,Pi(Math.round((X+ie*B)*K)/K,d,Up(d,U,s))&&ie++):X<d&&ie++);ie<$;++ie){const re=Math.round((X+ie*B)*K)/K;if(C&&re>h)break;a.push({value:re})}return C&&v&&Q!==h?a.length&&Pi(a[a.length-1].value,h,Up(h,U,s))?a[a.length-1].value=h:a.push({value:h}):(!C||Q===h)&&a.push({value:Q}),a}function Up(s,t,{horizontal:a,minRotation:i}){const r=Os(i),o=(a?Math.sin(r):Math.cos(r))||.001,d=.75*t*(""+s).length;return Math.min(t/o,d)}class U_ extends Aa{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,a){return _e(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:a,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const d=m=>r=a?r:m,h=m=>o=i?o:m;if(t){const m=nn(r),g=nn(o);m<0&&g<0?h(0):m>0&&g>0&&d(0)}if(r===o){let m=o===0?1:Math.abs(o*.05);h(o+m),t||d(r-m)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:a,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),a=a||11),a&&(r=Math.min(a,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,a=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},o=this._range||this,d=H_(r,o);return t.bounds==="ticks"&&qv(d,this,"value"),t.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const t=this.ticks;let a=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-a)/Math.max(t.length-1,1)/2;a-=r,i+=r}this._startValue=a,this._endValue=i,this._valueRange=i-a}getLabelForValue(t){return Sx(t,this.chart.options.locale,this.options.ticks.format)}}class V_ extends U_{static id="linear";static defaults={ticks:{callback:Mx.formatters.numeric}};determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=ot(t)?t:0,this.max=ot(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),a=t?this.width:this.height,i=Os(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const to={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pt=Object.keys(to);function Vp(s,t){return s-t}function Fp(s,t){if(_e(t))return null;const a=s._adapter,{parser:i,round:r,isoWeekday:o}=s._parseOpts;let d=t;return typeof i=="function"&&(d=i(d)),ot(d)||(d=typeof i=="string"?a.parse(d,i):a.parse(d)),d===null?null:(r&&(d=r==="week"&&(Ma(o)||o===!0)?a.startOf(d,"isoWeek",o):a.startOf(d,r)),+d)}function Pp(s,t,a,i){const r=pt.length;for(let o=pt.indexOf(s);o<r-1;++o){const d=to[pt[o]],h=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((a-t)/(h*d.size))<=i)return pt[o]}return pt[r-1]}function F_(s,t,a,i,r){for(let o=pt.length-1;o>=pt.indexOf(a);o--){const d=pt[o];if(to[d].common&&s._adapter.diff(r,i,d)>=t-1)return d}return pt[a?pt.indexOf(a):0]}function P_(s){for(let t=pt.indexOf(s)+1,a=pt.length;t<a;++t)if(to[pt[t]].common)return pt[t]}function Yp(s,t,a){if(!a)s[t]=!0;else if(a.length){const{lo:i,hi:r}=od(a,t),o=a[i]>=t?a[i]:a[r];s[o]=!0}}function Y_(s,t,a,i){const r=s._adapter,o=+r.startOf(t[0].value,i),d=t[t.length-1].value;let h,m;for(h=o;h<=d;h=+r.add(h,1,i))m=a[h],m>=0&&(t[m].major=!0);return t}function qp(s,t,a){const i=[],r={},o=t.length;let d,h;for(d=0;d<o;++d)h=t[d],r[h]=d,i.push({value:h,major:!1});return o===0||!a?i:Y_(s,i,r,a)}class Xp extends Aa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,a={}){const i=t.time||(t.time={}),r=this._adapter=new Ej._date(t.adapters.date);r.init(a),Fi(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=a.normalized}parse(t,a){return t===void 0?null:Fp(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,a=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:d,maxDefined:h}=this.getUserBounds();function m(g){!d&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!d||!h)&&(m(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&m(this.getMinMax(!1))),r=ot(r)&&!isNaN(r)?r:+a.startOf(Date.now(),i),o=ot(o)&&!isNaN(o)?o:+a.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(a=t[0],i=t[t.length-1]),{min:a,max:i}}buildTicks(){const t=this.options,a=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,d=this.max,h=Wv(r,o,d);return this._unit=a.unit||(i.autoSkip?Pp(a.minUnit,this.min,this.max,this._getLabelCapacity(o)):F_(this,h.length,a.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:P_(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),qp(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let a=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?a=1-r:a=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const d=t.length<3?.5:.25;a=Et(a,0,d),i=Et(i,0,d),this._offsets={start:a,end:i,factor:1/(a+1+i)}}_generate(){const t=this._adapter,a=this.min,i=this.max,r=this.options,o=r.time,d=o.unit||Pp(o.minUnit,a,i,this._getLabelCapacity(a)),h=me(r.ticks.stepSize,1),m=d==="week"?o.isoWeekday:!1,g=Ma(m)||m===!0,x={};let b=a,v,j;if(g&&(b=+t.startOf(b,"isoWeek",m)),b=+t.startOf(b,g?"day":d),t.diff(i,a,d)>1e5*h)throw new Error(a+" and "+i+" are too far apart with stepSize of "+h+" "+d);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(v=b,j=0;v<i;v=+t.add(v,h,d),j++)Yp(x,v,S);return(v===i||r.bounds==="ticks"||j===1)&&Yp(x,v,S),Object.keys(x).sort(Vp).map(N=>+N)}getLabelForValue(t){const a=this._adapter,i=this.options.time;return i.tooltipFormat?a.format(t,i.tooltipFormat):a.format(t,i.displayFormats.datetime)}format(t,a){const r=this.options.time.displayFormats,o=this._unit,d=a||r[o];return this._adapter.format(t,d)}_tickFormatFunction(t,a,i,r){const o=this.options,d=o.ticks.callback;if(d)return Re(d,[t,a,i],this);const h=o.time.displayFormats,m=this._unit,g=this._majorUnit,x=m&&h[m],b=g&&h[g],v=i[a],j=g&&b&&v&&v.major;return this._adapter.format(t,r||(j?b:x))}generateTickLabels(t){let a,i,r;for(a=0,i=t.length;a<i;++a)r=t[a],r.label=this._tickFormatFunction(r.value,a,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const a=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((a.start+i)*a.factor)}getValueForPixel(t){const a=this._offsets,i=this.getDecimalForPixel(t)/a.factor-a.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const a=this.options.ticks,i=this.ctx.measureText(t).width,r=Os(this.isHorizontal()?a.maxRotation:a.minRotation),o=Math.cos(r),d=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*d,h:i*d+h*o}}_getLabelCapacity(t){const a=this.options.time,i=a.displayFormats,r=i[a.unit]||i.millisecond,o=this._tickFormatFunction(t,0,qp(this,[t],this._majorUnit),r),d=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],a,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(a=0,i=r.length;a<i;++a)t=t.concat(r[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let a,i;if(t.length)return t;const r=this.getLabels();for(a=0,i=r.length;a<i;++a)t.push(Fp(this,r[a]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return yx(t.sort(Vp))}}function Or(s,t,a){let i=0,r=s.length-1,o,d,h,m;a?(t>=s[i].pos&&t<=s[r].pos&&({lo:i,hi:r}=Rs(s,"pos",t)),{pos:o,time:h}=s[i],{pos:d,time:m}=s[r]):(t>=s[i].time&&t<=s[r].time&&({lo:i,hi:r}=Rs(s,"time",t)),{time:o,pos:h}=s[i],{time:d,pos:m}=s[r]);const g=d-o;return g?h+(m-h)*(t-o)/g:h}class RM extends Xp{static id="timeseries";static defaults=Xp.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(t);this._minPos=Or(a,this.min),this._tableRange=Or(a,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:a,max:i}=this,r=[],o=[];let d,h,m,g,x;for(d=0,h=t.length;d<h;++d)g=t[d],g>=a&&g<=i&&r.push(g);if(r.length<2)return[{time:a,pos:0},{time:i,pos:1}];for(d=0,h=r.length;d<h;++d)x=r[d+1],m=r[d-1],g=r[d],Math.round((x+m)/2)!==g&&o.push({time:g,pos:d/(h-1)});return o}_generate(){const t=this.min,a=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(a)||i.length===1)&&i.push(a),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const a=this.getDataTimestamps(),i=this.getLabelTimestamps();return a.length&&i.length?t=this.normalize(a.concat(i)):t=a.length?a:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Or(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const a=this._offsets,i=this.getDecimalForPixel(t)/a.factor-a.end;return Or(this._table,i*this._tableRange+this._minPos,!0)}}const lb="label";function Gp(s,t){typeof s=="function"?s(t):s&&(s.current=t)}function q_(s,t){const a=s.options;a&&t&&Object.assign(a,t)}function rb(s,t){s.labels=t}function ob(s,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lb;const i=[];s.datasets=t.map(r=>{const o=s.datasets.find(d=>d[a]===r[a]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function X_(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lb;const a={labels:[],datasets:[]};return rb(a,s.labels),ob(a,s.datasets,t),a}function G_(s,t){const{height:a=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:d,data:h,options:m,plugins:g=[],fallbackContent:x,updateMode:b,...v}=s,j=R.useRef(null),S=R.useRef(null),N=()=>{j.current&&(S.current=new Jr(j.current,{type:d,data:X_(h,o),options:m&&{...m},plugins:g}),Gp(t,S.current))},M=()=>{Gp(t,null),S.current&&(S.current.destroy(),S.current=null)};return R.useEffect(()=>{!r&&S.current&&m&&q_(S.current,m)},[r,m]),R.useEffect(()=>{!r&&S.current&&rb(S.current.config.data,h.labels)},[r,h.labels]),R.useEffect(()=>{!r&&S.current&&h.datasets&&ob(S.current.config.data,h.datasets,o)},[r,h.datasets]),R.useEffect(()=>{S.current&&(r?(M(),setTimeout(N)):S.current.update(b))},[r,m,h.labels,h.datasets,b]),R.useEffect(()=>{S.current&&(M(),setTimeout(N))},[d]),R.useEffect(()=>(N(),()=>M()),[]),sd.createElement("canvas",{ref:j,role:"img",height:a,width:i,...v},x)}const Q_=R.forwardRef(G_);function xd(s,t){return Jr.register(t),R.forwardRef((a,i)=>sd.createElement(Q_,{...a,ref:i,type:s}))}const Da=xd("line",Mj),At=xd("bar",Sj),bd=xd("scatter",Tj),K_=()=>{const[s,t]=R.useState(70),[a,i]=R.useState(15),r=100-s-a,o=g=>{const x=parseInt(g.target.value),b=100-x-5;t(x),a>b&&i(b)},d=g=>{const x=parseInt(g.target.value),b=100-s;i(x>b?b:x)},h={labels:["訓練集","驗證集","測試集"],datasets:[{label:"資料分割比例 (%)",data:[s,a,r],backgroundColor:["#4ade80","#60a5fa","#f87171"]}]},m={plugins:{title:{display:!0,text:"資料分割比例視覺化"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"比例 (%)"}}}};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"資料分割模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否會購買高價產品。請調整資料分割比例，觀察訓練、驗證、測試集的分配情況。"}),u.jsxs("div",{className:"mb-4 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-4",children:"訓練集比例："}),u.jsx("input",{type:"range",min:"50",max:"90",value:s,onChange:o,className:"w-full"}),u.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[s,"%"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-4",children:"驗證集比例："}),u.jsx("input",{type:"range",min:"5",max:100-s,value:a,onChange:d,className:"w-full"}),u.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:[a,"%"]})]})]}),u.jsx(At,{data:h,options:m}),u.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["訓練集：",s,"%、驗證集：",a,"%、測試集：",r,"%"]}),u.jsxs("div",{className:"mt-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 資料分割策略說明"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsx("li",{children:"訓練集用於模型學習，比例通常為 70%–80%"}),u.jsx("li",{children:"驗證集用於調參與早停，比例約 10%–15%"}),u.jsx("li",{children:"測試集用於最終評估模型泛化能力"}),u.jsx("li",{children:"比例不當可能導致過擬合或評估失真"}),u.jsx("li",{children:"測試集比例過低可能無法有效評估模型效能"})]})]})]})},Qp=[{name:"Alice",age:25,gender:"Female"},{name:"Bob",age:30,gender:"Male"},{name:"Charlie",age:22,gender:"Other"}],Z_=()=>{const[s,t]=R.useState("onehot"),i=s==="onehot"?Qp.map(o=>({name:o.name,age:o.age,Female:o.gender==="Female"?1:0,Male:o.gender==="Male"?1:0,Other:o.gender==="Other"?1:0})):Qp.map(o=>({name:o.name,age:o.age,gender:o.gender==="Female"?0:o.gender==="Male"?1:2})),r=Object.keys(i[0]).length;return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-1",children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"資料型別轉換器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否會購買產品。請選擇資料編碼方式，觀察資料轉換結果與特徵維度變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"mr-4 font-medium",children:"選擇編碼方式："}),u.jsxs("select",{value:s,onChange:o=>t(o.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"onehot",children:"One-hot Encoding"}),u.jsx("option",{value:"label",children:"Label Encoding"})]})]}),u.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["編碼後欄位數：",u.jsx("strong",{children:r})]}),u.jsxs("table",{className:"w-full table-auto border-collapse mb-6",children:[u.jsx("thead",{children:u.jsx("tr",{className:"bg-gray-200",children:Object.keys(i[0]).map(o=>u.jsx("th",{className:"border px-2 py-1 text-left",children:o},o))})}),u.jsx("tbody",{children:i.map((o,d)=>u.jsx("tr",{className:"hover:bg-gray-50",children:Object.values(o).map((h,m)=>u.jsx("td",{className:"border px-2 py-1",children:h},m))},d))})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 編碼策略說明"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"One-hot Encoding"}),"：將每個類別轉為獨立欄位，適合無序類別。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Label Encoding"}),"：將類別轉為整數標籤，適合有序類別。"]}),u.jsx("li",{children:"One-hot 可能導致維度爆炸，Label Encoding 可能引入誤解。"}),u.jsx("li",{children:"選擇編碼方式需考慮模型類型與資料性質。"})]})]})]})},ki=[{name:"Alice",age:25,income:5e4},{name:"Bob",age:null,income:6e4},{name:"Charlie",age:22,income:null},{name:"Dana",age:null,income:null}],W_=()=>{const[s,t]=R.useState("mean"),a=ki.map(S=>S.age),i=ki.map(S=>S.income),r=S=>S.filter(N=>N===null).length,o=ki.length,d=S=>Math.round(S.reduce((N,M)=>N+M,0)/S.length),h=S=>{const N=[...S].sort((E,C)=>E-C),M=Math.floor(N.length/2);return N.length%2===0?Math.round((N[M-1]+N[M])/2):N[M]},m=S=>{const N={};return S.forEach(M=>N[M]=(N[M]||0)+1),parseInt(Object.keys(N).reduce((M,E)=>N[M]>N[E]?M:E))},g=s==="mean"?d(a.filter(S=>S!==null)):s==="median"?h(a.filter(S=>S!==null)):m(a.filter(S=>S!==null)),x=s==="mean"?d(i.filter(S=>S!==null)):s==="median"?h(i.filter(S=>S!==null)):m(i.filter(S=>S!==null)),b=ki.filter(S=>s!=="drop"||S.age!==null&&S.income!==null).map(S=>({name:S.name,age:S.age===null?g:S.age,income:S.income===null?x:S.income})),v={labels:["Age 缺值","Income 缺值"],datasets:[{label:"缺值筆數",data:[r(a),r(i)],backgroundColor:["#fbbf24","#60a5fa"]}]},j=s==="drop"?85:s==="mean"?88:s==="median"?89:87;return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-2",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"缺值處理模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。資料中存在缺值，請選擇適當的處理策略，觀察資料與模型準確率的變化。"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"原始資料缺值分布"}),u.jsx(At,{data:v}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["共 ",o," 筆資料，Age 缺值 ",r(a)," 筆，Income 缺值 ",r(i)," 筆"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"原始資料（含缺值）"}),u.jsxs("table",{className:"w-full table-auto border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1 text-left",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1 text-left",children:"年齡"}),u.jsx("th",{className:"border px-2 py-1 text-left",children:"收入"})]})}),u.jsx("tbody",{children:ki.map((S,N)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:S.name}),u.jsx("td",{className:"border px-2 py-1",children:S.age===null?u.jsx("span",{className:"text-red-500",children:"缺值"}):S.age}),u.jsx("td",{className:"border px-2 py-1",children:S.income===null?u.jsx("span",{className:"text-red-500",children:"缺值"}):S.income})]},N))})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"mr-4 font-medium",children:"選擇填補策略："}),u.jsxs("select",{value:s,onChange:S=>t(S.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"mean",children:"平均值填補"}),u.jsx("option",{value:"median",children:"中位數填補"}),u.jsx("option",{value:"mode",children:"眾數填補"}),u.jsx("option",{value:"drop",children:"刪除缺值列"})]})]}),u.jsxs("p",{className:"mb-6 text-sm text-gray-600",children:["模擬預測準確率：",u.jsxs("strong",{children:[j,"%"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"處理後資料"}),u.jsxs("table",{className:"w-full table-auto border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1 text-left",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1 text-left",children:"年齡"}),u.jsx("th",{className:"border px-2 py-1 text-left",children:"收入"})]})}),u.jsx("tbody",{children:b.map((S,N)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:S.name}),u.jsx("td",{className:"border px-2 py-1",children:S.age}),u.jsx("td",{className:"border px-2 py-1",children:S.income})]},N))})]})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 缺值處理策略說明"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"平均值填補"}),"：μ = (1/n) × Σxᵢ，適用於常態分布資料。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"中位數填補"}),"：排序後取中間值，適用於有極端值的資料。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"眾數填補"}),"：出現次數最多的值，適用於類別型欄位。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"刪除缺值列"}),"：適用於缺值比例極低（小於 5%）的情境。"]})]})]})]})},$_=()=>{const[s,t]=R.useState(90),[a,i]=R.useState("none"),r=100-s,d=a==="oversample"?{majority:s,minority:s}:a==="undersample"?{majority:r,minority:r}:{majority:s,minority:r},h={labels:["多數類別","少數類別"],datasets:[{label:"樣本數",data:[d.majority,d.minority],backgroundColor:["#60a5fa","#f87171"]}]},m=a==="none"?Math.round(60+(100-s)*.2):a==="oversample"?Math.round(75+(100-s)*.1):a==="undersample"?Math.round(70-(s-50)*.1):60,g={none:["模型可能偏向多數類別，導致少數類別預測失準。","Precision 與 Recall 不平衡，影響整體 F1 分數。"],oversample:["透過複製或合成少數類別樣本來平衡分布。","可能導致過擬合，模型在少數類別上學得太「死板」。"],undersample:["刪除多數類別樣本來平衡分布。","可能損失重要資訊，降低模型泛化能力。"]};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-3",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"資料不平衡模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測交易是否為詐騙。資料中類別分布極度不平衡，請選擇重抽樣策略，觀察模型偏差與預測準確率的變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"設定多數類別比例："}),u.jsx("input",{type:"range",min:"50",max:"95",value:s,onChange:x=>t(parseInt(x.target.value)),className:"w-64"}),u.jsxs("span",{className:"ml-4 text-sm text-gray-700",children:[s,"% vs ",r,"%"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇重抽樣策略："}),u.jsxs("select",{value:a,onChange:x=>i(x.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"none",children:"不處理"}),u.jsx("option",{value:"oversample",children:"Over-sampling"}),u.jsx("option",{value:"undersample",children:"Under-sampling"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"類別分布視覺化"}),u.jsx(At,{data:h}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["模擬樣本數：多數類別 ",d.majority," 筆，少數類別 ",d.minority," 筆"]})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 模型準確率模擬"}),u.jsxs("p",{children:["預估準確率：",u.jsxs("strong",{children:[m,"%"]})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"模擬假設：類別平衡度與策略選擇會影響模型偏差與準確率。"})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 模型預測偏差說明"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"TP（True Positive）"}),"：成功預測為詐騙的真實詐騙"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FP（False Positive）"}),"：誤判為詐騙的正常交易"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FN（False Negative）"}),"：漏判的詐騙交易"]}),u.jsx("li",{children:"類別不平衡會導致 FN 增加，Recall 降低"})]})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 重抽樣策略影響"}),u.jsx("ul",{className:"list-disc pl-5 space-y-1",children:g[a].map((x,b)=>u.jsx("li",{children:x},b))})]}),u.jsxs("div",{className:"text-sm text-gray-700 mt-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 模型評估指標說明"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Precision"}),"（精確率）：Precision = TP / (TP + FP) → 預測為正類的準確性"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Recall"}),"（召回率）：Recall = TP / (TP + FN) → 找出正類的能力"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"F1 Score"}),"：F1 = (2 × P × R) / (P + R) → 精確率與召回率的綜合指標"]}),u.jsx("li",{children:"在類別不平衡任務中，F1 Score 是更穩健的評估方式。"})]})]}),u.jsxs("div",{className:"mt-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 混淆矩陣範例"}),u.jsxs("table",{className:"table-auto border-collapse border border-gray-400 mb-4",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border border-gray-400 px-3 py-2",children:"實際類別＼預測結果"}),u.jsx("th",{className:"border border-gray-400 px-3 py-2",children:"預測為正類"}),u.jsx("th",{className:"border border-gray-400 px-3 py-2",children:"預測為負類"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-400 px-3 py-2 font-medium",children:"真實為正類"}),u.jsx("td",{className:"border border-gray-400 px-3 py-2 text-green-600 font-semibold",children:"TP（True Positive）"}),u.jsx("td",{className:"border border-gray-400 px-3 py-2 text-red-600 font-semibold",children:"FN（False Negative）"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border border-gray-400 px-3 py-2 font-medium",children:"真實為負類"}),u.jsx("td",{className:"border border-gray-400 px-3 py-2 text-red-600 font-semibold",children:"FP（False Positive）"}),u.jsx("td",{className:"border border-gray-400 px-3 py-2 text-green-600 font-semibold",children:"TN（True Negative）"})]})]})]}),u.jsx("p",{className:"text-sm text-gray-600",children:"Precision = TP / (TP + FP)  Recall = TP / (TP + FN)  F1 Score = 2 × (P × R) / (P + R)"})]})]})},_n=[22,25,24,23,26,27,100,28,24,23],J_=()=>{const[s,t]=R.useState("zscore"),[a,i]=R.useState("highlight"),r=_n.reduce((j,S)=>j+S,0)/_n.length,o=Math.sqrt(_n.reduce((j,S)=>j+Math.pow(S-r,2),0)/_n.length),h=(()=>{if(s==="zscore")return _n.map(j=>Math.abs((j-r)/o)>2);{const j=[..._n].sort((E,C)=>E-C),S=j[Math.floor(j.length/4)],N=j[Math.floor(j.length*3/4)],M=N-S;return _n.map(E=>E<S-1.5*M||E>N+1.5*M)}})(),m=h.filter(Boolean).length,g=Math.round(m/_n.length*100),x=_n.map((j,S)=>h[S]?a==="remove"?null:a==="replace"?Math.round(r):j:j).filter(j=>j!==null),b={labels:x.map((j,S)=>`樣本 ${S+1}`),datasets:[{label:"數值",data:x,backgroundColor:x.map((j,S)=>h[S]?"#f87171":"#60a5fa")}]},v=a==="highlight"?88:a==="remove"?90:a==="replace"?87:85;return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-4",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"資料異常值偵測器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。資料中可能存在極端值，請選擇偵測方法與處理策略，觀察資料分布與模型準確率的變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇偵測方法："}),u.jsxs("select",{value:s,onChange:j=>t(j.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"zscore",children:"Z-score"}),u.jsx("option",{value:"iqr",children:"IQR"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇處理策略："}),u.jsxs("select",{value:a,onChange:j=>i(j.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"highlight",children:"僅標示"}),u.jsx("option",{value:"remove",children:"移除異常值"}),u.jsx("option",{value:"replace",children:"以平均值替代"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"數值分布視覺化"}),u.jsx(At,{data:b}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["偵測到異常值：",m," 筆（約 ",g,"%）"]})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 模型準確率模擬"}),u.jsxs("p",{children:["預估準確率：",u.jsxs("strong",{children:[v,"%"]})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"模擬假設：異常值處理方式會影響模型穩定性與泛化能力。"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 偵測方法數學式與適用情境"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Z-score"}),"：Z = (X - μ) / σ → 適用於常態分布資料"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"IQR"}),"：IQR = Q₃ - Q₁，異常值判斷：X < Q₁ - 1.5 × IQR 或 X > Q₃ + 1.5 × IQR"]}),u.jsx("li",{children:"Z-score 對極端值敏感，IQR 對偏態資料更穩健"})]})]})]})},I_={purchase:[{name:"年齡",importance:.35,hint:"可能影響購買意願"},{name:"收入",importance:.25,hint:"與消費能力相關"},{name:"教育程度",importance:.2,hint:"可能影響品牌偏好"},{name:"婚姻狀態",importance:.1,hint:"與家庭支出模式有關"},{name:"居住地區",importance:.1,hint:"可能影響物流與偏好"}],churn:[{name:"使用頻率",importance:.3,hint:"低頻率可能預示流失"},{name:"客服互動次數",importance:.25,hint:"高互動可能代表不滿"},{name:"訂閱時長",importance:.2,hint:"短期用戶流失率高"},{name:"付款方式",importance:.15,hint:"自動扣款用戶流失率低"},{name:"裝置類型",importance:.1,hint:"行動裝置用戶流失率高"}]},eN=()=>{const[s,t]=R.useState("purchase"),[a,i]=R.useState([]),[r,o]=R.useState([]),d=I_[s],h=N=>{i(M=>M.includes(N)?M.filter(E=>E!==N):[...M,N])},m=N=>{o(M=>M.includes(N)?M.filter(E=>E!==N):[...M,N])},g=d.map(N=>({...N,status:a.includes(N.name)?"移除":r.includes(N.name)?"打亂":"正常"})),x={labels:g.map(N=>N.name),datasets:[{label:"特徵重要性分數",data:g.map(N=>N.status==="移除"?0:N.importance),backgroundColor:g.map(N=>N.status==="移除"?"#d1d5db":N.status==="打亂"?"#fbbf24":"#60a5fa")}]},b=Math.round(90-a.reduce((N,M)=>{const E=d.find(C=>C.name===M);return N+E.importance*20},0)-r.reduce((N,M)=>{const E=d.find(C=>C.name===M);return N+E.importance*10},0)),v=Math.max(60,Math.round(b-a.length*2)),j=Math.max(55,Math.round(b-r.length*3)),S=Math.round(2*v*j/(v+j));return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-5",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"特徵重要性分析器"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇預測任務："}),u.jsxs("select",{value:s,onChange:N=>{t(N.target.value),i([]),o([])},className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"purchase",children:"預測是否購買產品"}),u.jsx("option",{value:"churn",children:"預測是否流失"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"特徵操作"}),u.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.map(N=>u.jsxs("div",{className:"flex items-center justify-between border px-3 py-2 rounded bg-gray-50",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",title:N.hint,children:N.name}),u.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",N.hint,")"]})]}),u.jsxs("div",{className:"space-x-2",children:[u.jsx("button",{onClick:()=>h(N.name),className:`px-2 py-1 rounded text-sm ${a.includes(N.name)?"bg-red-200":"bg-gray-200"}`,children:"移除"}),u.jsx("button",{onClick:()=>m(N.name),className:`px-2 py-1 rounded text-sm ${r.includes(N.name)?"bg-yellow-200":"bg-gray-200"}`,children:"打亂"})]})]},N.name))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"特徵重要性視覺化"}),u.jsx(At,{data:x})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 模型指標模擬"}),u.jsxs("p",{children:["預估準確率：",u.jsxs("strong",{children:[b,"%"]})]}),u.jsxs("p",{children:["Precision：",v,"% Recall：",j,"% F1 Score：",S,"%"]}),u.jsx("p",{className:"text-xs text-gray-500",children:"模擬假設：移除或打亂特徵會影響模型的預測準確性與偏差。"})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 混淆矩陣範例"}),u.jsxs("table",{className:"table-auto border-collapse border text-sm mb-2",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-3 py-2",children:"實際＼預測"}),u.jsx("th",{className:"border px-3 py-2",children:"正類"}),u.jsx("th",{className:"border px-3 py-2",children:"負類"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"border px-3 py-2",children:"正類"}),u.jsx("td",{className:"border px-3 py-2 text-green-600",children:"TP"}),u.jsx("td",{className:"border px-3 py-2 text-red-600",children:"FN"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border px-3 py-2",children:"負類"}),u.jsx("td",{className:"border px-3 py-2 text-red-600",children:"FP"}),u.jsx("td",{className:"border px-3 py-2 text-green-600",children:"TN"})]})]})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"Precision = TP / (TP + FP) Recall = TP / (TP + FN) F1 Score = 2 × (P × R) / (P + R)"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 特徵重要性方法說明"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"SHAP（SHapley Additive Explanations）"}),"：基於博弈論，衡量每個特徵在所有可能組合中對預測結果的平均邊際貢獻。",u.jsxs("div",{className:"font-mono bg-gray-100 p-2 rounded text-sm mt-1",children:["φᵢ = Σ",u.jsx("sub",{children:"S⊆N-i"})," [ (|S|! × (|N|-|S|-1)! ) / |N|! ] × [ f(S ∪ i) − f(S) ]"]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"其中 S 為不包含特徵 i 的特徵子集，f(S) 表示僅使用 S 特徵時模型的預測值。"})]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Permutation Importance"}),"：將某特徵的值隨機打亂，觀察模型準確率下降幅度。",u.jsx("div",{className:"font-mono bg-gray-100 p-2 rounded text-sm mt-1",children:"PIᵢ = A₍orig₎ − A₍perm₎"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A₍orig₎ 為原始準確率，A₍perm₎ 為打亂特徵 i 後的準確率。"})]}),u.jsx("li",{children:"SHAP 適合個別預測解釋，Permutation Importance 適合整體模型評估。"})]})]})]})};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kp="popstate";function tN(s={}){function t(i,r){let{pathname:o,search:d,hash:h}=i.location;return ed("",{pathname:o,search:d,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(i,r){return typeof r=="string"?r:$i(r)}return sN(t,a,null,s)}function Le(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function sn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nN(){return Math.random().toString(36).substring(2,10)}function Zp(s,t){return{usr:s.state,key:s.key,idx:t}}function ed(s,t,a=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Oa(t):t,state:a,key:t&&t.key||i||nN()}}function $i({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Oa(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let i=s.indexOf("?");i>=0&&(t.search=s.substring(i),s=s.substring(0,i)),s&&(t.pathname=s)}return t}function sN(s,t,a,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,d=r.history,h="POP",m=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function b(){h="POP";let M=x(),E=M==null?null:M-g;g=M,m&&m({action:h,location:N.location,delta:E})}function v(M,E){h="PUSH";let C=ed(N.location,M,E);g=x()+1;let V=Zp(C,g),U=N.createHref(C);try{d.pushState(V,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(U)}o&&m&&m({action:h,location:N.location,delta:1})}function j(M,E){h="REPLACE";let C=ed(N.location,M,E);g=x();let V=Zp(C,g),U=N.createHref(C);d.replaceState(V,"",U),o&&m&&m({action:h,location:N.location,delta:0})}function S(M){return aN(M)}let N={get action(){return h},get location(){return s(r,d)},listen(M){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(Kp,b),m=M,()=>{r.removeEventListener(Kp,b),m=null}},createHref(M){return t(r,M)},createURL:S,encodeLocation(M){let E=S(M);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:j,go(M){return d.go(M)}};return N}function aN(s,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Le(a,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:$i(s);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function cb(s,t,a="/"){return iN(s,t,a,!1)}function iN(s,t,a,i){let r=typeof t=="string"?Oa(t):t,o=En(r.pathname||"/",a);if(o==null)return null;let d=ub(s);lN(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let g=xN(o);h=gN(d[m],g,i)}return h}function ub(s,t=[],a=[],i="",r=!1){let o=(d,h,m=r,g)=>{let x={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&m)return;Le(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let b=Tn([i,x.relativePath]),v=a.concat(x);d.children&&d.children.length>0&&(Le(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),ub(d.children,t,v,b,m)),!(d.path==null&&!d.index)&&t.push({path:b,score:fN(b,d.index),routesMeta:v})};return s.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))o(d,h);else for(let m of db(d.path))o(d,h,!0,m)}),t}function db(s){let t=s.split("/");if(t.length===0)return[];let[a,...i]=t,r=a.endsWith("?"),o=a.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let d=db(i.join("/")),h=[];return h.push(...d.map(m=>m===""?o:[o,m].join("/"))),r&&h.push(...d),h.map(m=>s.startsWith("/")&&m===""?"/":m)}function lN(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:mN(t.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var rN=/^:[\w-]+$/,oN=3,cN=2,uN=1,dN=10,hN=-2,Wp=s=>s==="*";function fN(s,t){let a=s.split("/"),i=a.length;return a.some(Wp)&&(i+=hN),t&&(i+=cN),a.filter(r=>!Wp(r)).reduce((r,o)=>r+(rN.test(o)?oN:o===""?uN:dN),i)}function mN(s,t){return s.length===t.length&&s.slice(0,-1).every((i,r)=>i===t[r])?s[s.length-1]-t[t.length-1]:0}function gN(s,t,a=!1){let{routesMeta:i}=s,r={},o="/",d=[];for(let h=0;h<i.length;++h){let m=i[h],g=h===i.length-1,x=o==="/"?t:t.slice(o.length)||"/",b=Gr({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),v=m.route;if(!b&&g&&a&&!i[i.length-1].route.index&&(b=Gr({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},x)),!b)return null;Object.assign(r,b.params),d.push({params:r,pathname:Tn([o,b.pathname]),pathnameBase:jN(Tn([o,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(o=Tn([o,b.pathnameBase]))}return d}function Gr(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,i]=pN(s.path,s.caseSensitive,s.end),r=t.match(a);if(!r)return null;let o=r[0],d=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((g,{paramName:x,isOptional:b},v)=>{if(x==="*"){let S=h[v]||"";d=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const j=h[v];return b&&!j?g[x]=void 0:g[x]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:d,pattern:s}}function pN(s,t=!1,a=!0){sn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],r="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),r+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":s!==""&&s!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function xN(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function En(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,i=s.charAt(a);return i&&i!=="/"?null:s.slice(a)||"/"}function bN(s,t="/"){let{pathname:a,search:i="",hash:r=""}=typeof s=="string"?Oa(s):s;return{pathname:a?a.startsWith("/")?a:yN(a,t):t,search:_N(i),hash:NN(r)}}function yN(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function Vu(s,t,a,i){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vN(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function hb(s){let t=vN(s);return t.map((a,i)=>i===t.length-1?a.pathname:a.pathnameBase)}function fb(s,t,a,i=!1){let r;typeof s=="string"?r=Oa(s):(r={...s},Le(!r.pathname||!r.pathname.includes("?"),Vu("?","pathname","search",r)),Le(!r.pathname||!r.pathname.includes("#"),Vu("#","pathname","hash",r)),Le(!r.search||!r.search.includes("#"),Vu("#","search","hash",r)));let o=s===""||r.pathname==="",d=o?"/":r.pathname,h;if(d==null)h=a;else{let b=t.length-1;if(!i&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),b-=1;r.pathname=v.join("/")}h=b>=0?t[b]:"/"}let m=bN(r,h),g=d&&d!=="/"&&d.endsWith("/"),x=(o||d===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}var Tn=s=>s.join("/").replace(/\/\/+/g,"/"),jN=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),_N=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,NN=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function SN(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var mb=["POST","PUT","PATCH","DELETE"];new Set(mb);var MN=["GET",...mb];new Set(MN);var Ra=R.createContext(null);Ra.displayName="DataRouter";var no=R.createContext(null);no.displayName="DataRouterState";R.createContext(!1);var gb=R.createContext({isTransitioning:!1});gb.displayName="ViewTransition";var TN=R.createContext(new Map);TN.displayName="Fetchers";var EN=R.createContext(null);EN.displayName="Await";var an=R.createContext(null);an.displayName="Navigation";var Ii=R.createContext(null);Ii.displayName="Location";var An=R.createContext({outlet:null,matches:[],isDataRoute:!1});An.displayName="Route";var yd=R.createContext(null);yd.displayName="RouteError";function AN(s,{relative:t}={}){Le(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=R.useContext(an),{hash:r,pathname:o,search:d}=tl(s,{relative:t}),h=o;return a!=="/"&&(h=o==="/"?a:Tn([a,o])),i.createHref({pathname:h,search:d,hash:r})}function el(){return R.useContext(Ii)!=null}function Ls(){return Le(el(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Ii).location}var pb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xb(s){R.useContext(an).static||R.useLayoutEffect(s)}function DN(){let{isDataRoute:s}=R.useContext(An);return s?PN():ON()}function ON(){Le(el(),"useNavigate() may be used only in the context of a <Router> component.");let s=R.useContext(Ra),{basename:t,navigator:a}=R.useContext(an),{matches:i}=R.useContext(An),{pathname:r}=Ls(),o=JSON.stringify(hb(i)),d=R.useRef(!1);return xb(()=>{d.current=!0}),R.useCallback((m,g={})=>{if(sn(d.current,pb),!d.current)return;if(typeof m=="number"){a.go(m);return}let x=fb(m,JSON.parse(o),r,g.relative==="path");s==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Tn([t,x.pathname])),(g.replace?a.replace:a.push)(x,g.state,g)},[t,a,o,r,s])}R.createContext(null);function tl(s,{relative:t}={}){let{matches:a}=R.useContext(An),{pathname:i}=Ls(),r=JSON.stringify(hb(a));return R.useMemo(()=>fb(s,JSON.parse(r),i,t==="path"),[s,r,i,t])}function RN(s,t){return bb(s,t)}function bb(s,t,a,i,r){Le(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=R.useContext(an),{matches:d}=R.useContext(An),h=d[d.length-1],m=h?h.params:{},g=h?h.pathname:"/",x=h?h.pathnameBase:"/",b=h&&h.route;{let C=b&&b.path||"";yb(g,!b||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let v=Ls(),j;if(t){let C=typeof t=="string"?Oa(t):t;Le(x==="/"||C.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${C.pathname}" was given in the \`location\` prop.`),j=C}else j=v;let S=j.pathname||"/",N=S;if(x!=="/"){let C=x.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let M=cb(s,{pathname:N});sn(b||M!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),sn(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=kN(M&&M.map(C=>Object.assign({},C,{params:Object.assign({},m,C.params),pathname:Tn([x,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?x:Tn([x,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,a,i,r);return t&&E?R.createElement(Ii.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},E):E}function CN(){let s=FN(),t=SN(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),a?R.createElement("pre",{style:r},a):null,d)}var wN=R.createElement(CN,null),zN=class extends R.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){this.props.unstable_onError?this.props.unstable_onError(s,t):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?R.createElement(An.Provider,{value:this.props.routeContext},R.createElement(yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function LN({routeContext:s,match:t,children:a}){let i=R.useContext(Ra);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(An.Provider,{value:s},a)}function kN(s,t=[],a=null,i=null,r=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let o=s,d=a?.errors;if(d!=null){let g=o.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);Le(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(a)for(let g=0;g<o.length;g++){let x=o[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=g),x.route.id){let{loaderData:b,errors:v}=a,j=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!v||v[x.route.id]===void 0);if(x.route.lazy||j){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,x,b)=>{let v,j=!1,S=null,N=null;a&&(v=d&&x.route.id?d[x.route.id]:void 0,S=x.route.errorElement||wN,h&&(m<0&&b===0?(yb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,N=null):m===b&&(j=!0,N=x.route.hydrateFallbackElement||null)));let M=t.concat(o.slice(0,b+1)),E=()=>{let C;return v?C=S:j?C=N:x.route.Component?C=R.createElement(x.route.Component,null):x.route.element?C=x.route.element:C=g,R.createElement(LN,{match:x,routeContext:{outlet:g,matches:M,isDataRoute:a!=null},children:C})};return a&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?R.createElement(zN,{location:a.location,revalidation:a.revalidation,component:S,error:v,children:E(),routeContext:{outlet:null,matches:M,isDataRoute:!0},unstable_onError:i}):E()},null)}function vd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BN(s){let t=R.useContext(Ra);return Le(t,vd(s)),t}function HN(s){let t=R.useContext(no);return Le(t,vd(s)),t}function UN(s){let t=R.useContext(An);return Le(t,vd(s)),t}function jd(s){let t=UN(s),a=t.matches[t.matches.length-1];return Le(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function VN(){return jd("useRouteId")}function FN(){let s=R.useContext(yd),t=HN("useRouteError"),a=jd("useRouteError");return s!==void 0?s:t.errors?.[a]}function PN(){let{router:s}=BN("useNavigate"),t=jd("useNavigate"),a=R.useRef(!1);return xb(()=>{a.current=!0}),R.useCallback(async(r,o={})=>{sn(a.current,pb),a.current&&(typeof r=="number"?s.navigate(r):await s.navigate(r,{fromRouteId:t,...o}))},[s,t])}var $p={};function yb(s,t,a){!t&&!$p[s]&&($p[s]=!0,sn(!1,a))}R.memo(YN);function YN({routes:s,future:t,state:a,unstable_onError:i}){return bb(s,void 0,a,i,t)}function Br(s){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qN({basename:s="/",children:t=null,location:a,navigationType:i="POP",navigator:r,static:o=!1}){Le(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:d,navigator:r,static:o,future:{}}),[d,r,o]);typeof a=="string"&&(a=Oa(a));let{pathname:m="/",search:g="",hash:x="",state:b=null,key:v="default"}=a,j=R.useMemo(()=>{let S=En(m,d);return S==null?null:{location:{pathname:S,search:g,hash:x,state:b,key:v},navigationType:i}},[d,m,g,x,b,v,i]);return sn(j!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:R.createElement(an.Provider,{value:h},R.createElement(Ii.Provider,{children:t,value:j}))}function XN({children:s,location:t}){return RN(td(s),t)}function td(s,t=[]){let a=[];return R.Children.forEach(s,(i,r)=>{if(!R.isValidElement(i))return;let o=[...t,r];if(i.type===R.Fragment){a.push.apply(a,td(i.props.children,o));return}Le(i.type===Br,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=td(i.props.children,o)),a.push(d)}),a}var Hr="get",Ur="application/x-www-form-urlencoded";function so(s){return s!=null&&typeof s.tagName=="string"}function GN(s){return so(s)&&s.tagName.toLowerCase()==="button"}function QN(s){return so(s)&&s.tagName.toLowerCase()==="form"}function KN(s){return so(s)&&s.tagName.toLowerCase()==="input"}function ZN(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function WN(s,t){return s.button===0&&(!t||t==="_self")&&!ZN(s)}var Rr=null;function $N(){if(Rr===null)try{new FormData(document.createElement("form"),0),Rr=!1}catch{Rr=!0}return Rr}var JN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fu(s){return s!=null&&!JN.has(s)?(sn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ur}"`),null):s}function IN(s,t){let a,i,r,o,d;if(QN(s)){let h=s.getAttribute("action");i=h?En(h,t):null,a=s.getAttribute("method")||Hr,r=Fu(s.getAttribute("enctype"))||Ur,o=new FormData(s)}else if(GN(s)||KN(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=s.getAttribute("formaction")||h.getAttribute("action");if(i=m?En(m,t):null,a=s.getAttribute("formmethod")||h.getAttribute("method")||Hr,r=Fu(s.getAttribute("formenctype"))||Fu(h.getAttribute("enctype"))||Ur,o=new FormData(h,s),!$N()){let{name:g,type:x,value:b}=s;if(x==="image"){let v=g?`${g}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else g&&o.append(g,b)}}else{if(so(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Hr,i=null,r=Ur,d=s}return o&&r==="text/plain"&&(d=o,o=void 0),{action:i,method:a.toLowerCase(),encType:r,formData:o,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _d(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function eS(s,t,a){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${a}`:t&&En(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function tS(s,t){if(s.id in t)return t[s.id];try{let a=await import(s.module);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nS(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function sS(s,t,a){let i=await Promise.all(s.map(async r=>{let o=t.routes[r.route.id];if(o){let d=await tS(o,a);return d.links?d.links():[]}return[]}));return rS(i.flat(1).filter(nS).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Jp(s,t,a,i,r,o){let d=(m,g)=>a[g]?m.route.id!==a[g].route.id:!0,h=(m,g)=>a[g].pathname!==m.pathname||a[g].route.path?.endsWith("*")&&a[g].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,g)=>d(m,g)||h(m,g)):o==="data"?t.filter((m,g)=>{let x=i.routes[m.route.id];if(!x||!x.hasLoader)return!1;if(d(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aS(s,t,{includeHydrateFallback:a}={}){return iS(s.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function iS(s){return[...new Set(s)]}function lS(s){let t={},a=Object.keys(s).sort();for(let i of a)t[i]=s[i];return t}function rS(s,t){let a=new Set;return new Set(t),s.reduce((i,r)=>{let o=JSON.stringify(lS(r));return a.has(o)||(a.add(o),i.push({key:o,link:r})),i},[])}function vb(){let s=R.useContext(Ra);return _d(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function oS(){let s=R.useContext(no);return _d(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Nd=R.createContext(void 0);Nd.displayName="FrameworkContext";function jb(){let s=R.useContext(Nd);return _d(s,"You must render this element inside a <HydratedRouter> element"),s}function cS(s,t){let a=R.useContext(Nd),[i,r]=R.useState(!1),[o,d]=R.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:x,onTouchStart:b}=t,v=R.useRef(null);R.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let N=E=>{E.forEach(C=>{d(C.isIntersecting)})},M=new IntersectionObserver(N,{threshold:.5});return v.current&&M.observe(v.current),()=>{M.disconnect()}}},[s]),R.useEffect(()=>{if(i){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[i]);let j=()=>{r(!0)},S=()=>{r(!1),d(!1)};return a?s!=="intent"?[o,v,{}]:[o,v,{onFocus:Bi(h,j),onBlur:Bi(m,S),onMouseEnter:Bi(g,j),onMouseLeave:Bi(x,S),onTouchStart:Bi(b,j)}]:[!1,v,{}]}function Bi(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function uS({page:s,...t}){let{router:a}=vb(),i=R.useMemo(()=>cb(a.routes,s,a.basename),[a.routes,s,a.basename]);return i?R.createElement(hS,{page:s,matches:i,...t}):null}function dS(s){let{manifest:t,routeModules:a}=jb(),[i,r]=R.useState([]);return R.useEffect(()=>{let o=!1;return sS(s,t,a).then(d=>{o||r(d)}),()=>{o=!0}},[s,t,a]),i}function hS({page:s,matches:t,...a}){let i=Ls(),{manifest:r,routeModules:o}=jb(),{basename:d}=vb(),{loaderData:h,matches:m}=oS(),g=R.useMemo(()=>Jp(s,t,m,r,i,"data"),[s,t,m,r,i]),x=R.useMemo(()=>Jp(s,t,m,r,i,"assets"),[s,t,m,r,i]),b=R.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let S=new Set,N=!1;if(t.forEach(E=>{let C=r.routes[E.route.id];!C||!C.hasLoader||(!g.some(V=>V.route.id===E.route.id)&&E.route.id in h&&o[E.route.id]?.shouldRevalidate||C.hasClientLoader?N=!0:S.add(E.route.id))}),S.size===0)return[];let M=eS(s,d,"data");return N&&S.size>0&&M.searchParams.set("_routes",t.filter(E=>S.has(E.route.id)).map(E=>E.route.id).join(",")),[M.pathname+M.search]},[d,h,i,r,g,t,s,o]),v=R.useMemo(()=>aS(x,r),[x,r]),j=dS(x);return R.createElement(R.Fragment,null,b.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),v.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),j.map(({key:S,link:N})=>R.createElement("link",{key:S,nonce:a.nonce,...N})))}function fS(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var _b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_b&&(window.__reactRouterVersion="7.8.2")}catch{}function mS({basename:s,children:t,window:a}){let i=R.useRef();i.current==null&&(i.current=tN({window:a,v5Compat:!0}));let r=i.current,[o,d]=R.useState({action:r.action,location:r.location}),h=R.useCallback(m=>{R.startTransition(()=>d(m))},[d]);return R.useLayoutEffect(()=>r.listen(h),[r,h]),R.createElement(qN,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:r})}var Nb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,is=R.forwardRef(function({onClick:t,discover:a="render",prefetch:i="none",relative:r,reloadDocument:o,replace:d,state:h,target:m,to:g,preventScrollReset:x,viewTransition:b,...v},j){let{basename:S}=R.useContext(an),N=typeof g=="string"&&Nb.test(g),M,E=!1;if(typeof g=="string"&&N&&(M=g,_b))try{let $=new URL(window.location.href),oe=g.startsWith("//")?new URL($.protocol+g):new URL(g),ie=En(oe.pathname,S);oe.origin===$.origin&&ie!=null?g=ie+oe.search+oe.hash:E=!0}catch{sn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=AN(g,{relative:r}),[V,U,B]=cS(i,v),K=bS(g,{replace:d,state:h,target:m,preventScrollReset:x,relative:r,viewTransition:b});function X($){t&&t($),$.defaultPrevented||K($)}let Q=R.createElement("a",{...v,...B,href:M||C,onClick:E||o?t:X,ref:fS(j,U),target:m,"data-discover":!N&&a==="render"?"true":void 0});return V&&!N?R.createElement(R.Fragment,null,Q,R.createElement(uS,{page:C})):Q});is.displayName="Link";var gS=R.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:i="",end:r=!1,style:o,to:d,viewTransition:h,children:m,...g},x){let b=tl(d,{relative:g.relative}),v=Ls(),j=R.useContext(no),{navigator:S,basename:N}=R.useContext(an),M=j!=null&&NS(b)&&h===!0,E=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,C=v.pathname,V=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(C=C.toLowerCase(),V=V?V.toLowerCase():null,E=E.toLowerCase()),V&&N&&(V=En(V,N)||V);const U=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let B=C===E||!r&&C.startsWith(E)&&C.charAt(U)==="/",K=V!=null&&(V===E||!r&&V.startsWith(E)&&V.charAt(E.length)==="/"),X={isActive:B,isPending:K,isTransitioning:M},Q=B?t:void 0,$;typeof i=="function"?$=i(X):$=[i,B?"active":null,K?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let oe=typeof o=="function"?o(X):o;return R.createElement(is,{...g,"aria-current":Q,className:$,ref:x,style:oe,to:d,viewTransition:h},typeof m=="function"?m(X):m)});gS.displayName="NavLink";var pS=R.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:i,replace:r,state:o,method:d=Hr,action:h,onSubmit:m,relative:g,preventScrollReset:x,viewTransition:b,...v},j)=>{let S=jS(),N=_S(h,{relative:g}),M=d.toLowerCase()==="get"?"get":"post",E=typeof h=="string"&&Nb.test(h),C=V=>{if(m&&m(V),V.defaultPrevented)return;V.preventDefault();let U=V.nativeEvent.submitter,B=U?.getAttribute("formmethod")||d;S(U||V.currentTarget,{fetcherKey:t,method:B,navigate:a,replace:r,state:o,relative:g,preventScrollReset:x,viewTransition:b})};return R.createElement("form",{ref:j,method:M,action:N,onSubmit:i?m:C,...v,"data-discover":!E&&s==="render"?"true":void 0})});pS.displayName="Form";function xS(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sb(s){let t=R.useContext(Ra);return Le(t,xS(s)),t}function bS(s,{target:t,replace:a,state:i,preventScrollReset:r,relative:o,viewTransition:d}={}){let h=DN(),m=Ls(),g=tl(s,{relative:o});return R.useCallback(x=>{if(WN(x,t)){x.preventDefault();let b=a!==void 0?a:$i(m)===$i(g);h(s,{replace:b,state:i,preventScrollReset:r,relative:o,viewTransition:d})}},[m,h,g,a,i,t,s,r,o,d])}var yS=0,vS=()=>`__${String(++yS)}__`;function jS(){let{router:s}=Sb("useSubmit"),{basename:t}=R.useContext(an),a=VN();return R.useCallback(async(i,r={})=>{let{action:o,method:d,encType:h,formData:m,body:g}=IN(i,t);if(r.navigate===!1){let x=r.fetcherKey||vS();await s.fetch(x,a,r.action||o,{preventScrollReset:r.preventScrollReset,formData:m,body:g,formMethod:r.method||d,formEncType:r.encType||h,flushSync:r.flushSync})}else await s.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:m,body:g,formMethod:r.method||d,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:a,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,t,a])}function _S(s,{relative:t}={}){let{basename:a}=R.useContext(an),i=R.useContext(An);Le(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...tl(s||".",{relative:t})},d=Ls();if(s==null){o.search=d.search;let h=new URLSearchParams(o.search),m=h.getAll("index");if(m.some(x=>x==="")){h.delete("index"),m.filter(b=>b).forEach(b=>h.append("index",b));let x=h.toString();o.search=x?`?${x}`:""}}return(!s||s===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:Tn([a,o.pathname])),$i(o)}function NS(s,{relative:t}={}){let a=R.useContext(gb);Le(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Sb("useViewTransitionState"),r=tl(s,{relative:t});if(!a.isTransitioning)return!1;let o=En(a.currentLocation.pathname,i)||a.currentLocation.pathname,d=En(a.nextLocation.pathname,i)||a.nextLocation.pathname;return Gr(r.pathname,d)!=null||Gr(r.pathname,o)!=null}const SS=()=>u.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[u.jsxs("nav",{className:"mb-6 flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"資料品質與前處理互動教學"}),u.jsx(is,{to:"/feature-engineering",className:"text-blue-600 hover:underline text-sm",children:"➤ 前往特徵工程教學分頁"}),u.jsx(is,{to:"/deep-learning",className:"text-blue-600 hover:underline text-sm",children:"➤ 前往深度學習教學分頁"})]}),u.jsxs("div",{className:"space-y-10",children:[u.jsx(K_,{}),u.jsx(Z_,{}),u.jsx(W_,{}),u.jsx($_,{}),u.jsx(J_,{}),u.jsx(eN,{})]})]}),MS=[{name:"Alice",age:25,income:5e4,views:10,duration:300,region:"North",signup:1e3,lastVisit:1100},{name:"Bob",age:40,income:8e4,views:5,duration:100,region:"South",signup:900,lastVisit:950},{name:"Charlie",age:22,income:3e4,views:8,duration:240,region:"North",signup:1200,lastVisit:1250},{name:"Dana",age:35,income:7e4,views:12,duration:360,region:"East",signup:800,lastVisit:880}],TS=()=>{const[s,t]=R.useState("ratio"),a={North:4e4,South:6e4,East:5e4},i=MS.map(d=>{let h;return s==="ratio"?h=(d.duration/d.views).toFixed(1):s==="group"?h=d.income-a[d.region]:s==="time"&&(h=d.lastVisit-d.signup),{...d,derived:h}}),r=s==="ratio"?88:s==="group"?90:87,o={ratio:{label:"平均停留時間 = 停留時間 ÷ 瀏覽次數",explain:"衡量使用者每次瀏覽的參與程度，適合行為分析任務。"},group:{label:"地區收入偏差 = 個人收入 − 地區平均收入",explain:"反映使用者在群體中的相對位置，適合社會經濟分析。"},time:{label:"活躍週期 = 最後瀏覽時間 − 註冊時間",explain:"衡量使用者活躍程度，適合流失預測任務。"}};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-feature-creation",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"特徵創造模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否會購買產品。請選擇特徵創造方式，觀察衍生特徵與模型準確率的變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇創造方式："}),u.jsxs("select",{value:s,onChange:d=>t(d.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"ratio",children:"比例特徵（平均停留時間）"}),u.jsx("option",{value:"group",children:"群組統計（地區收入偏差）"}),u.jsx("option",{value:"time",children:"時間差（活躍週期）"})]})]}),u.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["模擬預測準確率：",u.jsxs("strong",{children:[r,"%"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"資料表格（含衍生特徵）"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1",children:"年齡"}),u.jsx("th",{className:"border px-2 py-1",children:"收入"}),u.jsx("th",{className:"border px-2 py-1",children:"瀏覽次數"}),u.jsx("th",{className:"border px-2 py-1",children:"停留時間"}),u.jsx("th",{className:"border px-2 py-1",children:"地區"}),u.jsx("th",{className:"border px-2 py-1",children:"註冊時間"}),u.jsx("th",{className:"border px-2 py-1",children:"最後瀏覽"}),u.jsx("th",{className:"border px-2 py-1 text-blue-600",children:"衍生特徵"})]})}),u.jsx("tbody",{children:i.map((d,h)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:d.name}),u.jsx("td",{className:"border px-2 py-1",children:d.age}),u.jsx("td",{className:"border px-2 py-1",children:d.income}),u.jsx("td",{className:"border px-2 py-1",children:d.views}),u.jsx("td",{className:"border px-2 py-1",children:d.duration}),u.jsx("td",{className:"border px-2 py-1",children:d.region}),u.jsx("td",{className:"border px-2 py-1",children:d.signup}),u.jsx("td",{className:"border px-2 py-1",children:d.lastVisit}),u.jsx("td",{className:"border px-2 py-1 text-blue-600 font-medium",children:d.derived})]},h))})]})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 特徵創造邏輯與公式"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-sm mb-2",children:o[s].label}),u.jsx("p",{className:"text-gray-600",children:o[s].explain}),u.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-1",children:[u.jsx("li",{children:"特徵創造應基於任務邏輯與資料理解"}),u.jsx("li",{children:"避免重複或無意義的衍生欄位"}),u.jsx("li",{children:"創造後應搭配視覺化與模型驗證"})]})]})]})},Pu=[{name:"Alice",level:"Gold",purchased:1},{name:"Bob",level:"Silver",purchased:0},{name:"Charlie",level:"Bronze",purchased:0},{name:"Dana",level:"Gold",purchased:1}],ES=()=>{const s={};Pu.forEach(r=>{s[r.level]||(s[r.level]=[]),s[r.level].push(r.purchased)});const t={};Object.entries(s).forEach(([r,o])=>{const d=o.reduce((h,m)=>h+m,0)/o.length;t[r]=parseFloat(d.toFixed(2))});const a=Pu.map(r=>({name:r.name,level:r.level,encoded:t[r.level],purchased:r.purchased}));return u.jsxs("div",{className:"p-4 bg-white rounded shadow mt-10",id:"module-target-origin",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",children:"Target Encoding 來源模擬器"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-lg font-semibold mb-2",children:"原始資料"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1",children:"會員等級"}),u.jsx("th",{className:"border px-2 py-1",children:"是否購買"})]})}),u.jsx("tbody",{children:Pu.map((r,o)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:r.name}),u.jsx("td",{className:"border px-2 py-1",children:r.level}),u.jsx("td",{className:"border px-2 py-1",children:r.purchased})]},o))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-lg font-semibold mb-2",children:"編碼對照表（平均購買率）"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"會員等級"}),u.jsx("th",{className:"border px-2 py-1",children:"平均 purchased"}),u.jsx("th",{className:"border px-2 py-1",children:"編碼值"})]})}),u.jsx("tbody",{children:Object.entries(t).map(([r,o])=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:r}),u.jsx("td",{className:"border px-2 py-1",children:o}),u.jsx("td",{className:"border px-2 py-1 text-blue-600 font-medium",children:o})]},r))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-lg font-semibold mb-2",children:"編碼後資料"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1",children:"原始等級"}),u.jsx("th",{className:"border px-2 py-1",children:"編碼值"}),u.jsx("th",{className:"border px-2 py-1",children:"是否購買"})]})}),u.jsx("tbody",{children:a.map((r,o)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:r.name}),u.jsx("td",{className:"border px-2 py-1",children:r.level}),u.jsx("td",{className:"border px-2 py-1 text-blue-600",children:r.encoded}),u.jsx("td",{className:"border px-2 py-1",children:r.purchased})]},o))})]})]}),u.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["模擬預測準確率：",u.jsxs("strong",{children:[90,"%"]})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h4",{className:"text-lg font-semibold mb-2",children:"📘 Target Encoding 是怎麼來的？"}),u.jsx("p",{children:"每個類別的編碼值是根據該類別的「平均購買率」計算出來的。例如："}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 mt-2",children:[u.jsx("li",{children:"Gold：purchased = [1, 1] → 平均 = 1.0 → 編碼值 = 1.0"}),u.jsx("li",{children:"Silver：purchased = [0] → 平均 = 0.0 → 編碼值 = 0.0"}),u.jsx("li",{children:"Bronze：purchased = [0] → 平均 = 0.0 → 編碼值 = 0.0"})]}),u.jsx("p",{className:"mt-2",children:"這個編碼值代表「該類別的平均表現」，模型可以用這個資訊來預測新資料。"}),u.jsx("h4",{className:"text-lg font-semibold mt-6 mb-2",children:"📘 為什麼需要交叉驗證？"}),u.jsx("p",{children:"如果直接用整份資料來算平均，模型可能「偷看答案」，導致過擬合。交叉驗證的做法是：將資料分組，每次只用其他組的資料來算平均值，不能用自己那組。這樣模型才不會作弊，能真實學習類別的影響力。"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"比喻：就像考試時不能看答案寫作文。交叉驗證就是「先遮住答案，再練習」，讓模型學得更扎實。"})]})]})},Yu=[{name:"Alice",gender:"Female",region:"North",level:"Gold",purchased:1},{name:"Bob",gender:"Male",region:"South",level:"Silver",purchased:0},{name:"Charlie",gender:"Other",region:"East",level:"Bronze",purchased:0},{name:"Dana",gender:"Female",region:"North",level:"Gold",purchased:1}],AS=()=>{const[s,t]=R.useState("onehot"),i=(()=>{if(s==="onehot")return Yu.map(d=>({name:d.name,gender_F:d.gender==="Female"?1:0,gender_M:d.gender==="Male"?1:0,gender_O:d.gender==="Other"?1:0,region_N:d.region==="North"?1:0,region_S:d.region==="South"?1:0,region_E:d.region==="East"?1:0,level_G:d.level==="Gold"?1:0,level_S:d.level==="Silver"?1:0,level_B:d.level==="Bronze"?1:0,purchased:d.purchased}));if(s==="label"){const d={Female:0,Male:1,Other:2},h={North:0,South:1,East:2},m={Bronze:0,Silver:1,Gold:2};return Yu.map(g=>({name:g.name,gender:d[g.gender],region:h[g.region],level:m[g.level],purchased:g.purchased}))}else{const d={Bronze:0,Silver:0,Gold:1};return Yu.map(h=>({name:h.name,gender:h.gender==="Female"?.8:h.gender==="Male"?.2:.5,region:h.region==="North"?.9:h.region==="South"?.3:.4,level:d[h.level],purchased:h.purchased}))}})(),r=Object.keys(i[0]).length,o=s==="onehot"?88:s==="label"?85:90;return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-category-encoding",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"類別特徵編碼器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否會購買產品。請選擇編碼方式，觀察資料結構與模型準確率的變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇編碼方式："}),u.jsxs("select",{value:s,onChange:d=>t(d.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"onehot",children:"One-hot Encoding"}),u.jsx("option",{value:"label",children:"Label Encoding"}),u.jsx("option",{value:"target",children:"Target Encoding"})]})]}),u.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:["模擬預測準確率：",u.jsxs("strong",{children:[o,"%"]})]}),u.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["編碼後欄位數：",u.jsx("strong",{children:r})]}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm mb-6",children:[u.jsx("thead",{children:u.jsx("tr",{className:"bg-gray-200",children:Object.keys(i[0]).map(d=>u.jsx("th",{className:"border px-2 py-1 text-left",children:d},d))})}),u.jsx("tbody",{children:i.map((d,h)=>u.jsx("tr",{className:"hover:bg-gray-50",children:Object.values(d).map((m,g)=>u.jsx("td",{className:"border px-2 py-1",children:m},g))},h))})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 編碼策略說明"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[s==="onehot"&&u.jsxs("li",{children:[u.jsx("strong",{children:"One-hot Encoding："}),"把每個類別變成一個欄位，只有對應的欄位是 1，其餘是 0。就像「打勾勾」：你是女生 → gender_Female = 1，其它性別欄位都是 0。適合無序類別與線性模型，但類別太多時欄位會爆炸。"]}),s==="label"&&u.jsxs("li",{children:[u.jsx("strong",{children:"Label Encoding："}),"把每個類別用一個整數代表：女生 = 0，男生 = 1，其他 = 2。就像「編號貼紙」，簡單但可能讓模型誤以為類別有大小順序。適合有序類別。"]}),s==="target"&&u.jsxs(u.Fragment,{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Target Encoding："}),"根據每個類別的「平均結果」來編碼，例如：Gold 會員平均購買率是 0.8 → Gold = 0.8。就像「根據表現打分數」，適合類別很多的欄位，但容易過擬合。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"為什麼需要交叉驗證？"}),"如果直接用整份資料的平均值來編碼，模型可能「偷看答案」，導致過擬合。交叉驗證的做法是：將資料分組，每次只用其他組的資料來算平均值，不能用自己那組。這樣模型才能真實學習，不會作弊。"]}),u.jsx("li",{className:"text-xs text-gray-500",children:"比喻：就像考試時不能看答案寫作文。交叉驗證就是「先遮住答案，再練習」，讓模型學得更扎實。"})]})]}),u.jsx("div",{className:"mt-4",children:u.jsx(ES,{})})]})]})},Cr=[{name:"Alice",age:25},{name:"Bob",age:40},{name:"Charlie",age:22},{name:"Dana",age:35},{name:"Eve",age:60}],DS=()=>{const[s,t]=R.useState("standard"),a=Cr.map(v=>v.age),i=Math.min(...a),r=Math.max(...a),o=a.reduce((v,j)=>v+j,0)/a.length,d=Math.sqrt(a.reduce((v,j)=>v+Math.pow(j-o,2),0)/a.length),m=s==="standard"?Cr.map(v=>({...v,transformed:parseFloat(((v.age-o)/d).toFixed(2))})):s==="normalize"?Cr.map(v=>({...v,transformed:parseFloat(((v.age-i)/(r-i)).toFixed(2))})):Cr.map(v=>({...v,transformed:v.age<30?"青年":v.age<=50?"中年":"老年"})),g=s==="standard"?88:s==="normalize"?90:85,x={labels:m.map(v=>v.name),datasets:[{label:"轉換後數值",data:m.map(v=>typeof v.transformed=="number"?v.transformed:0),backgroundColor:"#60a5fa"}]},b={standard:{label:"標準化公式：Z = (X - μ) / σ",explain:"將資料轉換為平均為 0、標準差為 1，適合常態分布資料與線性模型。"},normalize:{label:"正規化公式：X' = (X - Xmin) / (Xmax - Xmin)",explain:"將資料壓縮到 [0, 1] 區間，適合距離敏感模型如 KNN、神經網路。"},binning:{label:"分箱策略：青年 <30、中年 30–50、老年 >50",explain:"將連續數值轉為區間類別，有助於提升模型解釋力或處理非線性關係。"}};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-numeric-transform",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"數值特徵轉換器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。請選擇數值轉換方式，觀察資料分布與模型準確率的變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇轉換方式："}),u.jsxs("select",{value:s,onChange:v=>t(v.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"standard",children:"標準化（Standardization）"}),u.jsx("option",{value:"normalize",children:"正規化（Normalization）"}),u.jsx("option",{value:"binning",children:"分箱（Binning）"})]})]}),u.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["模擬預測準確率：",u.jsxs("strong",{children:[g,"%"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"資料表格（含轉換後欄位）"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1",children:"原始年齡"}),u.jsx("th",{className:"border px-2 py-1 text-blue-600",children:"轉換後"})]})}),u.jsx("tbody",{children:m.map((v,j)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:v.name}),u.jsx("td",{className:"border px-2 py-1",children:v.age}),u.jsx("td",{className:"border px-2 py-1 text-blue-600 font-medium",children:v.transformed})]},j))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"數值分布視覺化"}),u.jsx(At,{data:x}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"若為分箱，圖表僅顯示 0（類別）作為視覺佔位。"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 數值轉換公式與用途"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-sm mb-2",children:b[s].label}),u.jsx("p",{className:"text-gray-600",children:b[s].explain}),u.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-1",children:[u.jsx("li",{children:"轉換方式應根據模型特性與資料分布選擇"}),u.jsx("li",{children:"標準化適合常態資料，正規化適合距離敏感模型"}),u.jsx("li",{children:"分箱可提升解釋力，但可能損失細節"})]})]})]})},wr=[{name:"Alice",usage:120},{name:"Bob",usage:300},{name:"Charlie",usage:80},{name:"Dana",usage:500},{name:"Eve",usage:1e3}],OS=()=>{const[s,t]=R.useState("standard"),a=wr.map(U=>U.usage),i=Math.min(...a),r=Math.max(...a),o=a.reduce((U,B)=>U+B,0)/a.length,d=Math.sqrt(a.reduce((U,B)=>U+Math.pow(B-o,2),0)/a.length),h=[...a].sort((U,B)=>U-B),m=h[Math.floor(h.length/2)],g=h[Math.floor(h.length/4)],b=h[Math.floor(h.length*3/4)]-g,j=s==="standard"?wr.map(U=>({...U,scaled:parseFloat(((U.usage-o)/d).toFixed(2))})):s==="minmax"?wr.map(U=>({...U,scaled:parseFloat(((U.usage-i)/(r-i)).toFixed(2))})):wr.map(U=>({...U,scaled:parseFloat(((U.usage-m)/b).toFixed(2))})),S={labels:j.map(U=>U.name),datasets:[{label:"縮放後數值",data:j.map(U=>U.scaled),backgroundColor:"#34d399"}]},N={standard:{accuracy:88,precision:85,recall:90},minmax:{accuracy:90,precision:87,recall:92},robust:{accuracy:89,precision:88,recall:89}},M={standard:{label:"標準化公式：Z = (X - μ) / σ",explain:"將資料轉換為平均為 0、標準差為 1，適合常態分布資料與線性模型。"},minmax:{label:"正規化公式：X' = (X - Xmin) / (Xmax - Xmin)",explain:"將資料壓縮到 [0, 1] 區間，適合距離敏感模型如 KNN、神經網路。"},robust:{label:"Robust Scaler：X' = (X - median) / IQR",explain:"使用中位數與四分位距，對異常值不敏感，適合有極端值的資料集。"}},{accuracy:E,precision:C,recall:V}=N[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-feature-scaling",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"特徵縮放模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。請選擇特徵縮放方式，觀察資料分布與模型效能的變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇縮放方式："}),u.jsxs("select",{value:s,onChange:U=>t(U.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"standard",children:"StandardScaler（標準化）"}),u.jsx("option",{value:"minmax",children:"MinMaxScaler（正規化）"}),u.jsx("option",{value:"robust",children:"RobustScaler（中位數縮放）"})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[u.jsxs("p",{children:["模擬預測準確率：",u.jsxs("strong",{children:[E,"%"]})]}),u.jsxs("p",{children:["Precision：",C,"% Recall：",V,"%"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"資料表格（含縮放後欄位）"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1",children:"原始使用時間"}),u.jsx("th",{className:"border px-2 py-1 text-green-600",children:"縮放後"})]})}),u.jsx("tbody",{children:j.map((U,B)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:U.name}),u.jsx("td",{className:"border px-2 py-1",children:U.usage}),u.jsx("td",{className:"border px-2 py-1 text-green-600 font-medium",children:U.scaled})]},B))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"數值分布視覺化"}),u.jsx(At,{data:S}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"可觀察不同縮放方式對極端值的影響。"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 縮放公式與適用情境"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-sm mb-2",children:M[s].label}),u.jsx("p",{className:"text-gray-600",children:M[s].explain}),u.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-1",children:[u.jsx("li",{children:"標準化適合常態資料，正規化適合距離敏感模型"}),u.jsx("li",{children:"RobustScaler 對異常值不敏感，適合有極端值的資料集"}),u.jsx("li",{children:"縮放前應先分析資料分布與模型特性"})]})]}),u.jsxs("div",{className:"mt-8 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 模組定位比較：數值特徵轉換 vs 特徵縮放"}),u.jsxs("table",{className:"table-auto border-collapse border text-sm mb-4",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-3 py-2",children:"模組名稱"}),u.jsx("th",{className:"border px-3 py-2",children:"教學焦點"}),u.jsx("th",{className:"border px-3 py-2",children:"操作方式"}),u.jsx("th",{className:"border px-3 py-2",children:"適用模型"}),u.jsx("th",{className:"border px-3 py-2",children:"教學目的"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"border px-3 py-2",children:"數值特徵轉換器"}),u.jsx("td",{className:"border px-3 py-2",children:"型態轉換與表現形式"}),u.jsx("td",{className:"border px-3 py-2",children:"標準化、正規化、分箱"}),u.jsx("td",{className:"border px-3 py-2",children:"線性模型、KNN、樹模型"}),u.jsx("td",{className:"border px-3 py-2",children:"理解轉換邏輯與資料分布影響"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border px-3 py-2",children:"特徵縮放模擬器"}),u.jsx("td",{className:"border px-3 py-2",children:"尺度調整與異常值敏感度"}),u.jsx("td",{className:"border px-3 py-2",children:"StandardScaler、MinMaxScaler、RobustScaler"}),u.jsx("td",{className:"border px-3 py-2",children:"SVM、KNN、神經網路"}),u.jsx("td",{className:"border px-3 py-2",children:"體驗縮放對模型效能與異常值影響"})]})]})]}),u.jsx("h4",{className:"text-md font-semibold mb-2",children:"📌 差異重點解析"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"教學焦點不同："}),"轉換器強調「數值表現形式」，縮放器強調「尺度調整與模型敏感性」。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"操作邏輯不同："}),"轉換器偏向型態轉換（如分箱），縮放器偏向數值壓縮與異常值處理。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"模型依賴性不同："}),"縮放器更適合距離敏感模型（如 KNN、SVM），轉換器則適用更廣泛。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"教學搭配建議："}),"可先使用轉換器建立概念，再用縮放器深入模型效能與資料分布的關係。"]})]})]})]})},RS=({features:s=[],selected:t=[]})=>{const a={labels:s.map(r=>r.name),datasets:[{label:"特徵重要性分數",data:s.map(r=>r.relevance),backgroundColor:s.map(r=>t.includes(r.name)?"#3b82f6":"#d1d5db")}]},i={scales:{y:{beginAtZero:!0,max:1}},plugins:{legend:{display:!1}}};return u.jsxs("div",{className:"mt-8",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 特徵重要性視覺化"}),u.jsx(At,{data:a,options:i}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"藍色代表已選入的特徵，灰色代表未選入。分數越高，代表與目標變數關聯越強。"})]})},Mb=({method:s})=>{const a={filter:[.84,.85,.86,.83,.87],wrapper:[.89,.91,.9,.92,.88],embedded:[.87,.88,.89,.86,.88]}[s],i=(a.reduce((h,m)=>h+m,0)/a.length).toFixed(2),r=Math.sqrt(a.reduce((h,m)=>h+Math.pow(m-i,2),0)/a.length).toFixed(2),o={labels:["Fold 1","Fold 2","Fold 3","Fold 4","Fold 5"],datasets:[{label:"準確率",data:a,borderColor:"#10b981",backgroundColor:"#d1fae5",fill:!1,tension:.3}]},d={scales:{y:{beginAtZero:!0,max:1}},plugins:{legend:{display:!1}}};return u.jsxs("div",{className:"mt-10",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["🔁 交叉驗證模擬（",s," 方法）"]}),u.jsx(Da,{data:o,options:d}),u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["平均準確率：",u.jsx("strong",{children:i})," 標準差：",u.jsx("strong",{children:r})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"模型效能在不同資料切分下可能波動。標準差越小，代表方法越穩定。"})]})},Ip=[{name:"年齡",relevance:.6},{name:"使用時間",relevance:.9},{name:"互動次數",relevance:.8},{name:"地區",relevance:.3},{name:"會員等級",relevance:.7}],Tb=()=>{const[s,t]=R.useState([]),[a,i]=R.useState([]),r=m=>{t(g=>g.includes(m)?g.filter(x=>x!==m):[...g,m])},o=()=>{const m=s.map(v=>Ip.find(j=>j.name===v)?.relevance||0).reduce((v,j)=>v+j,0),g=Math.min(95,80+m*3).toFixed(1),x=Math.min(95,78+m*2.5).toFixed(1),b=Math.min(95,76+m*2.8).toFixed(1);return{accuracy:g,precision:x,recall:b}},d=()=>{const m=o();i(g=>[...g,{features:[...s],...m}])},h=o();return u.jsxs("div",{className:"mt-10",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔗 特徵組合比較器"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("p",{className:"text-sm text-gray-700 mb-2",children:"請選擇任意特徵組合："}),u.jsx("div",{className:"flex flex-wrap gap-3",children:Ip.map(m=>u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:s.includes(m.name),onChange:()=>r(m.name)}),u.jsx("span",{className:"text-sm",children:m.name})]},m.name))})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[u.jsxs("p",{children:["模擬準確率：",u.jsxs("strong",{children:[h.accuracy,"%"]})]}),u.jsxs("p",{children:["Precision：",h.precision,"% Recall：",h.recall,"%"]}),u.jsx("button",{onClick:d,className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-sm",disabled:s.length===0,children:"儲存組合"})]}),a.length>0&&u.jsxs("div",{className:"mt-6",children:[u.jsx("h4",{className:"text-md font-semibold mb-2",children:"已儲存組合比較"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"特徵組合"}),u.jsx("th",{className:"border px-2 py-1",children:"準確率"}),u.jsx("th",{className:"border px-2 py-1",children:"Precision"}),u.jsx("th",{className:"border px-2 py-1",children:"Recall"})]})}),u.jsx("tbody",{children:a.map((m,g)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:m.features.join(", ")}),u.jsxs("td",{className:"border px-2 py-1",children:[m.accuracy,"%"]}),u.jsxs("td",{className:"border px-2 py-1",children:[m.precision,"%"]}),u.jsxs("td",{className:"border px-2 py-1",children:[m.recall,"%"]})]},g))})]})]})]})},ex={年齡:{indicator:"Pearson correlation = 0.6",modelImpact:"移除後準確率下降 2%",businessMeaning:"年齡越高，使用者可能更保守，流失風險略高。"},使用時間:{indicator:"Mutual Information = 0.9",modelImpact:"移除後準確率下降 5%",businessMeaning:"使用時間代表黏著度，是流失預測的核心特徵。"},互動次數:{indicator:"Chi-square score = 0.8",modelImpact:"移除後準確率下降 4%",businessMeaning:"互動次數代表參與度，低互動可能是流失前兆。"},地區:{indicator:"ANOVA F-score = 0.3",modelImpact:"移除後準確率幾乎不變",businessMeaning:"地區差異對流失影響不大，可視為次要特徵。"},會員等級:{indicator:"Entropy gain = 0.7",modelImpact:"移除後準確率下降 3%",businessMeaning:"高等級會員通常更穩定，流失風險較低。"}},Eb=()=>{const[s,t]=R.useState("使用時間"),a=ex[s];return u.jsxs("div",{className:"mt-10",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 特徵意義解釋面板"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-2",children:"選擇特徵："}),u.jsx("select",{value:s,onChange:i=>t(i.target.value),className:"border px-2 py-1 rounded",children:Object.keys(ex).map(i=>u.jsx("option",{value:i,children:i},i))})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded text-sm text-gray-700 space-y-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"📊 統計指標："}),a.indicator]}),u.jsxs("p",{children:[u.jsx("strong",{children:"🧠 模型貢獻："}),a.modelImpact]}),u.jsxs("p",{children:[u.jsx("strong",{children:"💼 業務語意："}),a.businessMeaning]})]})]})},qu=[{name:"年齡",type:"數值",relevance:.6,source:"Pearson correlation"},{name:"使用時間",type:"數值",relevance:.9,source:"Mutual Information"},{name:"互動次數",type:"數值",relevance:.8,source:"Chi-square score"},{name:"地區",type:"類別",relevance:.3,source:"ANOVA F-score"},{name:"會員等級",type:"類別",relevance:.7,source:"Entropy gain"}],CS=()=>{const[s,t]=R.useState("filter"),a={filter:qu.sort((m,g)=>g.relevance-m.relevance).slice(0,3).map(m=>m.name),wrapper:["使用時間","互動次數","會員等級"],embedded:["使用時間","會員等級"]},i={filter:{accuracy:85,precision:82,recall:88},wrapper:{accuracy:90,precision:89,recall:91},embedded:{accuracy:88,precision:87,recall:89}},r={filter:{label:"Filter 方法：根據統計指標（如相關係數、卡方）獨立評估每個特徵",explain:"快速、模型無關，但可能忽略特徵間的交互作用。"},wrapper:{label:"Wrapper 方法：使用模型反覆測試不同特徵組合（如遞迴特徵消除）",explain:"考慮特徵組合與模型效能，但計算成本高。"},embedded:{label:"Embedded 方法：特徵選擇嵌入模型訓練過程（如 Lasso、決策樹）",explain:"效率高、模型相容性強，但依賴特定模型結構。"}},{accuracy:o,precision:d,recall:h}=i[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-feature-selection",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"特徵選擇模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。請選擇特徵選擇方法，觀察選出特徵與模型效能的變化。"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"原始特徵清單"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"特徵名稱"}),u.jsx("th",{className:"border px-2 py-1",children:"型態"}),u.jsx("th",{className:"border px-2 py-1",children:"相關性分數"}),u.jsx("th",{className:"border px-2 py-1",children:"指標來源"})]})}),u.jsx("tbody",{children:qu.map((m,g)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:m.name}),u.jsx("td",{className:"border px-2 py-1",children:m.type}),u.jsx("td",{className:"border px-2 py-1",children:m.relevance}),u.jsx("td",{className:"border px-2 py-1",children:m.source})]},g))})]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇方法："}),u.jsxs("select",{value:s,onChange:m=>t(m.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"filter",children:"Filter（統計指標）"}),u.jsx("option",{value:"wrapper",children:"Wrapper（模型測試）"}),u.jsx("option",{value:"embedded",children:"Embedded（模型內建）"})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[u.jsxs("p",{children:["模擬預測準確率：",u.jsxs("strong",{children:[o,"%"]})]}),u.jsxs("p",{children:["Precision：",d,"% Recall：",h,"%"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["選出特徵（",s," 方法）"]}),u.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a[s].map(m=>u.jsx("li",{className:"text-blue-600 font-medium",children:m},m))})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 方法邏輯與比較"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-sm mb-2",children:r[s].label}),u.jsx("p",{className:"text-gray-600 mb-4",children:r[s].explain}),u.jsxs("table",{className:"table-auto border-collapse border text-sm mb-4",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-3 py-2",children:"方法"}),u.jsx("th",{className:"border px-3 py-2",children:"邏輯"}),u.jsx("th",{className:"border px-3 py-2",children:"優點"}),u.jsx("th",{className:"border px-3 py-2",children:"缺點"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"border px-3 py-2",children:"Filter"}),u.jsx("td",{className:"border px-3 py-2",children:"統計指標獨立評估"}),u.jsx("td",{className:"border px-3 py-2",children:"快速、模型無關"}),u.jsx("td",{className:"border px-3 py-2",children:"忽略特徵交互作用"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border px-3 py-2",children:"Wrapper"}),u.jsx("td",{className:"border px-3 py-2",children:"模型反覆測試組合"}),u.jsx("td",{className:"border px-3 py-2",children:"考慮特徵組合與效能"}),u.jsx("td",{className:"border px-3 py-2",children:"計算成本高"})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"border px-3 py-2",children:"Embedded"}),u.jsx("td",{className:"border px-3 py-2",children:"嵌入模型訓練過程"}),u.jsx("td",{className:"border px-3 py-2",children:"效率高、模型相容性強"}),u.jsx("td",{className:"border px-3 py-2",children:"依賴特定模型結構"})]})]})]}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsx("li",{children:"特徵選擇 ≠ 特徵刪除，而是提升模型表達力與泛化能力"}),u.jsx("li",{children:"Filter 適合初步篩選，Wrapper 適合精細優化，Embedded 適合模型整合"}),u.jsx("li",{children:"可搭配特徵重要性分析模組進行交叉驗證與視覺化"})]})]}),u.jsx(RS,{features:qu,selected:a[s]}),u.jsx(Mb,{method:s}),u.jsx(Tb,{}),u.jsx(Eb,{})]})},tx=[{name:"Alice",features:[.2,.8,.5,.1,.6]},{name:"Bob",features:[.9,.4,.7,.3,.2]},{name:"Charlie",features:[.3,.6,.4,.2,.5]},{name:"Dana",features:[.8,.7,.9,.6,.3]},{name:"Eve",features:[.1,.2,.3,.9,.8]}],Ab=({method:s="pca"})=>{const[t,a]=R.useState("Alice"),i=d=>{const[h,m,g,x,b]=d;return s==="pca"?{x:(h*.5+m*.3+g*.2).toFixed(2),y:(x*.6+b*.4).toFixed(2),meaning:"此投影代表使用者在「活躍度」與「黏著度」上的綜合表現。"}:s==="lda"?{x:(h*.4+g*.4+b*.2).toFixed(2),y:(m*.5+x*.5).toFixed(2),meaning:"此投影代表使用者在「流失 vs 留存」分類軸上的位置。"}:{x:Math.tanh(h+m-g).toFixed(2),y:Math.tanh(x-b).toFixed(2),meaning:"此投影代表使用者的隱性行為特徵（非線性壓縮結果）。"}},r=tx.find(d=>d.name===t),o=i(r.features);return u.jsxs("div",{className:"mt-10",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 特徵投影解釋器"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-2",children:"選擇資料點："}),u.jsx("select",{value:t,onChange:d=>a(d.target.value),className:"border px-2 py-1 rounded",children:tx.map(d=>u.jsx("option",{value:d.name,children:d.name},d.name))})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded text-sm text-gray-700 space-y-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"原始特徵："}),r.features.join(", ")]}),u.jsxs("p",{children:[u.jsx("strong",{children:"降維後位置："}),"X = ",o.x,", Y = ",o.y]}),u.jsxs("p",{children:[u.jsx("strong",{children:"語意解釋："}),o.meaning]})]})]})},wS=[{name:"Alice",features:[.2,.8,.5,.1,.6]},{name:"Bob",features:[.9,.4,.7,.3,.2]},{name:"Charlie",features:[.3,.6,.4,.2,.5]},{name:"Dana",features:[.8,.7,.9,.6,.3]},{name:"Eve",features:[.1,.2,.3,.9,.8]}],zS=()=>{const[s,t]=R.useState("pca"),i=wS.map((b,v)=>{const[j,S,N,M,E]=b.features;let C,V;return s==="pca"?(C=j*.5+S*.3+N*.2,V=M*.6+E*.4):s==="lda"?(C=j*.4+N*.4+E*.2,V=S*.5+M*.5):(C=Math.tanh(j+S-N),V=Math.tanh(M-E)),{name:b.name,x:parseFloat(C.toFixed(2)),y:parseFloat(V.toFixed(2))}}),r={pca:{accuracy:87,precision:85,recall:88},lda:{accuracy:90,precision:89,recall:91},autoencoder:{accuracy:88,precision:87,recall:89}},o={pca:{label:"PCA（主成分分析）",explain:"找出資料中變異性最大的方向，進行無監督降維。適合資料壓縮與視覺化。"},lda:{label:"LDA（線性判別分析）",explain:"找出能最大區分類別的方向，進行有監督降維。適合分類任務。"},autoencoder:{label:"Autoencoder（自編碼器）",explain:"使用神經網路將資料壓縮並重建，中間層即為提取特徵。適合非線性降維。"}},d={datasets:[{label:"提取後特徵分布",data:i.map(b=>({x:b.x,y:b.y})),backgroundColor:"#6366f1"}]},h={scales:{x:{title:{display:!0,text:"特徵 1"}},y:{title:{display:!0,text:"特徵 2"}}},plugins:{legend:{display:!1}}},{accuracy:m,precision:g,recall:x}=r[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-feature-extraction",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"特徵提取模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。請選擇特徵提取方法，觀察降維後特徵與模型效能的變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇提取方法："}),u.jsxs("select",{value:s,onChange:b=>t(b.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"pca",children:"PCA（主成分分析）"}),u.jsx("option",{value:"lda",children:"LDA（線性判別分析）"}),u.jsx("option",{value:"autoencoder",children:"Autoencoder（自編碼器）"})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[u.jsxs("p",{children:["模擬準確率：",u.jsxs("strong",{children:[m,"%"]})]}),u.jsxs("p",{children:["Precision：",g,"% Recall：",x,"%"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"降維後特徵資料"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1",children:"特徵 1"}),u.jsx("th",{className:"border px-2 py-1",children:"特徵 2"})]})}),u.jsx("tbody",{children:i.map((b,v)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:b.name}),u.jsx("td",{className:"border px-2 py-1",children:b.x}),u.jsx("td",{className:"border px-2 py-1",children:b.y})]},v))})]})]}),u.jsx(Ab,{method:s}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"特徵分布視覺化"}),u.jsx(bd,{data:d,options:h}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"模擬將原始 5 維資料降至 2 維後的分布。不同方法會產生不同的投影方向。"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 提取邏輯與適用情境"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-sm mb-2",children:o[s].label}),u.jsx("p",{className:"text-gray-600",children:o[s].explain}),u.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-1",children:[u.jsx("li",{children:"特徵提取是創造新特徵，不是刪除舊特徵"}),u.jsx("li",{children:"PCA 適合無監督降維，LDA 適合分類任務，Autoencoder 適合非線性結構"}),u.jsx("li",{children:"降維後可提升模型效率與視覺化效果，但可能損失部分資訊"})]})]}),u.jsxs("div",{className:"mt-10 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"📘 特徵提取方法的數學模型與語意解釋"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-md font-semibold mb-2",children:"1️⃣ PCA（主成分分析）"}),u.jsx("p",{className:"mb-1 font-medium",children:"📘 數學模型簡述："}),u.jsxs("ul",{className:"list-disc pl-5 mb-2",children:[u.jsx("li",{children:"給定資料矩陣 X（n × d），對每個特徵做中心化（去平均）"}),u.jsxs("li",{children:["計算協方差矩陣：Σ = (1/n) × X",u.jsx("sup",{children:"T"})," × X"]}),u.jsx("li",{children:"對 Σ 做特徵分解，取得特徵向量（主成分）與特徵值（變異量）"}),u.jsx("li",{children:"選擇前 k 個最大特徵值對應的主成分，將資料投影到這些方向上"})]}),u.jsx("p",{className:"mb-1 font-medium",children:"🎯 所擷取出的特徵意義："}),u.jsxs("ul",{className:"list-disc pl-5 mb-2",children:[u.jsx("li",{children:"每個主成分是原始特徵的線性組合"}),u.jsx("li",{children:"第一主成分代表資料中變異性最大的方向"}),u.jsx("li",{children:"第二主成分代表與第一主成分正交、次大變異性的方向"}),u.jsx("li",{children:"主成分本身沒有語意，但能捕捉資料的主要結構"})]}),u.jsx("p",{className:"text-gray-600 text-sm",children:"🧠 比喻：就像你在看一堆照片，PCA 幫你找到「最能區分照片差異的角度」，然後把所有照片都投影到那個角度上。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-md font-semibold mb-2",children:"2️⃣ LDA（線性判別分析）"}),u.jsx("p",{className:"mb-1 font-medium",children:"📘 數學模型簡述："}),u.jsxs("ul",{className:"list-disc pl-5 mb-2",children:[u.jsx("li",{children:"給定資料 X 與類別標籤 y，計算："}),u.jsxs("li",{children:["類別間散布矩陣 S",u.jsx("sub",{children:"B"}),"：類別中心之間的差異"]}),u.jsxs("li",{children:["類別內散布矩陣 S",u.jsx("sub",{children:"W"}),"：類別內部的變異"]}),u.jsxs("li",{children:["最大化判別準則：w",u.jsx("sup",{children:"T"})," S",u.jsx("sub",{children:"B"})," w / w",u.jsx("sup",{children:"T"})," S",u.jsx("sub",{children:"W"})," w"]}),u.jsx("li",{children:"解此廣義特徵值問題，找出能最大區分類別的方向"})]}),u.jsx("p",{className:"mb-1 font-medium",children:"🎯 所擷取出的特徵意義："}),u.jsxs("ul",{className:"list-disc pl-5 mb-2",children:[u.jsx("li",{children:"每個 LDA 軸代表最能區分類別的方向"}),u.jsx("li",{children:"投影後的特徵具有分類語意，例如 LDA1 可能代表「活躍 vs 流失」的分界"}),u.jsx("li",{children:"適合用於監督式分類任務"})]}),u.jsx("p",{className:"text-gray-600 text-sm",children:"🧠 比喻：就像你在分辨貓和狗，LDA 幫你找到「耳朵長度 + 叫聲頻率」這種能清楚分開兩者的特徵組合。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h4",{className:"text-md font-semibold mb-2",children:"3️⃣ Autoencoder（自編碼器）"}),u.jsx("p",{className:"mb-1 font-medium",children:"📘 數學模型簡述："}),u.jsxs("ul",{className:"list-disc pl-5 mb-2",children:[u.jsx("li",{children:"使用神經網路架構："}),u.jsx("li",{children:"Encoder：將原始特徵 x 映射到低維空間 z"}),u.jsx("li",{children:"Decoder：將 z 重建回原始空間 x̂"}),u.jsxs("li",{children:["最小化重建誤差：|x - x̂|",u.jsx("sup",{children:"2"})]}),u.jsx("li",{children:"中間層 z 即為提取後的特徵"})]}),u.jsx("p",{className:"mb-1 font-medium",children:"🎯 所擷取出的特徵意義："}),u.jsxs("ul",{className:"list-disc pl-5 mb-2",children:[u.jsx("li",{children:"每個提取特徵是原始特徵的非線性組合"}),u.jsx("li",{children:"沒有明確語意，但能捕捉資料的深層結構（例如：行為模式、隱性特質）"}),u.jsx("li",{children:"適合用於非線性資料、深度學習場景"})]}),u.jsx("p",{className:"text-gray-600 text-sm",children:"🧠 比喻：就像你讓 AI 看一堆使用者行為，Autoencoder 會自己學出「隱性偏好」、「互動風格」這種抽象特徵。"})]})]})]})},LS=[{name:"Alice",features:[.2,.8,.5,.1,.6,.3,.9,.4,.7,.2]},{name:"Bob",features:[.9,.4,.7,.3,.2,.6,.1,.8,.5,.3]},{name:"Charlie",features:[.3,.6,.4,.2,.5,.7,.2,.9,.1,.4]},{name:"Dana",features:[.8,.7,.9,.6,.3,.5,.4,.2,.6,.1]},{name:"Eve",features:[.1,.2,.3,.9,.8,.6,.5,.7,.4,.3]}],kS=()=>{const[s,t]=R.useState("pca"),a=x=>{const[b,v,j,S,N,M,E,C,V,U]=x;return s==="pca"?{x:(b+v+j+S+N)/5,y:(M+E+C+V+U)/5}:s==="tsne"?{x:Math.sin(b+v+j),y:Math.cos(S+N+M)}:s==="umap"?{x:Math.log(1+b+v+j),y:Math.log(1+S+N+M)}:{x:Math.tanh(b+v-j),y:Math.tanh(S-N+M)}},i=LS.map(x=>{const{x:b,y:v}=a(x.features);return{name:x.name,x:parseFloat(b.toFixed(2)),y:parseFloat(v.toFixed(2))}}),r={pca:{retention:"92%",accuracy:88},tsne:{retention:"不可量化",accuracy:85},umap:{retention:"不可量化",accuracy:87},autoencoder:{retention:"90%",accuracy:89}},o={pca:{label:"PCA（主成分分析）",explain:"找出最大變異方向，進行線性投影。適合資料壓縮與視覺化。"},tsne:{label:"t-SNE（t-分佈鄰近嵌入）",explain:"保留局部距離結構，適合分群視覺化，但無法量化資訊保留率。"},umap:{label:"UMAP（統一流形近似與投影）",explain:"保留拓撲結構，適合高維資料探索與視覺化。"},autoencoder:{label:"Autoencoder（自編碼器）",explain:"使用神經網路壓縮與重建資料，中間層即為降維後特徵。"}},d={datasets:[{label:"降維後資料分布",data:i.map(x=>({x:x.x,y:x.y})),backgroundColor:"#34d399"}]},h={scales:{x:{title:{display:!0,text:"特徵 1"}},y:{title:{display:!0,text:"特徵 2"}}},plugins:{legend:{display:!1}}},{retention:m,accuracy:g}=r[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-dimensionality-reduction",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"降維模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：資料原始維度為 10，請選擇降維方法並觀察資訊保留率與模型效能。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇降維方法："}),u.jsxs("select",{value:s,onChange:x=>t(x.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"pca",children:"PCA（主成分分析）"}),u.jsx("option",{value:"tsne",children:"t-SNE（非線性嵌入）"}),u.jsx("option",{value:"umap",children:"UMAP（拓撲保留）"}),u.jsx("option",{value:"autoencoder",children:"Autoencoder（神經壓縮）"})]})]}),u.jsx("div",{className:"mb-4 text-sm text-gray-600",children:u.jsxs("p",{children:["資訊保留率：",u.jsx("strong",{children:m})," 模擬準確率：",u.jsxs("strong",{children:[g,"%"]})]})}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"降維後資料（2 維表示）"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1",children:"特徵 1"}),u.jsx("th",{className:"border px-2 py-1",children:"特徵 2"})]})}),u.jsx("tbody",{children:i.map((x,b)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:x.name}),u.jsx("td",{className:"border px-2 py-1",children:x.x}),u.jsx("td",{className:"border px-2 py-1",children:x.y})]},b))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"降維後資料分布視覺化"}),u.jsx(bd,{data:d,options:h}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"模擬將原始 10 維資料降至 2 維後的分布。不同方法會產生不同的投影結構。"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 降維邏輯與適用情境"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-sm mb-2",children:o[s].label}),u.jsx("p",{className:"text-gray-600 mb-4",children:o[s].explain}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"PCA："}),"適合用於資料壓縮與視覺化，能保留最大變異方向，但無法捕捉非線性結構。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"t-SNE："}),"適合分群視覺化，能保留局部距離，但不適合用於模型訓練或資訊保留率分析。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"UMAP："}),"適合探索高維資料的拓撲結構，能保留全局與局部關係，但解釋性較弱。"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Autoencoder："}),"適合深度學習場景，能捕捉非線性特徵，但需較多資料與訓練時間。"]})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"降維不是刪除資訊，而是將資訊重新編碼為更簡潔的表示方式。選擇方法應根據資料型態、任務目標與可解釋性需求。"})]})]})},BS=[{name:"Alice",age:25,usage:120,interactions:30,level:2},{name:"Bob",age:40,usage:300,interactions:50,level:3},{name:"Charlie",age:22,usage:80,interactions:20,level:1},{name:"Dana",age:35,usage:500,interactions:70,level:4},{name:"Eve",age:60,usage:1e3,interactions:90,level:5}],HS=()=>{const[s,t]=R.useState("age_usage"),i=BS.map(b=>{let v;return s==="age_usage"?v=b.age*b.usage:s==="usage_interactions"?v=b.usage*b.interactions:v=b.age*b.level,{...b,interaction:parseFloat(v.toFixed(2))}}),r={age_usage:{accuracy:88,precision:86,recall:89},usage_interactions:{accuracy:91,precision:90,recall:92},age_level:{accuracy:87,precision:85,recall:88}},o={datasets:[{label:"交互特徵分布",data:i.map(b=>({x:b.age,y:b.interaction})),backgroundColor:"#f59e0b"}]},d={scales:{x:{title:{display:!0,text:"年齡"}},y:{title:{display:!0,text:"交互特徵值"}}},plugins:{legend:{display:!1}}},h={age_usage:{label:"年齡 × 使用時間",explain:"模擬年長者使用時間長 → 穩定用戶的交互特徵。"},usage_interactions:{label:"使用時間 × 互動次數",explain:"模擬高使用 + 高互動 → 高黏著度的交互特徵。"},age_level:{label:"年齡 × 會員等級",explain:"模擬高年齡 + 高等級 → VIP 穩定群的交互特徵。"}},{accuracy:m,precision:g,recall:x}=r[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-feature-interaction",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"特徵交互模擬器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。請選擇交互特徵組合，觀察模型效能與資料分布的變化。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇交互組合："}),u.jsxs("select",{value:s,onChange:b=>t(b.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"age_usage",children:"年齡 × 使用時間"}),u.jsx("option",{value:"usage_interactions",children:"使用時間 × 互動次數"}),u.jsx("option",{value:"age_level",children:"年齡 × 會員等級"})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[u.jsxs("p",{children:["模擬準確率：",u.jsxs("strong",{children:[m,"%"]})]}),u.jsxs("p",{children:["Precision：",g,"% Recall：",x,"%"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"資料表格（含交互特徵）"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"姓名"}),u.jsx("th",{className:"border px-2 py-1",children:"年齡"}),u.jsx("th",{className:"border px-2 py-1",children:"使用時間"}),u.jsx("th",{className:"border px-2 py-1",children:"互動次數"}),u.jsx("th",{className:"border px-2 py-1",children:"會員等級"}),u.jsx("th",{className:"border px-2 py-1 text-orange-600",children:"交互特徵"})]})}),u.jsx("tbody",{children:i.map((b,v)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1",children:b.name}),u.jsx("td",{className:"border px-2 py-1",children:b.age}),u.jsx("td",{className:"border px-2 py-1",children:b.usage}),u.jsx("td",{className:"border px-2 py-1",children:b.interactions}),u.jsx("td",{className:"border px-2 py-1",children:b.level}),u.jsx("td",{className:"border px-2 py-1 text-orange-600 font-medium",children:b.interaction})]},v))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"交互特徵分布視覺化"}),u.jsx(bd,{data:o,options:d}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"X 軸為原始特徵（如年齡），Y 軸為交互特徵值。可觀察交互特徵的分布趨勢。"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 交互邏輯與語意解釋"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-sm mb-2",children:h[s].label}),u.jsx("p",{className:"text-gray-600 mb-2",children:h[s].explain}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsx("li",{children:"交互特徵是原始特徵的組合，可捕捉非線性關係"}),u.jsx("li",{children:"可手動創建（如乘積），也可由模型自動學習（如樹模型、神經網路）"}),u.jsx("li",{children:"交互特徵能提升模型表達力，但也可能增加過擬合風險"})]})]})]})},nx=[["使用時間","互動次數","會員等級"],["使用時間","互動次數"],["使用時間","會員等級"],["使用時間","互動次數","年齡"],["使用時間","會員等級","互動次數"]],sx=["年齡","使用時間","互動次數","地區","會員等級"],US=()=>{const s={};sx.forEach(h=>s[h]=0),nx.forEach(h=>{h.forEach(m=>{s[m]+=1})});const t=sx.map(h=>({name:h,count:s[h]})),a={labels:t.map(h=>h.name),datasets:[{label:"被選中次數（穩定性分數）",data:t.map(h=>h.count),backgroundColor:"#4ade80"}]},i={scales:{y:{beginAtZero:!0,max:5,ticks:{stepSize:1}}},plugins:{legend:{display:!1}}},r=[88,89,87,90,88],o=(r.reduce((h,m)=>h+m,0)/r.length).toFixed(1),d=Math.sqrt(r.reduce((h,m)=>h+Math.pow(m-o,2),0)/r.length).toFixed(2);return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-feature-stability",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"特徵穩定性分析器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。請觀察在 5-fold 資料切分下，特徵選擇結果是否一致，並分析穩定性與模型效能。"}),u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[u.jsxs("p",{children:["平均準確率：",u.jsxs("strong",{children:[o,"%"]})," 標準差：",u.jsx("strong",{children:d})]}),u.jsx("p",{className:"text-xs text-gray-500",children:"標準差越小代表模型越穩定，泛化能力越強。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"各 Fold 特徵選擇結果"}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"Fold"}),u.jsx("th",{className:"border px-2 py-1",children:"選出特徵"})]})}),u.jsx("tbody",{children:nx.map((h,m)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsxs("td",{className:"border px-2 py-1",children:["Fold ",m+1]}),u.jsx("td",{className:"border px-2 py-1 text-green-600 font-medium",children:h.join(", ")})]},m))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"特徵穩定性分布"}),u.jsx(At,{data:a,options:i}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"被選中次數越高，代表該特徵在不同資料切分下都被選中 → 穩定性高。"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 穩定性與泛化能力說明"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsx("li",{children:"穩定性高的特徵在不同資料切分下都被選中 → 泛化能力強"}),u.jsx("li",{children:"不穩定特徵可能受資料分布影響 → 適合進一步驗證或視覺化"}),u.jsx("li",{children:"可搭配重要性分析與模型效能交叉比對 → 建立穩定特徵池"})]})]})]})},ax={"係數（Coefficient）":{model:"線性模型",explain:"係數代表每個特徵對預測結果的線性影響。正值表示正向貢獻，負值表示反向貢獻。絕對值越大，影響力越強。",example:"使用時間的係數為 +0.9，表示使用時間越長，流失機率越低。"},"資訊增益（Information Gain）":{model:"樹模型",explain:"資訊增益衡量使用某特徵分裂資料後，目標變數的不確定性下降程度。代表該特徵的判別力。",example:"互動次數的資訊增益高，代表它能有效區分流失與非流失用戶。"},"分裂次數（Split Count）":{model:"樹模型",explain:"特徵在決策樹中被用來分裂的次數。次數越多，代表該特徵越常被用來做判斷。",example:"會員等級在多棵樹中頻繁出現，表示其影響力高。"},"Shapley Value":{model:"SHAP",explain:"來自博弈論，衡量每個特徵在所有可能特徵組合中對預測的平均貢獻。具備公平性與解釋力。",example:"使用時間的 Shapley Value 為 +0.85，表示它在多數情境下都有正向貢獻。"},"局部解釋（Local Explanation）":{model:"SHAP",explain:"針對單一樣本的預測結果進行解釋，顯示每個特徵如何影響該預測。",example:"對某用戶來說，年齡的 SHAP 值為 -0.2，表示年齡提高了流失機率。"},"全局解釋（Global Explanation）":{model:"SHAP",explain:"針對整體模型進行解釋，顯示哪些特徵在所有預測中最具貢獻力。",example:"整體來看，使用時間是最穩定的正向特徵。"}},Db=()=>{const[s,t]=R.useState("係數（Coefficient）"),a=ax[s];return u.jsxs("div",{className:"mt-10",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 特徵工程名詞解釋面板"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-2",children:"選擇名詞："}),u.jsx("select",{value:s,onChange:i=>t(i.target.value),className:"border px-2 py-1 rounded",children:Object.keys(ax).map(i=>u.jsx("option",{value:i,children:i},i))})]}),u.jsxs("div",{className:"bg-gray-50 p-4 rounded text-sm text-gray-700 space-y-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"模型："}),a.model]}),u.jsxs("p",{children:[u.jsx("strong",{children:"說明："}),a.explain]}),u.jsxs("p",{children:[u.jsx("strong",{children:"範例："}),a.example]})]})]})},VS=["年齡","使用時間","互動次數","地區","會員等級"],FS={linear:{年齡:.2,使用時間:.9,互動次數:.7,地區:.1,會員等級:.5},tree:{年齡:.4,使用時間:.8,互動次數:.9,地區:.2,會員等級:.6},shap:{年齡:.3,使用時間:.85,互動次數:.75,地區:.15,會員等級:.65}},PS=()=>{const[s,t]=R.useState("linear"),a=FS[s],i=Object.entries(a).sort((m,g)=>g[1]-m[1]).map(([m,g])=>({name:m,score:g})),r={labels:i.map(m=>m.name),datasets:[{label:"特徵重要性分數",data:i.map(m=>m.score),backgroundColor:"#60a5fa"}]},o={scales:{y:{beginAtZero:!0,max:1}},plugins:{legend:{display:!1}}},d=i.slice(0,3).map(m=>m.name),h={linear:{label:"線性模型（Logistic Regression）",explain:"特徵重要性來自係數絕對值，代表對預測結果的線性貢獻。"},tree:{label:"樹模型（Random Forest / XGBoost）",explain:"特徵重要性來自分裂次數與資訊增益，代表對決策路徑的影響力。"},shap:{label:"SHAP（SHapley Values）",explain:"特徵重要性來自每個特徵對預測的平均貢獻值，具備全局解釋力。"}};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-feature-importance",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"特徵重要性比較器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模擬任務：預測使用者是否流失。請比較不同模型對特徵的重要性排序，並分析差異與解釋力。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇模型："}),u.jsxs("select",{value:s,onChange:m=>t(m.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"linear",children:"線性模型"}),u.jsx("option",{value:"tree",children:"樹模型"}),u.jsx("option",{value:"shap",children:"SHAP 解釋器"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["特徵重要性排序（",h[s].label,"）"]}),u.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-gray-200",children:[u.jsx("th",{className:"border px-2 py-1",children:"特徵"}),u.jsx("th",{className:"border px-2 py-1",children:"重要性分數"})]})}),u.jsx("tbody",{children:i.map((m,g)=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"border px-2 py-1 text-blue-600 font-medium",children:m.name}),u.jsx("td",{className:"border px-2 py-1",children:m.score})]},g))})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"視覺化：特徵重要性分布"}),u.jsx(At,{data:r,options:o}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"分數越高代表該特徵對模型預測貢獻越大。不同模型可能有不同排序。"})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 差異分析與交集特徵"}),u.jsxs("p",{children:["目前模型的 Top 3 特徵：",u.jsx("strong",{children:d.join(", ")})]}),u.jsx("p",{className:"mt-2 text-gray-600",children:"可與其他模型的排序結果進行交叉比對，找出穩定且具解釋力的特徵。"})]}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 模型邏輯與解釋力說明"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-sm mb-2",children:h[s].label}),u.jsx("p",{className:"text-gray-600",children:h[s].explain}),u.jsxs("ul",{className:"list-disc pl-5 mt-4 space-y-1",children:[u.jsx("li",{children:"線性模型適合解釋性強的場景，但無法捕捉非線性關係"}),u.jsx("li",{children:"樹模型能自動學習交互與非線性，但解釋力較弱"}),u.jsx("li",{children:"SHAP 提供全局與局部解釋，適合模型部署與風險分析"})]})]}),u.jsx(Db,{terms:VS})]})},YS=[{id:"feature-creation",title:"特徵建立",description:"建立衍生欄位、組合欄位，擴充資料語意。",useCase:"資料不足、語意擴充"},{id:"category-encoding",title:"類別編碼",description:"將類別特徵轉換為數值型態，支援 One-hot、Target Encoding 等。",useCase:"類別特徵處理"},{id:"numeric-transform",title:"數值轉換",description:"處理偏態、極端值，支援分箱、對數轉換等。",useCase:"分布不均、極端值"},{id:"feature-scaling",title:"特徵縮放",description:"標準化、正規化特徵，提升模型穩定性與收斂速度。",useCase:"模型敏感度高（如 SVM）"},{id:"feature-selection",title:"特徵選擇",description:"選出最具預測力的特徵，支援 Filter、Wrapper、Embedded 方法。",useCase:"降維、提升效能"},{id:"feature-extraction",title:"特徵提取",description:"將原始特徵轉換為抽象特徵，支援 PCA、LDA、Autoencoder。",useCase:"抽象化、視覺化"},{id:"feature-interaction",title:"特徵交互",description:"建立特徵間的乘積、交互項，捕捉非線性關係。",useCase:"交互效應、非線性建模"},{id:"feature-stability",title:"穩定性分析",description:"分析特徵在不同資料切分下的選擇一致性。",useCase:"泛化能力、部署前驗證"},{id:"feature-importance",title:"重要性比較",description:"比較不同模型對特徵的排序結果（線性 / 樹 / SHAP）。",useCase:"模型解釋、特徵優先級"},{id:"dimensionality-reduction",title:"降維模擬",description:"模擬高維資料的降維效果與資訊保留率。",useCase:"高維資料探索、視覺化"},{id:"feature-glossary",title:"詞彙解釋",description:"互動式名詞解釋面板，建立語意理解與模型邏輯連結。",useCase:"教學補充、詞彙理解"}],qS=()=>{const[s,t]=R.useState("分類任務"),a={分類任務:["category-encoding","feature-selection","feature-importance"],高維資料:["feature-extraction","dimensionality-reduction"],模型解釋:["feature-importance","feature-glossary"],資料偏態:["numeric-transform","feature-scaling"],部署前驗證:["feature-stability","feature-selection"]},i=a[s];return u.jsxs("div",{className:"p-6 bg-white rounded shadow",id:"module-strategy-overview",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"🧭 特徵工程策略總覽器"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"font-medium mr-4",children:"依任務推薦模組："}),u.jsx("select",{value:s,onChange:r=>t(r.target.value),className:"border px-2 py-1 rounded",children:Object.keys(a).map(r=>u.jsx("option",{value:r,children:r},r))})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-10",children:YS.filter(r=>i.includes(r.id)).map(r=>u.jsxs("div",{className:"border rounded p-4 bg-gray-50 hover:bg-gray-100 transition",children:[u.jsx("h3",{className:"text-lg font-semibold text-blue-700 mb-1",children:r.title}),u.jsx("p",{className:"text-sm text-gray-700 mb-1",children:r.description}),u.jsxs("p",{className:"text-xs text-gray-500",children:["📌 適用情境：",r.useCase]}),u.jsx("a",{href:`#module-${r.id}`,className:"text-sm text-blue-500 underline mt-2 inline-block",children:"前往模組 →"})]},r.id))}),u.jsxs("div",{className:"text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 特徵工程流程與策略思維"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[u.jsx("li",{children:"特徵工程不是單一步驟，而是資料理解 → 處理 →選擇 →解釋的策略鏈。"}),u.jsx("li",{children:"每個模組對應不同資料型態與任務需求，應根據場景選擇。"}),u.jsx("li",{children:"策略導向思維能幫助學員建立可遷移的特徵處理能力。"})]})]})]})},XS=()=>u.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[u.jsxs("nav",{className:"mb-6 flex justify-between items-center",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"🧠 特徵工程互動教學系統"}),u.jsx(is,{to:"/",className:"text-blue-600 hover:underline text-sm",children:"➤ 回到資料前處理教學分頁"}),u.jsx(is,{to:"/deep-learning",className:"text-blue-600 hover:underline text-sm",children:"➤ 前往深度學習教學分頁"})]}),u.jsx(qS,{}),u.jsx(TS,{}),u.jsx(AS,{}),u.jsx(DS,{}),u.jsx(OS,{}),u.jsx(CS,{}),u.jsx(Mb,{method:"filter"}),u.jsx(Tb,{}),u.jsx(Eb,{}),u.jsx(zS,{}),u.jsx(Ab,{method:"pca"}),u.jsx(kS,{}),u.jsx(HS,{}),u.jsx(US,{}),u.jsx(PS,{}),u.jsx(Db,{})]}),GS={"神經元（Neuron）":{category:"結構元件",definition:"神經元是神經網路中的基本運算單元，接收輸入並產生輸出。",usage:"每個神經元執行加權總和與激活函數運算。"},"權重（Weights）":{category:"參數",definition:"權重是神經元輸入的乘數，決定輸入對輸出的影響程度。",usage:"透過訓練自動調整以最小化損失。"},"偏差（Bias）":{category:"參數",definition:"偏差是加在加權總和上的常數，用來調整輸出範圍。",usage:"幫助模型學習非零中心的輸出。"},"激活函數（Activation）":{category:"激活函數",definition:"激活函數將神經元的線性輸出轉換為非線性輸出，是深度模型表達能力的關鍵。",usage:"常見函數包括 ReLU、Sigmoid、Tanh，選擇會影響梯度穩定性與收斂速度。"},ReLU:{category:"激活函數",definition:"ReLU 定義為 f(x) = max(0, x)，在 x > 0 時為線性，在 x < 0 時為 0。",usage:"計算效率高，減少梯度消失問題。",formula:"f(x) = max(0, x)"},Sigmoid:{category:"激活函數",definition:"Sigmoid 將輸出壓縮在 0 到 1 之間，常用於二分類任務。",usage:"容易在極端值出現梯度消失。",formula:"f(x) = 1 / (1 + e^{-x})"},Tanh:{category:"激活函數",definition:"Tanh 將輸出壓縮在 -1 到 1 之間，中心化效果比 Sigmoid 好。",usage:"仍有飽和區，但比 Sigmoid 穩定。",formula:"f(x) = (e^x - e^{-x}) / (e^x + e^{-x})"},Softmax:{category:"激活函數 / 輸出層",definition:"Softmax 將多類輸出轉換為機率分布。",usage:"常用於多分類任務的輸出層。",formula:"f(x_i) = e^{x_i} / ∑ e^{x_j}"},"損失函數（Loss Function）":{category:"訓練流程",definition:"損失函數衡量預測值與真實值的差距。",usage:"常見有 MSE、CrossEntropy。"},MSE:{category:"損失函數",definition:"均方誤差，計算預測值與真實值的平方差平均。",usage:"適用於回歸任務。",formula:"Loss = (1/n) ∑(y - ŷ)²"},CrossEntropy:{category:"損失函數",definition:"交叉熵衡量預測機率分布與真實分布的差距。",usage:"適用於分類任務，常搭配 Softmax。",formula:"Loss = -∑ y log(ŷ)"},"優化器（Optimizer）":{category:"訓練流程",definition:"優化器根據梯度更新模型參數以最小化損失。",usage:"常見有 SGD、Adam、RMSprop。"},Sgd:{category:"優化器",definition:"隨機梯度下降法，每次使用一小批資料更新參數。",usage:"收斂慢但穩定，適合小型資料集。"},Adam:{category:"優化器",definition:"結合 Momentum 與 RMSprop 的自適應優化器。",usage:"收斂快且穩定，適用於大多數任務。"},Rmsprop:{category:"優化器",definition:"根據梯度平方的移動平均調整學習率。",usage:"適合非平穩資料，如語音與時間序列。"},梯度消失與爆炸:{category:"訓練穩定性",definition:"梯度在反向傳播中逐層衰減或放大，導致模型無法有效學習。",usage:"可透過正規化、激活函數選擇與初始化策略改善。"},"反向傳播（Backpropagation）":{category:"訓練流程",definition:"根據損失函數計算梯度，從輸出層向前更新參數。",usage:"是深度學習模型訓練的核心機制。",formula:"∂L/∂W = ∂L/∂ŷ × ∂ŷ/∂W"},BatchNorm:{category:"正規化",definition:"在 mini-batch 上進行標準化，穩定激活分布。",usage:"加速收斂並減少梯度爆炸。"},LayerNorm:{category:"正規化",definition:"在每個樣本內進行標準化，常用於 NLP 模型。",usage:"適合序列資料與 Transformer 架構。"},Dropout:{category:"正則化",definition:"隨機丟棄神經元以防止過擬合。",usage:"訓練時隨機遮蔽，測試時使用全部神經元。"},"正則化（Regularization）":{category:"訓練策略",definition:"防止模型過度擬合訓練資料的技術。",usage:"常見方法包括 Dropout、L2、EarlyStopping。"},EarlyStopping:{category:"訓練策略",definition:"當驗證集表現不再提升時提前停止訓練。",usage:"可防止過擬合並節省訓練時間。"},"遷移學習（Transfer Learning）":{category:"訓練策略",definition:"利用預訓練模型的知識快速適應新任務。",usage:"常用於資料量不足的情境。"},"微調（Fine-tuning）":{category:"訓練策略",definition:"針對預訓練模型進行部分或全部參數的再訓練。",usage:"可選擇凍結底層或只訓練分類頭。"},"注意力機制（Attention）":{category:"語意建模",definition:"根據語意關係動態分配權重，捕捉長距依賴。",usage:"Transformer 架構的核心技術。",formula:"Attention(Q, K, V) = softmax(QKᵀ / √d) × V"},"Vision Transformer":{category:"架構設計",definition:"將圖像切片後以 Transformer 處理，無需卷積。",usage:"適用於圖像分類與生成任務。"},"卷積（Convolution）":{category:"結構元件",definition:"局部運算，用於提取空間特徵。",usage:"常見於 CNN 架構中。"},"嵌入（Embedding）":{category:"特徵轉換",definition:"將離散詞彙轉換為連續向量，建立語意空間。",usage:"常用於 NLP 任務中。"},資料型態:{category:"資料結構",definition:"資料型態指的是輸入資料的結構形式，如圖像、文字、表格、語音等。",usage:"不同型態的資料需搭配不同模型架構與特徵策略。"},模型架構:{category:"結構元件",definition:"模型架構是神經網路的結構設計，包括層數、連接方式與模塊組成。",usage:"常見架構有 MLP、CNN、RNN、Transformer。"},"超參數（Hyperparameter）":{category:"訓練策略",definition:"超參數是訓練前由人設定的參數，如學習率、層數、Dropout 比例等。",usage:"影響模型的學習速度與泛化能力。"},Epoch:{category:"訓練流程",definition:"Epoch 是指模型完整看過一次訓練資料的過程。",usage:"通常需多個 Epoch 才能收斂。"},"特徵縮放（Feature Scaling）":{category:"資料處理",definition:"將數值特徵轉換為統一範圍（如 0~1 或標準化）以提升模型穩定性。",usage:"常用於 MLP 與回歸任務。"},"類別編碼（Encoding）":{category:"資料處理",definition:"將類別型欄位轉換為數值型，如 One-hot 或 Target Encoding。",usage:"使模型能處理非數值特徵。"},"頻譜特徵（Spectrogram）":{category:"語音處理",definition:"將音訊轉換為時間 × 頻率的圖像表示，用於語音辨識。",usage:"常搭配 CNN 或 RNN 處理。"},"語音特徵（Audio Embedding）":{category:"特徵轉換",definition:"將語音訊號轉換為向量表示，捕捉語音內容與語者特性。",usage:"常用於語音辨識與語者識別任務。"},"公平性（Fairness）":{category:"倫理與偏見",definition:"模型在不同群體上的預測表現應一致，避免偏見與歧視。",usage:"可透過公平性指標與偏見緩解策略進行評估與改善。"},Accuracy:{category:"評估指標",definition:"整體預測正確率，計算正確預測佔總樣本比例。",usage:"適用於分類任務。",formula:"(TP + TN) / (TP + TN + FP + FN)"},Precision:{category:"評估指標",definition:"預測為正例中，實際為正例的比例。",usage:"適用於需降低誤報的任務。",formula:"TP / (TP + FP)"},Recall:{category:"評估指標",definition:"實際正例中，被正確預測的比例。",usage:"適用於需降低漏報的任務。",formula:"TP / (TP + FN)"},"F1-score":{category:"評估指標",definition:"Precision 與 Recall 的調和平均。",usage:"適用於需平衡誤報與漏報的任務。",formula:"2 × (Precision × Recall) / (Precision + Recall)"},MAE:{category:"評估指標",definition:"平均絕對誤差，衡量預測值與真實值的絕對差距。",usage:"適用於回歸任務，對離群值較不敏感。",formula:"(1/n) ∑|y - ŷ|"},"R²":{category:"評估指標",definition:"解釋變異比例，衡量模型對資料的擬合程度。",usage:"越接近 1 表示模型越好。",formula:"1 - (∑(y - ŷ)² / ∑(y - ȳ)²)"},模型偏見:{category:"倫理與偏見",definition:"模型在不同群體上的預測表現不一致，可能造成不公平結果。",usage:"需透過資料分析與公平性指標進行檢測與修正。"},"Demographic Parity":{category:"公平性指標",definition:"不同群體的預測機率應相等。",usage:"適用於不考慮真實標籤的公平性評估。",formula:"P(ŷ = 1 | A = group1) = P(ŷ = 1 | A = group2)"},"Equal Opportunity":{category:"公平性指標",definition:"在真實為正例時，各群體的預測機率應相等。",usage:"適用於正例預測公平性。",formula:"P(ŷ = 1 | Y = 1, A = group1) = P(ŷ = 1 | Y = 1, A = group2)"},"Equalized Odds":{category:"公平性指標",definition:"各群體在真實標籤下的預測分布應一致。",usage:"同時考慮 TP 與 FP 的公平性。",formula:"P(ŷ = y | Y = y, A = group1) = P(ŷ = y | Y = y, A = group2)"},"殘差連接（Residual）":{category:"架構設計",definition:"殘差連接允許訊息繞過某些層，減少梯度消失並提升深層網路的可訓練性。",usage:"ResNet 架構的核心技術，支援極深網路的穩定訓練。",formula:"y = F(x) + x"},"卷積核（Kernel）":{category:"CNN 結構",definition:"卷積層中的運算單元，用於提取局部特徵。",usage:"大小與數量影響特徵提取能力。"},"Kernel Size":{category:"CNN 超參數",definition:"卷積核的尺寸（如 3x3），決定感受野大小。",usage:"小尺寸可捕捉細節，大尺寸可捕捉整體結構。"},Stride:{category:"CNN 超參數",definition:"卷積核移動的步長，影響輸出尺寸與計算量。",usage:"Stride 越大，輸出越小，計算越快但資訊損失越多。"},激活值分布:{category:"訓練穩定性",definition:"神經元輸出值的分布情形，影響梯度穩定與收斂速度。",usage:"可透過正規化與激活函數選擇改善。"},泛化能力:{category:"模型效能",definition:"模型在未見資料上的表現能力。",usage:"泛化能力強表示模型不僅記住訓練資料，也能推論新資料。"},MFCC:{category:"語音特徵",definition:"Mel 頻率倒譜係數，是語音辨識常用的特徵表示。",usage:"將語音訊號轉換為語音內容的向量表示。"},"Mel-Spectrogram":{category:"語音特徵",definition:"將音訊轉換為 Mel 頻率尺度的頻譜圖。",usage:"常用於語音辨識與語音生成任務。"},"池化（Pooling）":{category:"CNN 結構",definition:"將特徵圖進行降維與平移不變性處理。",usage:"常見有 MaxPooling、AveragePooling。"},"初始化策略（Random / Xavier / He）":{category:"訓練穩定性",definition:"初始化策略決定參數初始值的分布，影響梯度穩定性。",usage:"Random 為隨機分布，Xavier 適用 Sigmoid/Tanh，He 適用 ReLU。"},"random（初始化策略）":{category:"初始化策略",definition:"隨機初始化參數，可能導致梯度不穩定。",usage:"適合小型模型或作為 baseline。"},"xavier（初始化策略）":{category:"初始化策略",definition:"根據輸入與輸出維度調整初始權重分布，適合 Sigmoid / Tanh。",usage:"可減少梯度消失，提升收斂穩定性。"},"he（初始化策略）":{category:"初始化策略",definition:"針對 ReLU 設計的初始化策略，提升梯度穩定性。",usage:"適用於深層 ReLU 網路。"},"L2 正則化":{category:"正則化",definition:"在損失函數中加入權重平方懲罰項，限制模型複雜度。",usage:"可減少過擬合並提升泛化能力。",formula:"Loss = 原始損失 + λ ∑W²"},"前向傳播（Forward Pass）":{category:"訓練流程",definition:"將輸入資料經由神經網路計算出預測值 ŷ。",usage:"是訓練流程的第一步，產生模型輸出。",formula:"ŷ = σ(Wx + b)"},"學習率（Learning Rate）":{category:"超參數",definition:"控制每次參數更新的步伐大小。",usage:"學習率過大可能震盪，過小則收斂慢。"},"層數（Hidden Layers）":{category:"模型架構",definition:"神經網路中隱藏層的數量，決定模型的深度與表達能力。",usage:"層數越多，模型越能擬合複雜關係，但也易過擬合。"},"深層網路（Deep Network）":{category:"模型架構",definition:"指具有多層隱藏層的神經網路，能擬合複雜非線性關係。",usage:"深層網路提升表達能力，但也增加過擬合與梯度問題風險。"},Query:{category:"注意力機制",definition:"Query 是注意力機制中的查詢向量，用來與 Key 計算相似度。",usage:"每個詞的 Query 用來決定它應該關注哪些其他詞。"},Key:{category:"注意力機制",definition:"Key 是注意力機制中的鍵向量，用來與 Query 比對。",usage:"每個詞的 Key 表示它的語意特徵，用來被其他詞查詢。"},Value:{category:"注意力機制",definition:"Value 是注意力機制中的值向量，代表實際要傳遞的資訊。",usage:"注意力分數用來加權 Value，形成最終輸出。"},性別偏見:{category:"倫理與偏見",definition:"模型在不同性別群體上的預測表現不一致，可能造成性別歧視。",usage:"可透過遮蔽性別特徵或公平性損失函數進行修正。"},種族偏見:{category:"倫理與偏見",definition:"模型在不同種族群體上的預測表現不一致，可能造成種族不公平。",usage:"可透過群體平衡抽樣與對抗式訓練進行修正。"},地區偏見:{category:"倫理與偏見",definition:"模型在不同地理區域上的預測表現不一致，可能忽略地區差異。",usage:"可透過資料擴充與地區特徵重編碼進行修正。"},語言偏見:{category:"倫理與偏見",definition:"模型在不同語言群體上的預測表現不一致，可能造成語言排斥。",usage:"可透過多語語料與語言嵌入調整進行修正。"},語意建模:{category:"模型應用",definition:"語意建模是指模型捕捉語言或圖像中的語意結構與關聯性。",usage:"常透過注意力機制與嵌入層進行語意表示學習。"},損失與優化器模擬:{category:"模組導覽",definition:"比較不同損失函數（如 MSE、CrossEntropy）與優化器（如 SGD、Adam）在訓練過程中的收斂行為與穩定性。",usage:"幫助學員理解損失函數與優化器的選擇如何影響模型學習效率與結果品質。"},過擬合與正則化:{category:"模組導覽",definition:"展示模型在訓練資料上過度擬合的現象，並透過 Dropout、L2 正則化、EarlyStopping 等策略進行改善。",usage:"幫助學員理解如何提升模型的泛化能力並避免過度記憶訓練資料。"},架構演進圖:{category:"模組導覽",definition:"深度學習架構的歷史演進，包括 LeNet、AlexNet、ResNet、Transformer 等代表性模型。",usage:"幫助學員理解架構創新背後的技術突破與設計理念。"},模型評估:{category:"模組導覽",definition:"展示分類與回歸任務的常見評估指標，並透過公式與混淆矩陣幫助理解模型效能。",usage:"可用於模型選擇、業務決策與公平性分析。"},分類任務評估:{category:"模組導覽",definition:"針對分類任務展示常見評估指標，包括 Accuracy、Precision、Recall、F1-score，並透過混淆矩陣幫助理解模型在不同類別上的預測表現。",usage:"適用於二元或多元分類任務，協助判斷模型的精準度與錯誤類型。"},回歸任務評估:{category:"模組導覽",definition:"針對回歸任務展示常見評估指標，包括 MSE、MAE、R²，幫助理解模型在連續數值預測上的準確性與穩定性。",usage:"適用於預測數值型資料，協助判斷模型的誤差大小與解釋能力。"},"狀態轉移矩陣（Transition Matrix）":{category:"RNN 結構",definition:"RNN 中用來將前一時間步的隱藏狀態轉換為下一步的核心參數矩陣。",usage:"決定序列資料的時間依賴性，影響記憶能力與梯度穩定性。"},"嵌入矩陣（Embedding）":{category:"特徵轉換",definition:"將離散詞彙或類別轉換為連續向量的參數矩陣，建立語意或特徵空間。",usage:"常用於 NLP 與序列任務中，作為模型的輸入層或特徵表示。"},"Hidden Size":{category:"RNN 超參數",definition:"RNN 中隱藏層的向量維度，決定模型的記憶容量與表達能力。",usage:"Hidden Size 越大，模型越能捕捉複雜序列關係，但也增加過擬合風險。"},"梯度截斷（Gradient Clipping）":{category:"訓練穩定性",definition:"限制梯度的最大值以防止梯度爆炸，常用於 RNN 或深層模型訓練。",usage:"可提升訓練穩定性，避免參數更新過大導致模型震盪。"},"Head 數":{category:"Transformer 超參數",definition:"指多頭注意力機制中的注意力頭數量，每個 head 可獨立捕捉不同語意關係。",usage:"Head 數越多，模型能同時關注多種語意特徵，但也增加計算成本。"},"Embedding Size":{category:"Transformer 超參數",definition:"表示每個詞或位置的向量維度，決定語意表示的精細程度。",usage:"Embedding Size 越大，模型表達能力越強，但也可能導致過擬合或資源消耗增加。"},"Layer Depth":{category:"模型架構",definition:"指 Transformer 中堆疊的編碼器或解碼器層數，影響模型的抽象能力與訓練難度。",usage:"深層模型能擬合複雜語意，但需搭配正則化與初始化策略以穩定訓練。"},學習率調度策略:{category:"訓練策略",definition:"根據訓練進度動態調整學習率的策略，常見有 Step Decay、Cosine Annealing、Warmup 等。",usage:"可提升收斂速度並避免震盪，特別適用於 Transformer 等大型模型訓練。"},"注意力權重（Attention Weights）":{category:"注意力機制",definition:"注意力權重是由 Query 與 Key 計算出的相似度分數，代表模型在每個位置上應關注的程度。",usage:"在 Self-Attention 中，這些權重用來加權 Value 向量，形成語意對齊後的輸出表示。"},"位置編碼（Positional Encoding）":{category:"Transformer 結構",definition:"位置編碼是為了讓 Transformer 模型能夠識別序列中詞彙的順序資訊，通常使用正弦與餘弦函數生成。",usage:"將位置編碼與詞嵌入相加，提供序列的位置信息給模型。",formula:`PE(pos, 2i) = sin(pos / 10000^(2i/d_model))
PE(pos, 2i+1) = cos(pos / 10000^(2i/d_model))`},"全連接層（Dense Layer）":{category:"模型結構",definition:"每個神經元與前一層所有神經元相連，常用於 MLP 的隱藏層與輸出層。",usage:"適用於表格資料與回歸任務，表達能力強但參數量大。"},"Self-Attention":{category:"注意力機制",definition:"讓每個位置的輸入向量根據其他位置的語意關係進行加權，捕捉全局依賴。",usage:"Transformer 的核心機制，適用於 NLP、語音與圖像生成任務。"},"卷積層（Convolution）":{category:"CNN 結構",definition:"卷積層透過滑動的卷積核（Filter）在輸入資料上提取局部特徵，是 CNN 的核心運算單元。",usage:"常用於圖像、語音等空間結構資料中，能有效捕捉位置不變的特徵模式。"},時間序列:{category:"資料型態",definition:"時間序列是依時間順序排列的資料點，具有時間依賴性與順序性。",usage:"常見於金融、氣象、語音、文字等領域，需使用具記憶性的模型如 RNN 或 Transformer 處理。"},時間步展開層:{category:"RNN 結構",definition:"將序列資料依時間步展開，使每個時間點的輸入可依序進入 RNN 模型進行處理。",usage:"是 RNN 模型中實現時間依賴的關鍵步驟，搭配隱藏狀態層形成序列記憶機制。"},隱藏狀態層:{category:"RNN 結構",definition:"儲存並更新模型在每個時間步的內部狀態，捕捉序列中的上下文資訊。",usage:"隱藏狀態會在時間步間傳遞，形成模型的記憶能力，是 RNN 的核心特徵之一。"},"批次大小（Batch Size）":{category:"超參數",definition:"每次訓練中使用的樣本數量，影響梯度估計的穩定性與計算效率。",usage:"較大批次可提升計算效率，但可能降低泛化能力；較小批次則有助於模型泛化。"},輸入嵌入層:{category:"Transformer 結構",definition:"將離散的詞或位置編碼轉換為連續向量表示，是 Transformer 的輸入起點。",usage:"結合詞嵌入與位置編碼，建立語意與順序的初始表示，供後續注意力機制處理。"},多頭注意力層:{category:"Transformer 結構",definition:"由多個獨立的 Self-Attention 子層組成，每個 head 可捕捉不同語意關係。",usage:"透過並行注意力機制提升模型的語意表達能力與上下文理解深度。"},前饋層:{category:"Transformer 結構",definition:"在每個編碼器或解碼器中，用於非線性轉換與特徵擴展的全連接層組合。",usage:"通常包含兩層 Dense Layer 與激活函數（如 ReLU 或 GELU），提升模型表達能力。"},Transformer:{category:"模型架構",definition:"基於注意力機制的深度學習架構，完全移除循環與卷積結構，專注於語意對齊與全局依賴建模。",usage:"廣泛應用於 NLP、語音、圖像生成等領域，代表性模型包括 BERT、GPT、ViT 等。"},"MLP（多層感知器）":{category:"模型架構",definition:"多層感知器是由多層全連接層組成的前饋神經網路，適用於表格資料與簡單任務。",usage:"結構簡單但表達能力有限，常用於基線模型或小型資料集。"},"RNN（循環神經網路）":{category:"模型架構",definition:"循環神經網路能處理序列資料，透過隱藏狀態捕捉時間依賴性。",usage:"適用於語音、文字等序列任務，但易受梯度消失與爆炸影響。"},"CNN（卷積神經網路）":{category:"模型架構",definition:"卷積神經網路透過卷積層提取局部特徵，常用於圖像與語音處理。",usage:"能有效捕捉空間結構資訊，適用於圖像分類、物體檢測等任務。"},正規化視覺化:{category:"模組導覽",definition:"透過激活值分布與損失曲線模擬，展示不同正規化技術對訓練穩定性的影響。",usage:"可搭配梯度模擬與優化器模組使用，建立完整的訓練理解框架。"},"過擬合（Overfitting）":{category:"模型效能",definition:"過擬合是指模型在訓練資料上表現良好，但在驗證或測試資料上表現不佳，無法有效泛化。",usage:"常見於模型過於複雜或訓練過久的情況，可透過 Dropout、L2 正則化、EarlyStopping 等策略改善。"},模型訓練流程:{category:"模組導覽",definition:"以動畫方式展示深度學習模型的訓練流程，包括前向傳播、損失計算、反向傳播、參數更新與迭代評估。",usage:"幫助學員理解每個步驟的角色與公式，建立訓練邏輯的整體概念。"},"評估（Evaluation）":{category:"訓練流程",definition:"在訓練過程中使用驗證集或測試集來衡量模型效能，判斷是否需要調整架構或停止訓練。",usage:"常用指標包括 Accuracy、Precision、Recall、F1-score（分類任務）與 MSE、MAE、R²（回歸任務），可搭配 EarlyStopping 使用。"},"交叉熵（Cross Entropy）":{category:"損失函數",definition:"交叉熵衡量預測機率分布與真實分布之間的差異，適用於分類任務。",usage:"常用於多類別分類，搭配 Softmax 激活函數。",formula:"Loss = -∑ y log(ŷ)"},凍結底層:{category:"微調策略",definition:"保留預訓練模型的底層參數不更新，只訓練上層分類器或任務特定模組。",usage:"可降低訓練成本並保留通用特徵，適用於資料量較少的情境。"},只訓練分類頭:{category:"微調策略",definition:"僅更新模型的最後幾層或分類頭，其他層保持不變。",usage:"適用於快速適應新任務，減少過擬合風險。"},全模型微調:{category:"微調策略",definition:"對預訓練模型的所有參數進行再訓練，全面調整模型以適應新任務。",usage:"適用於資料量充足且新任務與預訓練任務差異較大的情境。"},"資料量（Data Size）":{category:"資料特性",definition:"指用於微調的訓練資料集大小，影響模型學習深度與泛化能力。",usage:"資料越多，模型越能充分學習任務特徵，但也需更高的計算資源。"},"資料相似度（Data Similarity）":{category:"資料特性",definition:"指微調資料與預訓練資料在內容與分布上的相似程度。",usage:"相似度高可減少微調難度，提升模型效能；相似度低則需更多調整與正則化。"},"語音辨識（ASR）":{category:"模型應用",definition:"將語音訊號轉換為文字的技術，常用於語音助理與字幕生成。"},"語者識別（Speaker Recognition）":{category:"模型應用",definition:"辨識說話者身份的技術，應用於安全驗證與個人化服務。"},"語音合成（TTS）":{category:"模型應用",definition:"將文字轉換為自然語音的技術，應用於語音助理與有聲書。"},"情感分析（Sentiment Analysis）":{category:"模型應用",definition:"分析文本中情感傾向的技術，應用於市場調查與社群監控。"},"文本分類（Text Classification）":{category:"模型應用",definition:"將文本分配到預定類別的技術，應用於垃圾郵件過濾與新聞分類。"},"命名實體識別（NER）":{category:"模型應用",definition:"識別文本中具特定意義的實體（如人名、地名）的技術，應用於資訊抽取與問答系統。"},"機器翻譯（Machine Translation）":{category:"模型應用",definition:"將文本從一種語言轉換為另一種語言的技術，應用於跨語言溝通與內容本地化。"},"分類頭（Classification Head）":{category:"模型結構",definition:"預訓練模型最上層的任務特定模組，通常為一層或多層全連接層，用於輸出分類結果。",usage:"在遷移學習中常單獨訓練分類頭以快速適應新任務。"},ResNet:{category:"模型架構",definition:"ResNet 是一種基於殘差連接的卷積神經網路，能有效訓練深層模型並避免梯度消失。",usage:"常用於圖像分類任務，具備穩定性與高效能。"},BERT:{category:"模型架構",definition:"BERT 是基於 Transformer 的雙向語言模型，能理解上下文語意，適用於多種 NLP 任務。",usage:"廣泛應用於文字分類、問答系統、命名實體識別等。"},Wav2Vec:{category:"模型架構",definition:"Wav2Vec 是用於語音任務的預訓練模型，能將語音訊號轉換為語意向量。",usage:"適用於語音辨識、語者識別與語音理解任務。"},ViT:{category:"模型架構",definition:"ViT（Vision Transformer）是將圖像切片後以 Transformer 處理的架構，能捕捉全局視覺特徵。",usage:"適用於高解析度圖像分類與生成任務，具備強大語意建模能力。"},GPT:{category:"模型架構",definition:"GPT 是基於 Transformer 的生成式語言模型，專注於文本生成與續寫任務。",usage:"廣泛應用於對話系統、內容生成與文本補全等。"},小型資料集:{category:"資料特性",definition:"資料量有限，模型無法充分學習任務特徵，需依賴預訓練模型的通用表示。",usage:"建議凍結底層或只訓練分類頭，以降低過擬合風險並穩定訓練。"},中型資料集:{category:"資料特性",definition:"資料量適中，模型可學習部分任務特徵，具備一定的泛化能力。",usage:"可進行部分微調，平衡效能與穩定性，適合凍結底層或微調上層模組。"},大型資料集:{category:"資料特性",definition:"資料量充足，模型可深入學習任務特徵並建立強表達能力。",usage:"適合全部微調，可充分發揮預訓練模型潛力，但需較高的計算資源與訓練時間。"},高相似度資料:{category:"資料特性",definition:"微調資料與預訓練資料在內容與分布上高度相似，模型適應新任務較為容易。",usage:"可選擇凍結底層或只訓練分類頭，快速適應新任務並保持穩定性。"},中等相似度資料:{category:"資料特性",definition:"微調資料與預訓練資料在某些方面相似，但仍存在差異，模型需進行一定調整。",usage:"建議進行部分微調，調整模型以適應新任務特徵。"},低相似度資料:{category:"資料特性",definition:"微調資料與預訓練資料在內容與分布上差異較大，模型需全面調整以適應新任務。",usage:"適合全部微調，充分調整模型參數以捕捉新任務特徵，但需注意過擬合風險。"},全部微調:{category:"微調策略",definition:"對整個預訓練模型進行再訓練，包含底層與上層參數，以全面適應新任務。",usage:"適用於資料量充足且任務與預訓練模型差異較大的情境，可獲得最佳效能但訓練成本較高。"},部分微調:{category:"微調策略",definition:"僅更新模型的部分層或模組，通常為中上層，以平衡效能與訓練穩定性。",usage:"適用於資料量中等且任務與預訓練模型有一定相似度的情境，能有效提升效能並降低過擬合風險。"}},Qe=({selected:s})=>{const t=Array.isArray(s)?s:[s];return u.jsx("div",{className:"space-y-4",children:t.map(a=>{const i=GS[a]||null;return i?u.jsxs("div",{className:"text-sm text-gray-700 bg-gray-50 p-4 rounded border",children:[u.jsxs("p",{className:"text-base font-semibold mb-2",children:["📘 詞彙：",a]}),u.jsxs("p",{children:[u.jsx("strong",{children:"分類："}),i.category]}),u.jsxs("p",{className:"mt-1",children:[u.jsx("strong",{children:"定義："}),i.definition]}),u.jsxs("p",{className:"mt-1",children:[u.jsx("strong",{children:"用途："}),i.usage]}),i.formula&&u.jsx("p",{className:"mt-1 font-mono bg-white p-2 rounded border text-blue-700",children:i.formula})]},a):u.jsxs("div",{className:"text-sm text-gray-500",children:["尚未定義詞彙：",u.jsx("strong",{children:a})]},a)})})},Xu=[{id:"forward",title:"前向傳播（Forward Pass）",description:"將輸入資料經由神經網路計算出預測值 ŷ。",formula:"ŷ = σ(Wx + b)",glossary:"前向傳播（Forward Pass）"},{id:"loss",title:"損失計算（Loss Computation）",description:"比較預測值與真實值，計算誤差。",formula:"Loss = (1/n) ∑(y - ŷ)²",glossary:"損失函數（Loss Function）"},{id:"backward",title:"反向傳播（Backpropagation）",description:"根據損失計算梯度，從輸出層向前更新。",formula:"∂L/∂W = ∂L/∂ŷ × ∂ŷ/∂W",glossary:"反向傳播（Backpropagation）"},{id:"update",title:"參數更新（Parameter Update）",description:"使用優化器根據梯度更新權重與偏差。",formula:"W = W - η × ∂L/∂W",glossary:"優化器（Optimizer）"},{id:"evaluate",title:"評估與迭代（Evaluation & Epoch）",description:"在驗證集上評估模型表現，進行下一輪訓練。",formula:"Accuracy = (# correct) / (# total)",glossary:["Epoch","評估（Evaluation）"]}],Ob=({simplified:s=!1})=>{const[t,a]=R.useState(0),[i,r]=R.useState(!1);R.useEffect(()=>{if(!i)return;const d=setTimeout(()=>{a(h=>(h+1)%Xu.length)},2e3);return()=>clearTimeout(d)},[t,i]);const o=Xu[t];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-training-flow",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🔄 模型訓練流程動畫"}),u.jsxs("div",{className:"mb-4 flex gap-4",children:[u.jsx("button",{onClick:()=>r(!i),className:"px-3 py-1 rounded bg-indigo-600 text-white",children:i?"⏸ 暫停播放":"▶️ 自動播放"}),u.jsx("button",{onClick:()=>a((t+1)%Xu.length),className:"px-3 py-1 rounded bg-gray-200",children:"➡️ 下一步"}),u.jsx("button",{onClick:()=>a(0),className:"px-3 py-1 rounded bg-gray-200",children:"🔁 重播"})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold text-indigo-700 mb-1",children:o.title}),u.jsx("p",{className:"mb-2",children:o.description}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded text-blue-700",children:o.formula})]}),!s&&u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:Array.isArray(o.glossary)?o.glossary:[o.glossary]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"深度學習訓練流程是由資料驅動的迭代過程，每一步都影響模型的學習與泛化能力。"}),u.jsx("p",{className:"mt-2",children:"可搭配 TrueBackpropSimulator、LossOptimizerSimulator 使用，建立完整的訓練理解。"})]})]})},QS={input:"x_i",hidden:"z = σ(Wx + b)",output:"ŷ = σ(Wz + b)"},ix=["神經元（Neuron）","權重（Weights）","偏差（Bias）","激活函數（Activation）","損失函數（Loss Function）","前向傳播（Forward Pass）","反向傳播（Backpropagation）","MSE","CrossEntropy"],KS=()=>{const[s,t]=R.useState("hidden"),[a,i]=R.useState(ix[0]);return u.jsxs("div",{className:"p-6 bg-white rounded shadow",id:"module-deep-learning-intro",children:[u.jsx("h2",{className:"text-2xl font-bold mb-4",children:"🧠 深度學習概念導入"}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("p",{className:"mb-2",children:"深度學習是一種以「多層神經網路」為基礎的學習架構，能自動從資料中提取抽象特徵並進行預測。"}),u.jsx("p",{children:"與傳統機器學習不同，深度學習不依賴手動特徵工程，而是透過大量資料與多層結構自動學習表示。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🧩 神經網路結構圖（點選神經元查看公式）"}),u.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-2",children:[u.jsx("button",{onClick:()=>t("input"),className:`px-3 py-1 rounded ${s==="input"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"輸入層"}),u.jsx("button",{onClick:()=>t("hidden"),className:`px-3 py-1 rounded ${s==="hidden"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"隱藏層"}),u.jsx("button",{onClick:()=>t("output"),className:`px-3 py-1 rounded ${s==="output"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"輸出層"})]}),u.jsx("div",{className:"bg-gray-100 p-4 rounded text-sm text-gray-800 font-mono",children:QS[s]})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📐 常見數學模型"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[u.jsxs("li",{children:[u.jsx("strong",{children:"前向傳播："}),u.jsx("span",{className:"font-mono",children:"ŷ = σ(Wx + b)"})]}),u.jsxs("li",{children:[u.jsx("strong",{children:"均方誤差（MSE）："}),u.jsx("span",{className:"font-mono",children:"Loss = (1/n) ∑(y - ŷ)²"})]}),u.jsxs("li",{children:[u.jsx("strong",{children:"交叉熵（CrossEntropy）："}),u.jsx("span",{className:"font-mono",children:"Loss = -∑ y log(ŷ)"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 詞彙解釋（點選名詞查看說明）"}),u.jsx("select",{value:a,onChange:r=>i(r.target.value),className:"border px-2 py-1 rounded mb-2",children:ix.map(r=>u.jsx("option",{value:r,children:r},r))}),u.jsx(Qe,{selected:a})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🎬 模型訓練流程動畫（簡化版）"}),u.jsx(Ob,{simplified:!0})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"深度學習的核心在於「資料驅動」與「多層抽象」，透過大量樣本與非線性轉換，模型能自動學習複雜的表示與邏輯。"}),u.jsx("p",{className:"mt-2",children:"接下來你可以探索不同模型結構、訓練策略與應用場景，逐步建立完整的深度學習理解。"})]})]})},ZS={mlp:{name:"MLP（多層感知器）",layers:["輸入層","隱藏層 1","隱藏層 2","輸出層"],details:["每層皆為全連接層（Dense Layer）","激活函數：ReLU / Sigmoid","適用於表格資料、回歸與分類任務"]},cnn:{name:"CNN（卷積神經網路）",layers:["輸入層","卷積層","池化層","全連接層","輸出層"],details:["卷積層提取局部特徵，池化層降維","激活函數：ReLU","適用於圖像辨識、空間結構資料"]},rnn:{name:"RNN（循環神經網路）",layers:["輸入層","時間步展開層","隱藏狀態層","輸出層"],details:["能處理時間序列資料，具記憶性","激活函數：Tanh / ReLU","適用於文字、語音、序列預測"]},transformer:{name:"Transformer（注意力機制模型）",layers:["輸入嵌入層","多頭注意力層","前饋層","輸出層"],details:["使用 Self-Attention 捕捉全局依賴","激活函數：ReLU / GELU","適用於 NLP、語音、圖像生成"]}},WS=()=>{const[s,t]=R.useState("mlp"),a=ZS[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-model-structure",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 模型結構探索器"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇模型："}),u.jsxs("select",{value:s,onChange:i=>t(i.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"mlp",children:"MLP（表格資料）"}),u.jsx("option",{value:"cnn",children:"CNN（圖像資料）"}),u.jsx("option",{value:"rnn",children:"RNN（序列資料）"}),u.jsx("option",{value:"transformer",children:"Transformer（語意建模）"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[a.name," 結構圖"]}),u.jsx("div",{className:"flex space-x-4 justify-center items-center",children:a.layers.map((i,r)=>u.jsx("div",{className:"px-4 py-2 bg-blue-100 text-blue-800 rounded border border-blue-300 text-sm",children:i},r))}),u.jsx("p",{className:"mt-2 text-sm text-gray-500 text-center",children:"每個區塊代表模型中的一層結構，依序處理輸入資料。"})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 結構說明與用途"}),u.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a.details.map((i,r)=>u.jsx("li",{children:i},r))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 關鍵詞彙解釋"}),u.jsx(Qe,{selected:s==="mlp"?["全連接層（Dense Layer）","激活函數（Activation）"]:s==="cnn"?["卷積層（Convolution）","池化（Pooling）","激活函數（Activation）"]:s==="rnn"?["時間序列","時間步展開層","隱藏狀態層","激活函數（Activation）"]:["Transformer","輸入嵌入層","多頭注意力層","前饋層","Self-Attention","GELU","激活函數（Activation）"]})]})]})},lx={mlp:{parameters:["權重（Weights）","偏差（Bias）"],hyperparameters:["學習率（Learning Rate）","層數（Hidden Layers）","激活函數（Activation）"]},cnn:{parameters:["卷積核（Kernel）","偏差（Bias）"],hyperparameters:["Kernel Size","Stride","Dropout","激活函數（Activation）"]},rnn:{parameters:["狀態轉移矩陣（Transition Matrix）","嵌入矩陣（Embedding）"],hyperparameters:["Hidden Size","梯度截斷（Gradient Clipping）","激活函數（Activation）"]},transformer:{parameters:["注意力權重（Attention Weights）","嵌入矩陣（Embedding）"],hyperparameters:["Head 數","Embedding Size","Layer Depth","學習率調度策略"]}},$S=()=>{const[s,t]=R.useState("mlp"),[a,i]=R.useState("權重（Weights）"),{parameters:r,hyperparameters:o}=lx[s];return[...r,...o],u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-model-parameters",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 模型參數與超參數解釋器"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"深度學習模型的效能不只來自架構設計，更仰賴參數與超參數的正確設定與理解。參數是模型透過訓練學習出的知識，而超參數則是我們在訓練前所做的策略性選擇。兩者共同決定模型的預測能力、學習速度與泛化效果。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇模型："}),u.jsxs("select",{value:s,onChange:d=>{t(d.target.value),i(lx[d.target.value].parameters[0])},className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"mlp",children:"MLP（表格資料）"}),u.jsx("option",{value:"cnn",children:"CNN（圖像資料）"}),u.jsx("option",{value:"rnn",children:"RNN（序列資料）"}),u.jsx("option",{value:"transformer",children:"Transformer（語意建模）"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📘 模型參數"}),u.jsx("ul",{className:"list-disc pl-5 mb-4 text-sm text-gray-700",children:r.map(d=>u.jsx("li",{className:`cursor-pointer ${a===d?"text-blue-600 font-medium":""}`,onClick:()=>i(d),children:d},d))}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"⚙️ 超參數"}),u.jsx("ul",{className:"list-disc pl-5 text-sm text-gray-700",children:o.map(d=>u.jsx("li",{className:`cursor-pointer ${a===d?"text-green-600 font-medium":""}`,onClick:()=>i(d),children:d},d))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:[a,...[...r,...o].filter(d=>d!==a)]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"模型參數是訓練中學習出的值，決定模型如何預測；超參數則是訓練前設定的策略，影響模型的學習速度、表達能力與泛化效果。"}),u.jsx("p",{className:"mt-2",children:"調參是一門藝術，理解每個參數的作用是建立穩定模型的關鍵。"})]})]})},JS={relu:{label:"ReLU（Rectified Linear Unit）",glossaryKey:"ReLU",formula:"f(x) = max(0, x)",description:"ReLU 在 x > 0 時為線性，在 x < 0 時為 0，計算效率高，常用於深層網路。",gradient:"非飽和、梯度穩定，但可能出現「死亡 ReLU」問題。",data:Array.from({length:41},(s,t)=>{const a=t-20;return{x:a,y:Math.max(0,a)}})},sigmoid:{label:"Sigmoid",glossaryKey:"Sigmoid",formula:"f(x) = 1 / (1 + e^{-x})",description:"Sigmoid 將輸出壓縮在 0 到 1 之間，常用於二分類輸出層。",gradient:"容易在極端值出現梯度消失，收斂慢。",data:Array.from({length:41},(s,t)=>{const a=t-20,i=1/(1+Math.exp(-a));return{x:a,y:parseFloat(i.toFixed(3))}})},tanh:{label:"Tanh",glossaryKey:"Tanh",formula:"f(x) = (e^x - e^{-x}) / (e^x + e^{-x})",description:"Tanh 將輸出壓縮在 -1 到 1 之間，中心化效果比 Sigmoid 好。",gradient:"仍有飽和區，但比 Sigmoid 穩定。",data:Array.from({length:41},(s,t)=>{const a=t-20,i=Math.tanh(a);return{x:a,y:parseFloat(i.toFixed(3))}})},softmax:{label:"Softmax",glossaryKey:"Softmax",formula:"f(x_i) = e^{x_i} / ∑ e^{x_j}",description:"Softmax 將多類輸出轉換為機率分布，常用於多分類輸出層。",gradient:"需搭配交叉熵使用，梯度穩定但計算複雜。",data:Array.from({length:5},(s,t)=>{const i=[1,2,3,4,5].map(o=>Math.exp(o)),r=i.reduce((o,d)=>o+d,0);return{x:`x${t+1}`,y:parseFloat((i[t]/r).toFixed(3))}})}},IS=()=>{const[s,t]=R.useState("relu"),a=JS[s],i={labels:a.data.map(o=>o.x),datasets:[{label:a.label,data:a.data.map(o=>o.y),borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)",fill:!0,tension:.3}]},r={scales:{x:{title:{display:!0,text:"輸入值 x"}},y:{title:{display:!0,text:"輸出值 f(x)"}}},plugins:{legend:{display:!1}}};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-activation-functions",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 激活函數探索器"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇激活函數："}),u.jsxs("select",{value:s,onChange:o=>t(o.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"relu",children:"ReLU"}),u.jsx("option",{value:"sigmoid",children:"Sigmoid"}),u.jsx("option",{value:"tanh",children:"Tanh"}),u.jsx("option",{value:"softmax",children:"Softmax"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-2",children:[a.label," 輸入 → 輸出曲線"]}),u.jsx(Da,{data:i,options:r}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"此圖顯示激活函數在不同輸入值下的輸出行為。"})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📐 數學公式"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded",children:a.formula}),u.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"📘 梯度特性與用途"}),u.jsx("p",{children:a.description}),u.jsx("p",{className:"mt-2 text-gray-600",children:a.gradient})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:a.glossaryKey})]})]})},eM={relu:.95,sigmoid:.6,tanh:.75},tM={random:1,xavier:.8,he:1.2},nM=()=>{const[s,t]=R.useState(10),[a,i]=R.useState("relu"),[r,o]=R.useState("random"),d=eM[a],h=tM[r],m=Array.from({length:s},(b,v)=>{const j=Math.pow(d*h,v+1);return{layer:`L${v+1}`,value:parseFloat(j.toFixed(4))}}),g={labels:m.map(b=>b.layer),datasets:[{label:"模擬梯度大小",data:m.map(b=>b.value),backgroundColor:"#f59e0b"}]},x={scales:{y:{beginAtZero:!0,max:1.2}},plugins:{legend:{display:!1}}};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-gradient-flow",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 梯度消失與爆炸模擬器"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-2",children:"層數："}),u.jsx("input",{type:"range",min:3,max:20,value:s,onChange:b=>t(parseInt(b.target.value)),className:"w-40"}),u.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:[s," 層"]})]}),u.jsxs("div",{className:"mb-4 flex space-x-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"激活函數："}),u.jsxs("select",{value:a,onChange:b=>i(b.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"relu",children:"ReLU"}),u.jsx("option",{value:"sigmoid",children:"Sigmoid"}),u.jsx("option",{value:"tanh",children:"Tanh"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"初始化策略："}),u.jsxs("select",{value:r,onChange:b=>o(b.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"random",children:"Random"}),u.jsx("option",{value:"xavier",children:"Xavier"}),u.jsx("option",{value:"he",children:"He"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 模擬梯度流動（每層）"}),u.jsx(At,{data:g,options:x}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"梯度值若快速衰減 → 梯度消失；若快速放大 → 梯度爆炸。穩定梯度有助於模型訓練。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:["梯度消失與爆炸",a==="relu"?"ReLU":a==="sigmoid"?"Sigmoid":"Tanh",r==="random"?"random（初始化策略）":r==="xavier"?"xavier（初始化策略）":"he（初始化策略）","BatchNorm"]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"深度網路若梯度在反向傳播中逐層衰減，會導致前層無法更新 → 梯度消失； 若逐層放大，則會導致不穩定訓練 → 梯度爆炸。"}),u.jsx("p",{className:"mt-2",children:"可透過激活函數選擇、初始化策略、BatchNorm 等方式改善梯度流動。"})]})]})},rx={mse:{label:"均方誤差（MSE）",glossaryKey:"MSE",simulate:(s,t)=>Math.exp(-t*s)+.05*Math.random()},crossentropy:{label:"交叉熵（CrossEntropy）",glossaryKey:"CrossEntropy",simulate:(s,t)=>Math.exp(-t*s*1.2)+.1*Math.random()}},sM={sgd:{label:"SGD",stability:.9},adam:{label:"Adam",stability:.98},rmsprop:{label:"RMSprop",stability:.95}},aM=()=>{const[s,t]=R.useState("mse"),[a,i]=R.useState("adam"),[r,o]=R.useState(.01),d=50,h=rx[s].simulate,m=sM[a].stability,g=Array.from({length:d},(v,j)=>{const N=h(j+1,r)*(1+(1-m));return parseFloat(N.toFixed(4))}),x={labels:Array.from({length:d},(v,j)=>`E${j+1}`),datasets:[{label:"模擬損失值",data:g,borderColor:"#ef4444",backgroundColor:"rgba(239,68,68,0.2)",fill:!0,tension:.3}]},b={scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-loss-optimizer",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 損失函數與優化器模擬器"}),u.jsxs("div",{className:"mb-4 flex flex-wrap gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"損失函數："}),u.jsxs("select",{value:s,onChange:v=>t(v.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"mse",children:"MSE（回歸任務）"}),u.jsx("option",{value:"crossentropy",children:"CrossEntropy（分類任務）"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"優化器："}),u.jsxs("select",{value:a,onChange:v=>i(v.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"sgd",children:"SGD"}),u.jsx("option",{value:"adam",children:"Adam"}),u.jsx("option",{value:"rmsprop",children:"RMSprop"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"學習率："}),u.jsx("input",{type:"range",min:.001,max:.1,step:.001,value:r,onChange:v=>o(parseFloat(v.target.value)),className:"w-40"}),u.jsx("span",{className:"ml-2 text-sm text-gray-700",children:r.toFixed(3)})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📉 模擬損失下降曲線"}),u.jsx(Da,{data:x,options:b}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"不同損失函數與優化器會影響模型的收斂速度與穩定性。"})]}),u.jsx(Qe,{selected:[rx[s].glossaryKey,a.charAt(0).toUpperCase()+a.slice(1),"損失函數（Loss Function）","優化器（Optimizer）"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"損失函數是模型學習的目標指標，用來衡量預測值與真實值的差距。MSE 適用於回歸任務，強調數值誤差；CrossEntropy 適用於分類任務，強調機率分布的準確性。"}),u.jsx("p",{className:"mt-2",children:"優化器則負責根據損失函數的梯度更新模型參數。Adam 通常收斂快且穩定，SGD 收斂慢但可控，RMSprop 適合非平穩資料。兩者搭配影響模型的學習速度與穩定性。"}),u.jsx("p",{className:"mt-2",children:"學習率是最關鍵的超參數之一，太大會震盪，太小會收斂慢。可搭配學習率調度策略進行動態調整。"})]})]})},iM=()=>{const[s,t]=R.useState(!0),[a,i]=R.useState(!1),[r,o]=R.useState(!1),d=50,h=[],m=[];for(let v=1;v<=d;v++){let j=.6+.4*Math.tanh(v/10),S=.55+.3*Math.tanh(v/15);s&&(S+=.02),a&&(S+=.015),r&&v>35&&(S-=.03),h.push(parseFloat(j.toFixed(3))),m.push(parseFloat(Math.min(S,j).toFixed(3)))}const g={labels:Array.from({length:d},(v,j)=>`E${j+1}`),datasets:[{label:"訓練集準確率",data:h,borderColor:"#3b82f6",backgroundColor:"rgba(59,130,246,0.2)",fill:!1,tension:.3},{label:"驗證集準確率",data:m,borderColor:"#10b981",backgroundColor:"rgba(16,185,129,0.2)",fill:!1,tension:.3}]},x={scales:{y:{beginAtZero:!0,max:1}},plugins:{legend:{position:"top"}}},b=Math.max(...h.map((v,j)=>v-m[j])).toFixed(3);return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-overfitting-control",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 過擬合與正則化互動模組"}),u.jsxs("div",{className:"mb-4 flex flex-wrap gap-6",children:[u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:s,onChange:()=>t(!s)}),u.jsx("span",{children:"使用 Dropout"})]}),u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:a,onChange:()=>i(!a)}),u.jsx("span",{children:"使用 L2 正則化"})]}),u.jsxs("label",{className:"flex items-center space-x-2",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:()=>o(!r)}),u.jsx("span",{children:"使用 EarlyStopping"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📈 模擬訓練與驗證準確率"}),u.jsx(Da,{data:g,options:x}),u.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["最大準確率差距（過擬合指標）：",u.jsx("strong",{children:b})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:["過擬合（Overfitting）",...s?["Dropout"]:[],...a?["L2 正則化"]:[],...r?["EarlyStopping"]:[]]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"過擬合代表模型在訓練集表現良好，但在驗證集表現不佳，無法泛化。可透過 Dropout、L2、EarlyStopping 等策略改善。"}),u.jsx("p",{className:"mt-2",children:"本模組展示不同正則化策略對模型泛化能力的影響，幫助學員建立穩定訓練與部署前驗證的觀念。"})]})]})},lM=()=>{const[s,t]=R.useState("batchnorm"),a=Array.from({length:10},(g,x)=>{const b=Math.random()*2-1;return parseFloat(s==="batchnorm"?(b/1.5).toFixed(2):s==="layernorm"?(b/1.2).toFixed(2):b.toFixed(2))}),i={labels:a.map((g,x)=>`N${x+1}`),datasets:[{label:"激活值",data:a,backgroundColor:"#3b82f6"}]},r={scales:{y:{beginAtZero:!1,min:-2,max:2}},plugins:{legend:{display:!1}}},o=Array.from({length:30},(g,x)=>{const b=Math.exp(-x/8),v=Math.random()*.05;return parseFloat((b*(s==="batchnorm"?1:s==="layernorm"?1.2:1.5)+v).toFixed(3))}),d={labels:Array.from({length:30},(g,x)=>`E${x+1}`),datasets:[{label:"模擬損失值",data:o,borderColor:"#f59e0b",backgroundColor:"rgba(245,158,11,0.2)",fill:!0,tension:.3}]},h={scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}},m=s==="batchnorm"?"BatchNorm":s==="layernorm"?"LayerNorm":"激活值分布";return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-normalization-visualizer",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 正規化視覺化模組"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇正規化方式："}),u.jsxs("select",{value:s,onChange:g=>t(g.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"batchnorm",children:"Batch Normalization"}),u.jsx("option",{value:"layernorm",children:"Layer Normalization"}),u.jsx("option",{value:"none",children:"無正規化"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 激活值分布（模擬）"}),u.jsx(At,{data:i,options:r}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"正規化能使激活值分布更集中，減少梯度爆炸與消失。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📉 模擬損失下降曲線"}),u.jsx(Da,{data:d,options:h}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"正規化可加速收斂並提升訓練穩定性。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:["正規化視覺化",m]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"BatchNorm 在 mini-batch 上進行標準化，LayerNorm 在每個樣本內進行標準化，兩者皆可穩定激活分布並提升訓練效率。"}),u.jsx("p",{className:"mt-2",children:"可搭配 GradientFlowSimulator 與 LossOptimizerSimulator 使用，建立完整的訓練穩定性理解。"})]})]})},rM={image:{label:"圖像辨識",model:"CNN（卷積神經網路）",strategy:["使用卷積層提取局部空間特徵","池化層進行降維與平移不變性","適合處理像素矩陣與空間結構資料"],glossaryKey:"卷積（Convolution）"},text:{label:"文字分類",model:"RNN / Transformer",strategy:["RNN 處理時間序列與上下文依賴","Transformer 使用注意力機制捕捉語意關係","常搭配嵌入層（Embedding）進行語意轉換"],glossaryKey:"注意力機制（Attention）"},tabular:{label:"表格預測",model:"MLP（多層感知器）",strategy:["使用全連接層處理結構化欄位","需進行特徵縮放與缺值處理","適合回歸與分類任務"],glossaryKey:"特徵縮放（Feature Scaling）"},audio:{label:"語音辨識",model:"CNN + RNN",strategy:["CNN 處理頻譜圖的空間特徵","RNN 處理時間動態與語音序列","常使用 MFCC 或 Mel-Spectrogram 作為輸入"],glossaryKey:"頻譜特徵（Spectrogram）"}},oM=()=>{const[s,t]=R.useState("image"),a=rM[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-application-map",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧭 深度學習應用導覽地圖"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇應用領域："}),u.jsxs("select",{value:s,onChange:i=>t(i.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"image",children:"圖像辨識"}),u.jsx("option",{value:"text",children:"文字分類"}),u.jsx("option",{value:"tabular",children:"表格預測"}),u.jsx("option",{value:"audio",children:"語音辨識"})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📌 推薦模型架構"}),u.jsxs("p",{children:[u.jsx("strong",{children:a.model})," — 適合處理 ",a.label," 資料的特性。"]})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🧠 特徵處理策略"}),u.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a.strategy.map((i,r)=>u.jsx("li",{children:i},r))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 關鍵詞彙解釋"}),u.jsx(Qe,{selected:a.glossaryKey})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"每個應用領域都有其資料型態與結構特性，選擇合適的模型架構與特徵策略是成功的關鍵。"}),u.jsx("p",{className:"mt-2",children:"作為任務導向的模型選擇器，建立「資料 → 模型 → 特徵」的策略思維。"})]})]})},cM={mnist:{label:"MNIST（手寫數字）",type:"圖像",task:"分類",structure:"28x28 灰階像素矩陣",model:"CNN",strategy:["使用卷積層提取局部空間特徵","池化層進行降維與平移不變性","標準化像素值至 [0,1]"],glossaryKeys:["卷積（Convolution）","池化（Pooling）","特徵縮放（Feature Scaling）"]},imdb:{label:"IMDB（電影評論）",type:"文字",task:"情感分類",structure:"句子 → 詞彙 → 編碼序列",model:"RNN / Transformer",strategy:["使用嵌入層（Embedding）轉換詞彙為向量","RNN 處理序列依賴，Transformer 捕捉語意關係","常用詞彙表大小限制與 padding"],glossaryKeys:["嵌入（Embedding）","注意力機制（Attention）"]},titanic:{label:"Titanic（乘客生存預測）",type:"表格",task:"分類",structure:"結構化欄位（年齡、性別、艙等）",model:"MLP",strategy:["類別欄位需編碼（One-hot / Target Encoding）","數值欄位需標準化或分箱","處理缺值與欄位互動項"],glossaryKeys:["類別編碼（Encoding）","特徵縮放（Feature Scaling）"]},librispeech:{label:"LibriSpeech（語音辨識）",type:"語音",task:"語音轉文字",structure:"音訊 → 頻譜圖 → 時序特徵",model:"CNN + RNN / Transformer",strategy:["將音訊轉換為 Mel-Spectrogram 或 MFCC","CNN 處理空間特徵，RNN 處理時間動態","需進行時間對齊與語音標註"],glossaryKeys:["頻譜特徵（Spectrogram）","MFCC","Mel-Spectrogram"]}},uM=()=>{const[s,t]=R.useState("mnist"),a=cM[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-dataset-selector",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧬 資料集選擇器"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇資料集："}),u.jsxs("select",{value:s,onChange:i=>t(i.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"mnist",children:"MNIST（手寫數字）"}),u.jsx("option",{value:"imdb",children:"IMDB（電影評論）"}),u.jsx("option",{value:"titanic",children:"Titanic（乘客預測）"}),u.jsx("option",{value:"librispeech",children:"LibriSpeech（語音辨識）"})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📦 資料集屬性"}),u.jsxs("p",{children:[u.jsx("strong",{children:"型態："}),a.type]}),u.jsxs("p",{children:[u.jsx("strong",{children:"任務："}),a.task]}),u.jsxs("p",{children:[u.jsx("strong",{children:"結構："}),a.structure]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📌 推薦模型架構"}),u.jsxs("p",{children:[u.jsx("strong",{children:a.model})," — 適合處理此類資料型態與任務。"]})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🧠 特徵處理策略"}),u.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a.strategy.map((i,r)=>u.jsx("li",{children:i},r))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 關鍵詞彙解釋"}),a.glossaryKeys.map(i=>u.jsx("div",{className:"mb-4",children:u.jsx(Qe,{selected:i})},i))]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"資料集的型態與任務決定了模型架構與特徵處理策略。選擇合適的資料集是建立有效深度學習系統的第一步。"}),u.jsx("p",{className:"mt-2",children:"作為應用導向的資料集選擇器，搭配 ApplicationMap 使用效果更佳。"})]})]})},dM={resnet:{label:"ResNet（圖像）",baseAccuracy:.75,glossary:"遷移學習（Transfer Learning）"},bert:{label:"BERT（文字）",baseAccuracy:.8,glossary:"微調（Fine-tuning）"},wav2vec:{label:"Wav2Vec（語音）",baseAccuracy:.78,glossary:"語音特徵（Audio Embedding）"},vit:{label:"ViT（Vision Transformer）",baseAccuracy:.82,glossary:"Transformer 架構"}},hM={full:{label:"全部微調",multiplier:1},freeze:{label:"凍結底層，只訓練分類頭",multiplier:.85},head:{label:"只訓練最後一層",multiplier:.75}},fM={small:{label:"小型資料集",noise:.1},medium:{label:"中型資料集",noise:.05},large:{label:"大型資料集",noise:.02}},mM=()=>{const[s,t]=R.useState("bert"),[a,i]=R.useState("full"),[r,o]=R.useState("medium"),d=dM[s].baseAccuracy,h=hM[a].multiplier,m=fM[r].noise,g=30,x=Array.from({length:g},(N,M)=>{const E=Math.tanh(M/6),C=d*h*E+m*(Math.random()-.5);return parseFloat(Math.min(C,1).toFixed(3))}),b={labels:Array.from({length:g},(N,M)=>`E${M+1}`),datasets:[{label:"模擬準確率",data:x,borderColor:"#6366f1",backgroundColor:"rgba(99,102,241,0.2)",fill:!0,tension:.3}]},v={scales:{y:{beginAtZero:!0,max:1}},plugins:{legend:{display:!1}}},j=s==="resnet"?"ResNet":s==="bert"?"BERT":s==="wav2vec"?"Wav2Vec":"ViT",S=a==="full"?"全部微調":a==="freeze"?"凍結底層":"分類頭（Classification Head）";return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-transfer-learning",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 遷移學習與微調模組"}),u.jsxs("div",{className:"mb-4 flex flex-wrap gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"預訓練模型："}),u.jsxs("select",{value:s,onChange:N=>t(N.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"resnet",children:"ResNet（圖像）"}),u.jsx("option",{value:"bert",children:"BERT（文字）"}),u.jsx("option",{value:"wav2vec",children:"Wav2Vec（語音）"}),u.jsx("option",{value:"vit",children:"ViT（圖像 Transformer）"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"微調策略："}),u.jsxs("select",{value:a,onChange:N=>i(N.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"full",children:"全部微調"}),u.jsx("option",{value:"freeze",children:"凍結底層"}),u.jsx("option",{value:"head",children:"只訓練分類頭"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"資料量："}),u.jsxs("select",{value:r,onChange:N=>o(N.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"small",children:"小型"}),u.jsx("option",{value:"medium",children:"中型"}),u.jsx("option",{value:"large",children:"大型"})]})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📈 模擬模型表現"}),u.jsx(Da,{data:b,options:v}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"模型表現受資料量、微調策略與預訓練架構影響。資料越多，微調越深，準確率越高。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:[j,S,r==="small"?"小型資料集":r==="medium"?"中型資料集":"大型資料集"]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"遷移學習能大幅降低訓練成本，尤其在資料量不足時。選擇適當的微調策略能平衡效能與穩定性。"}),u.jsx("p",{className:"mt-2",children:"可作為模型選擇與訓練策略設計的起點，搭配 DatasetSelector 與 ApplicationMap 使用效果更佳。"})]})]})},ox=[{id:"lenet",year:1998,name:"LeNet",innovation:"首次使用卷積層進行圖像分類",usage:"手寫數字辨識（MNIST）",glossaryKey:"卷積（Convolution）"},{id:"alexnet",year:2012,name:"AlexNet",innovation:"使用 ReLU、Dropout、大規模 GPU 訓練",usage:"ImageNet 圖像分類競賽冠軍",glossaryKey:"ReLU"},{id:"vgg",year:2014,name:"VGG",innovation:"使用大量小卷積核（3x3）堆疊，提升深度",usage:"圖像分類與特徵提取",glossaryKey:"深層網路（Deep Network）"},{id:"resnet",year:2015,name:"ResNet",innovation:"引入殘差連接（Residual Connection），解決梯度消失",usage:"深層圖像分類、物件偵測",glossaryKey:"殘差連接（Residual）"},{id:"transformer",year:2017,name:"Transformer",innovation:"完全基於注意力機制，取代 RNN 結構",usage:"自然語言處理（NLP）、翻譯、生成",glossaryKey:"注意力機制（Attention）"},{id:"vit",year:2020,name:"ViT（Vision Transformer）",innovation:"將圖像切片後以 Transformer 處理，無卷積",usage:"圖像分類、生成、視覺語意建模",glossaryKey:"Vision Transformer"}],gM=()=>{const[s,t]=R.useState("resnet"),a=ox.find(i=>i.id===s);return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-architecture-timeline",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"📜 深度學習架構演進圖"}),u.jsx("div",{className:"flex flex-wrap gap-4 mb-6",children:ox.map(i=>u.jsxs("button",{onClick:()=>t(i.id),className:`px-3 py-1 rounded border ${s===i.id?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:[i.year," — ",i.name]},i.id))}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["🧠 ",a.name," 架構亮點"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"創新點："}),a.innovation]}),u.jsxs("p",{children:[u.jsx("strong",{children:"應用場景："}),a.usage]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 關鍵技術詞彙"}),u.jsx(Qe,{selected:a.glossaryKey})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"深度學習架構的演進反映了對資料型態、訓練穩定性與語意建模的持續探索。"}),u.jsx("p",{className:"mt-2",children:"作為模型選擇的歷史脈絡導覽器，理解架構設計背後的問題解法。"})]})]})},pM=s=>{const t=s.map(i=>Math.exp(i)),a=t.reduce((i,r)=>i+r,0);return t.map(i=>parseFloat((i/a).toFixed(3)))},xM=()=>{const[s,t]=R.useState("The cat sat on the mat"),a=s.trim().split(/\s+/).slice(0,6),i=4,r=["注意力機制（Attention）","Softmax","Query","Key","Value"],o=a.map(()=>({q:Array(i).fill(0).map(()=>Math.random()),k:Array(i).fill(0).map(()=>Math.random()),v:Array(i).fill(0).map(()=>Math.random())})),d=a.map((h,m)=>{const g=o[m].q,x=a.map((b,v)=>{const j=o[v].k;return g.reduce((N,M,E)=>N+M*j[E],0)/Math.sqrt(i)});return pM(x)});return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-attention-explorer",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧠 注意力機制模擬器"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-2",children:"輸入句子："}),u.jsx("input",{type:"text",value:s,onChange:h=>t(h.target.value),className:"border px-2 py-1 rounded w-full max-w-xl"}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"最多顯示前 6 個詞的注意力分布"})]}),u.jsxs("div",{className:"mb-6 overflow-x-auto",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 注意力分布矩陣"}),u.jsxs("table",{className:"table-auto border text-sm text-center",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-2 py-1 bg-gray-100",children:"Query ↓ / Key →"}),a.map((h,m)=>u.jsx("th",{className:"px-2 py-1 bg-gray-100",children:h},m))]})}),u.jsx("tbody",{children:a.map((h,m)=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 py-1 font-medium bg-gray-50",children:h}),d[m].map((g,x)=>u.jsx("td",{className:"px-2 py-1",children:g},x))]},m))})]}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"每個 Query 對所有 Key 的注意力分數，越高表示越關注。"})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📐 Self-Attention 公式"}),u.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded",children:"Attention(Q, K, V) = softmax(QKᵀ / √d) × V"}),u.jsx("p",{className:"mt-2",children:"Q = Query、K = Key、V = Value，d 為向量維度。softmax 用來分配注意力權重。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 關鍵詞彙解釋"}),r.map(h=>u.jsx("div",{className:"mb-4",children:u.jsx(Qe,{selected:h})},h))]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"注意力機制能讓模型根據語意關係動態分配權重，捕捉長距依賴與關鍵詞對齊，是 Transformer 架構的核心。"}),u.jsx("p",{className:"mt-2",children:"作為 NLP、語音、圖像生成等任務的語意建模起點，搭配 Transformer 模型探索效果更佳。"})]})]})},bM={gender:{label:"性別偏見",groups:["男性","女性"],accuracy:[.92,.78],glossary:"性別偏見",mitigation:["重加權訓練","遮蔽性別特徵","公平性損失函數"]},race:{label:"種族偏見",groups:["群體 A","群體 B"],accuracy:[.88,.72],glossary:"種族偏見",mitigation:["群體平衡抽樣","對抗式訓練","公平性正則化"]},region:{label:"地區偏見",groups:["都市","鄉村"],accuracy:[.9,.76],glossary:"地區偏見",mitigation:["資料擴充","地區特徵重編碼","公平性監控"]},language:{label:"語言偏見",groups:["英文","非英文"],accuracy:[.93,.7],glossary:"語言偏見",mitigation:["多語語料訓練","語言嵌入調整","語言識別前處理"]}},yM=[{name:"Demographic Parity",formula:"P(ŷ = 1 | A = group1) = P(ŷ = 1 | A = group2)",meaning:"不同群體的預測機率應相等"},{name:"Equal Opportunity",formula:"P(ŷ = 1 | Y = 1, A = group1) = P(ŷ = 1 | Y = 1, A = group2)",meaning:"在真實為正例時，各群體的預測機率應相等"},{name:"Equalized Odds",formula:"P(ŷ = y | Y = y, A = group1) = P(ŷ = y | Y = y, A = group2)",meaning:"各群體在真實標籤下的預測分布應一致"}],vM=()=>{const[s,t]=R.useState("gender"),a=bM[s];return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-ethics-bias",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"⚖️ 深度學習倫理與偏見模組"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇偏見案例："}),u.jsxs("select",{value:s,onChange:i=>t(i.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"gender",children:"性別偏見"}),u.jsx("option",{value:"race",children:"種族偏見"}),u.jsx("option",{value:"region",children:"地區偏見"}),u.jsx("option",{value:"language",children:"語言偏見"})]})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 模型預測差異"}),u.jsx("ul",{className:"list-disc pl-5",children:a.groups.map((i,r)=>u.jsxs("li",{children:[u.jsx("strong",{children:i})," → 準確率：",a.accuracy[r]]},r))}),u.jsx("p",{className:"mt-2 text-gray-500",children:"差距可能來自資料不平衡、特徵偏差或訓練策略不當。"})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📐 公平性指標"}),u.jsx("ul",{className:"list-disc pl-5 space-y-1",children:yM.map((i,r)=>u.jsxs("li",{children:[u.jsx("strong",{children:i.name})," — ",i.meaning,u.jsx("div",{className:"font-mono text-blue-700",children:i.formula})]},r))})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🛠️ 偏見緩解策略"}),u.jsx("ul",{className:"list-disc pl-5 space-y-1",children:a.mitigation.map((i,r)=>u.jsx("li",{children:i},r))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 關鍵詞彙解釋"}),u.jsx(Qe,{selected:a.glossary})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"模型偏見不僅是技術問題，更是社會責任。公平性評估應成為模型部署前的必要步驟。"}),u.jsx("p",{className:"mt-2",children:"作為深度學習倫理教學的起點，搭配模型評估與資料分析模組使用效果更佳。"})]})]})},cx=[{id:"deep-learning-intro",title:"深度學習導論",description:"介紹神經網路結構、激活函數與訓練流程",glossary:"神經元（Neuron）"},{id:"model-structure",title:"模型結構探索",description:"探索 MLP、CNN、RNN、Transformer 架構與用途",glossary:"模型架構"},{id:"model-parameters",title:"參數與超參數解釋",description:"理解模型參數與訓練前設定的超參數",glossary:"超參數（Hyperparameter）"},{id:"activation-functions",title:"激活函數比較",description:"比較 ReLU、Sigmoid、Tanh 的輸出與梯度特性",glossary:"激活函數（Activation）"},{id:"gradient-flow",title:"梯度流動模擬",description:"模擬深層網路中梯度消失與爆炸現象",glossary:"梯度消失與爆炸"},{id:"true-backprop",title:"反向傳播模擬器",description:"展示 forward → loss → backward 的真實流程",glossary:"反向傳播（Backpropagation）"},{id:"loss-optimizer",title:"損失與優化器模擬",description:"比較 MSE / CrossEntropy 與 SGD / Adam 的收斂行為",glossary:["損失與優化器模擬","MSE","CrossEntropy","SGD","Adam"]},{id:"overfitting-control",title:"過擬合與正則化",description:"展示 Dropout、L2、EarlyStopping 的效果",glossary:["過擬合與正則化","正則化（Regularization）","Dropout","L2 正則化","EarlyStopping"]},{id:"application-map",title:"應用導覽地圖",description:"依任務推薦模型與特徵策略",glossary:"語意建模"},{id:"dataset-selector",title:"資料集選擇器",description:"選擇資料集並顯示型態、任務與推薦模型",glossary:"資料型態"},{id:"transfer-learning",title:"遷移學習與微調",description:"使用預訓練模型進行下游任務微調",glossary:"遷移學習（Transfer Learning）"},{id:"architecture-timeline",title:"架構演進圖",description:"導覽 LeNet → ResNet → Transformer 的創新歷程",glossary:"架構設計"},{id:"attention-explorer",title:"注意力機制模擬器",description:"展示 Self-Attention 的語意對齊與分配邏輯",glossary:"注意力機制（Attention）"},{id:"ethics-bias",title:"倫理與偏見模組",description:"分析模型偏見與公平性指標",glossary:"公平性（Fairness）"}],jM=()=>{const[s,t]=R.useState(cx[0].glossary);return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-learning-flow",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧭 深度學習教學流程導覽器"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:cx.map(a=>u.jsxs("div",{className:"border rounded p-4 bg-gray-50 hover:bg-gray-100 transition cursor-pointer",onClick:()=>t(a.glossary),children:[u.jsx("h3",{className:"text-lg font-semibold text-indigo-700 mb-1",children:a.title}),u.jsx("p",{className:"text-sm text-gray-700 mb-1",children:a.description}),u.jsx("a",{href:`#module-${a.id}`,className:"text-sm text-indigo-500 underline mt-2 inline-block",children:"前往模組 →"})]},a.id))}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 關鍵詞彙解釋"}),u.jsx(Qe,{selected:s})]}),u.jsx("div",{className:"text-sm text-gray-600",children:u.jsx("p",{children:"整合所有模組，依照邏輯排序，建立系統性學習流程。"})})]})},_M=[{name:"Accuracy",formula:"(TP + TN) / (TP + TN + FP + FN)",meaning:"整體預測正確率"},{name:"Precision",formula:"TP / (TP + FP)",meaning:"預測為正例中，實際為正例的比例"},{name:"Recall",formula:"TP / (TP + FN)",meaning:"實際正例中，被正確預測的比例"},{name:"F1-score",formula:"2 × (Precision × Recall) / (Precision + Recall)",meaning:"Precision 與 Recall 的調和平均"}],NM=[{name:"MSE",formula:"(1/n) ∑(y - ŷ)²",meaning:"均方誤差，衡量預測與真實值的差距"},{name:"MAE",formula:"(1/n) ∑|y - ŷ|",meaning:"平均絕對誤差，對離群值較不敏感"},{name:"R²",formula:"1 - (∑(y - ŷ)² / ∑(y - ȳ)²)",meaning:"解釋變異比例，越接近 1 表示模型越好"}],zr={TP:45,FP:10,FN:5,TN:40},SM=()=>{const[s,t]=R.useState("classification"),a=s==="classification"?_M:NM;return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-model-evaluation",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"📊 模型評估模組"}),u.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"模型評估是深度學習流程中不可或缺的一環。它不僅用來衡量模型效能，更是判斷模型是否適合實際應用的依據。透過正確的評估指標，我們能了解模型在不同任務（分類或回歸）中的表現，並進一步調整架構、參數或資料策略。"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"font-medium mr-4",children:"選擇任務類型："}),u.jsxs("select",{value:s,onChange:i=>t(i.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"classification",children:"分類任務"}),u.jsx("option",{value:"regression",children:"回歸任務"})]})]}),u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📐 評估指標與公式"}),u.jsx("ul",{className:"list-disc pl-5 space-y-2",children:a.map((i,r)=>u.jsxs("li",{children:[u.jsx("strong",{children:i.name})," — ",i.meaning,u.jsx("div",{className:"font-mono text-blue-700",children:i.formula})]},r))})]}),s==="classification"&&u.jsxs("div",{className:"mb-6 text-sm text-gray-700",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🧮 混淆矩陣（模擬）"}),u.jsxs("table",{className:"table-auto border text-center text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-2 py-1 bg-gray-100",children:"實際 / 預測"}),u.jsx("th",{className:"px-2 py-1 bg-gray-100",children:"正例"}),u.jsx("th",{className:"px-2 py-1 bg-gray-100",children:"負例"})]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 py-1 font-medium bg-gray-50",children:"正例"}),u.jsx("td",{className:"px-2 py-1",children:zr.TP}),u.jsx("td",{className:"px-2 py-1",children:zr.FN})]}),u.jsxs("tr",{children:[u.jsx("td",{className:"px-2 py-1 font-medium bg-gray-50",children:"負例"}),u.jsx("td",{className:"px-2 py-1",children:zr.FP}),u.jsx("td",{className:"px-2 py-1",children:zr.TN})]})]})]}),u.jsx("p",{className:"mt-2 text-gray-500",children:"混淆矩陣可視化模型在不同類別上的預測準確性與偏誤。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:s==="classification"?["分類任務評估","Accuracy","Precision","Recall","F1-score"]:["回歸任務評估","MSE","MAE","R²"]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"模型評估不僅是效能指標，更是業務決策的依據。不同任務需選擇不同指標，並考慮資料偏差與任務目標。"}),u.jsx("p",{className:"mt-2",children:"可搭配 EthicsAndBiasPanel、LossOptimizerSimulator 使用，建立完整的模型評估與公平性理解。"})]})]})},ux={relu:{label:"ReLU",fn:s=>Math.max(0,s),derivative:s=>s>0?1:0},sigmoid:{label:"Sigmoid",fn:s=>1/(1+Math.exp(-s)),derivative:s=>{const t=1/(1+Math.exp(-s));return t*(1-t)}}},MM={random:()=>Math.random()*2-1,xavier:()=>Math.random()*Math.sqrt(1/4),he:()=>Math.random()*Math.sqrt(2/4)},TM=()=>{const[s,t]=R.useState("relu"),[a,i]=R.useState("xavier"),[r]=R.useState(5),o=4,d=Array(o).fill(0).map(()=>Math.random()),h=Array(o).fill(.5),m=Array(r).fill(0).map(()=>Array(o).fill(0).map(()=>MM[a]())),g=[];g[0]=d;for(let N=1;N<r;N++)g[N]=g[N-1].map((M,E)=>{const C=g[N-1].reduce((V,U,B)=>V+U*m[N][B],0);return ux[s].fn(C)});const x=g[r-1],b=x.reduce((N,M,E)=>N+Math.pow(M-h[E],2),0)/o,v=[];v[r-1]=x.map((N,M)=>2*(N-h[M]));for(let N=r-2;N>=0;N--)v[N]=v[N+1].map((M,E)=>{const C=g[N][E],V=ux[s].derivative(C);return M*V});const j={labels:Array.from({length:r},(N,M)=>`L${M+1}`),datasets:[{label:"每層平均梯度值",data:v.map(N=>parseFloat((N.reduce((M,E)=>M+Math.abs(E),0)/N.length).toFixed(4))),backgroundColor:"#10b981"}]},S={scales:{y:{beginAtZero:!0,max:1}},plugins:{legend:{display:!1}}};return u.jsxs("div",{className:"p-4 bg-white rounded shadow",id:"module-true-backprop",children:[u.jsx("h2",{className:"text-xl font-bold mb-4",children:"🧩 真實反向傳播模擬器"}),u.jsxs("div",{className:"mb-4 flex space-x-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"激活函數："}),u.jsxs("select",{value:s,onChange:N=>t(N.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"relu",children:"ReLU"}),u.jsx("option",{value:"sigmoid",children:"Sigmoid"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium mr-2",children:"初始化策略："}),u.jsxs("select",{value:a,onChange:N=>i(N.target.value),className:"border px-2 py-1 rounded",children:[u.jsx("option",{value:"random",children:"Random"}),u.jsx("option",{value:"xavier",children:"Xavier"}),u.jsx("option",{value:"he",children:"He"})]})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-700",children:[u.jsxs("p",{children:["模擬輸出值：",u.jsx("strong",{children:x.map(N=>N.toFixed(2)).join(", ")})]}),u.jsxs("p",{children:["目標值：",u.jsx("strong",{children:h.join(", ")})]}),u.jsxs("p",{children:["均方誤差（MSE）：",u.jsx("strong",{children:b.toFixed(4)})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"📊 每層平均梯度值"}),u.jsx(At,{data:j,options:S}),u.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"梯度值越穩定，模型越容易訓練；若梯度消失或爆炸，模型將難以收斂。"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"🔍 詞彙解釋"}),u.jsx(Qe,{selected:[current.glossary,"TrueBackpropSimulator"]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("p",{children:"展示了反向傳播中梯度如何在不同層流動，並受激活函數與初始化策略影響。"}),u.jsx("p",{className:"mt-2",children:"你可以進一步探索 BatchNorm、Dropout、不同損失函數對梯度穩定性的影響。"})]})]})},EM=()=>u.jsxs("div",{className:"p-6 bg-gray-50 space-y-12",children:[u.jsxs("nav",{className:"mb-6 flex justify-between items-center",children:[u.jsx(is,{to:"/",className:"text-blue-600 hover:underline text-sm",children:"➤ 回到資料前處理教學分頁"}),u.jsx(is,{to:"/feature-engineering",className:"text-blue-600 hover:underline text-sm",children:"➤ 前往特徵工程教學分頁"})]}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"🧠 深度學習互動導論"}),u.jsx(jM,{}),u.jsx(KS,{}),u.jsx(WS,{}),u.jsx($S,{}),u.jsx(IS,{}),u.jsx(nM,{}),u.jsx(aM,{}),u.jsx(iM,{}),u.jsx(lM,{}),u.jsx(Ob,{}),u.jsx(oM,{}),u.jsx(uM,{}),u.jsx(mM,{}),u.jsx(gM,{}),u.jsx(xM,{}),u.jsx(Qe,{}),u.jsx(vM,{}),u.jsx(SM,{task:"classification"}),u.jsx(TM,{})]}),AM=()=>u.jsx(mS,{basename:"/dl-visual-modules",children:u.jsxs(XN,{children:[u.jsx(Br,{path:"/",element:u.jsx(SS,{})}),u.jsx(Br,{path:"/feature-engineering",element:u.jsx(XS,{})}),u.jsx(Br,{path:"/deep-learning",element:u.jsx(EM,{})})]})}),DM=()=>u.jsxs("div",{children:[u.jsxs("nav",{className:"mb-6 space-x-4",children:[u.jsx("a",{href:"/",className:"text-blue-600 hover:underline",children:"資料前處理教學"}),u.jsx("a",{href:"/feature-engineering",className:"text-blue-600 hover:underline",children:"特徵工程教學"}),u.jsx("a",{href:"/deep-learning",className:"text-blue-600 hover:underline",children:"特徵工程教學"})]}),u.jsx(AM,{})]});Jr.register(B_,V_,$2,X2,Ir,M_,w_,N_,x_);cv.createRoot(document.getElementById("root")).render(u.jsx(sd.StrictMode,{children:u.jsx(DM,{})}));
